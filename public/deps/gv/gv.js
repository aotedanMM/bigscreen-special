!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("g2"),require("echarts"),require("echarts-liquidfill"),require("echarts-gl"),require("babel-polyfill"),require("echarts-wordcloud"),require("kriging"));else if("function"==typeof define&&define.amd)define(["g2","echarts","echarts-liquidfill","echarts-gl","babel-polyfill","echarts-wordcloud","kriging"],e);else{var i="object"==typeof exports?e(require("g2"),require("echarts"),require("echarts-liquidfill"),require("echarts-gl"),require("babel-polyfill"),require("echarts-wordcloud"),require("kriging")):e(t.g2,t.echarts,t["echarts-liquidfill"],t["echarts-gl"],t["babel-polyfill"],t["echarts-wordcloud"],t.kriging);for(var r in i)("object"==typeof exports?exports:t)[r]=i[r]}}(window,function(t,e,i,r,n,o,a){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=124)}([function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(2),a=function(t){function e(e,i,r){var n=t.call(this,e,i)||this;return n.payload={},n.echart_obj=o.init(r),n.chartName=i,n}return n(e,t),e.prototype.setData=function(t){this.configSeries(t);for(var e={source:t.asArray(),dimensions:[]},i=t.get(0),r=0;r<i.getCount();r++){var n=i.get(r);e.dimensions.push({name:n.name,displayName:n.alias})}var o=this.config("dataset",e).findAll();this.echart_obj.setOption(o),this.echart_obj.resize(),this.payload.hasOwnProperty("type")&&this.echart_obj.dispatchAction(this.payload)},e.prototype.on=function(t,e,i){this.echart_obj.on(t,i,e)},e.prototype.un=function(t,e){this.echart_obj.off(t,e)},e.prototype.setHoverColor=function(t){var e=this.echart_obj.getZr();this.echart_obj.on("mouseover",function(i){console.log(i);var r=i.event.target;e.addHover(r,{textFill:t})}),this.echart_obj.on("mouseout",function(t){var i=t.event.target;e.removeHover(i)})},e.prototype.dispatchAction=function(t){this.payload=t},e.prototype.getZr=function(){return this.echart_obj.getZr()},e.prototype.getModel=function(){return this.echart_obj.getModel()},e.prototype.configSeries=function(t){var e=this.getTemplateCount();if(e)for(var i=this.findAll(),r=t.get(0).getCount()-1,n={},o=0,a=this.getStartSeriesIndex(),s=a;o<r;){i.series[s]||(i.series[s]={});var l=JSON.parse(JSON.stringify(i.series[s%e+a]));s%e+a!=s&&(l.myType=void 0),(!i.series[s].hasOwnProperty("myType")||i.series[s].hasOwnProperty("myType")&&i.series[s].myType)&&(n=this.configSeriesNode(JSON.parse(JSON.stringify(l)),i.series[s]),this.config("series["+s+"]",n),o++),s++}},e.prototype.configSeriesNode=function(t,e){var i=this;return"object"==typeof e&&Object.keys(t).forEach(function(r){if(e.hasOwnProperty(r)){var n=i.configSeriesNode(t[r],e[r]);n&&(e[r]=n)}else e[r]=t[r]}),e},e.prototype.getTemplateCount=function(){for(var t=this.findAll().series,e=0,i=0;i<t.length&&(!t[i].hasOwnProperty("myType")||t[i].hasOwnProperty("myType")&&!t[i].myType);)i++;for(;t.hasOwnProperty(i)&&i<t.length&&t[i].hasOwnProperty("myType")&&t[i].myType;)e++,i++;return e},e.prototype.getStartSeriesIndex=function(){for(var t=this.findAll().series,e=0;e<t.length&&t[e].hasOwnProperty("myType")&&!t[e].myType;)e++;return e},e}(i(85).StatChart);e.EChart=a},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e){var i={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},r={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},n=Object.prototype.toString,o=Array.prototype,a=o.forEach,s=o.filter,l=o.slice,h=o.map,c=o.reduce,u={};function p(t){if(null==t||"object"!=typeof t)return t;var e=t,o=n.call(t);if("[object Array]"===o){if(!C(t)){e=[];for(var a=0,s=t.length;a<s;a++)e[a]=p(t[a])}}else if(r[o]){if(!C(t)){var l=t.constructor;if(t.constructor.from)e=l.from(t);else for(e=new l(t.length),a=0,s=t.length;a<s;a++)e[a]=p(t[a])}}else if(!i[o]&&!C(t)&&!w(t))for(var h in e={},t)t.hasOwnProperty(h)&&(e[h]=p(t[h]));return e}function f(t,e,i){if(!b(e)||!b(t))return i?p(e):t;for(var r in e)if(e.hasOwnProperty(r)){var n=t[r],o=e[r];!b(o)||!b(n)||_(o)||_(n)||w(o)||w(n)||x(o)||x(n)||C(o)||C(n)?!i&&r in t||(t[r]=p(e[r])):f(n,o,i)}return t}function y(t,e,i){for(var r in e)e.hasOwnProperty(r)&&(i?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}var d,v=function(){return u.createCanvas()};function g(t,e,i){if(t&&e)if(t.forEach&&t.forEach===a)t.forEach(e,i);else if(t.length===+t.length)for(var r=0,n=t.length;r<n;r++)e.call(i,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function m(t,e){var i=l.call(arguments,2);return function(){return t.apply(e,i.concat(l.call(arguments)))}}function _(t){return"[object Array]"===n.call(t)}function b(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function x(t){return!!i[n.call(t)]}function w(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}u.createCanvas=function(){return document.createElement("canvas")};var S="__ec_primitive__";function C(t){return t[S]}function O(t){var e=_(t);this.data={};var i=this;function r(t,r){e?i.set(t,r):i.set(r,t)}t instanceof O?t.each(r):t&&g(t,r)}O.prototype={constructor:O,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var i in void 0!==e&&(t=m(t,e)),this.data)this.data.hasOwnProperty(i)&&t(this.data[i],i)},removeKey:function(t){delete this.data[t]}},e.$override=function(t,e){"createCanvas"===t&&(d=null),u[t]=e},e.clone=p,e.merge=f,e.mergeAll=function(t,e){for(var i=t[0],r=1,n=t.length;r<n;r++)i=f(i,t[r],e);return i},e.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},e.defaults=y,e.createCanvas=v,e.getContext=function(){return d||(d=v().getContext("2d")),d},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i}return-1},e.inherits=function(t,e){var i=t.prototype;function r(){}for(var n in r.prototype=e.prototype,t.prototype=new r,i)t.prototype[n]=i[n];(t.prototype.constructor=t).superClass=e},e.mixin=function(t,e,i){y(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,i)},e.isArrayLike=function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},e.each=g,e.map=function(t,e,i){if(t&&e){if(t.map&&t.map===h)return t.map(e,i);for(var r=[],n=0,o=t.length;n<o;n++)r.push(e.call(i,t[n],n,t));return r}},e.reduce=function(t,e,i,r){if(t&&e){if(t.reduce&&t.reduce===c)return t.reduce(e,i,r);for(var n=0,o=t.length;n<o;n++)i=e.call(r,i,t[n],n,t);return i}},e.filter=function(t,e,i){if(t&&e){if(t.filter&&t.filter===s)return t.filter(e,i);for(var r=[],n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t)&&r.push(t[n]);return r}},e.find=function(t,e,i){if(t&&e)for(var r=0,n=t.length;r<n;r++)if(e.call(i,t[r],r,t))return t[r]},e.bind=m,e.curry=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},e.isArray=_,e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"[object String]"===n.call(t)},e.isObject=b,e.isBuiltInObject=x,e.isTypedArray=function(t){return!!r[n.call(t)]},e.isDom=w,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,i){return null!=t?t:null!=e?e:i},e.slice=function(){return Function.call.apply(l,arguments)},e.normalizeCssArray=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.trim=function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.setAsPrimitive=function(t){t[S]=!0},e.isPrimitive=C,e.createHashMap=function(t){return new O(t)},e.concatArray=function(t,e){for(var i=new t.constructor(t.length+e.length),r=0;r<t.length;r++)i[r]=t[r];var n=t.length;for(r=0;r<e.length;r++)i[r+n]=e[r];return i},e.noop=function(){}},function(t,e,i){var r=i(33),n=i(3),o=i(26),a=i(180),s=i(67).prototype.getCanvasPattern,l=Math.abs,h=new o(!0);function c(t){r.call(this,t),this.path=null}c.prototype={constructor:c,type:"path",__dirtyPath:!0,strokeContainThreshold:5,subPixelOptimize:!1,brush:function(t,e){var i,r=this.style,n=this.path||h,o=r.hasStroke(),a=r.hasFill(),l=r.fill,c=r.stroke,u=a&&!!l.colorStops,p=o&&!!c.colorStops,f=a&&!!l.image,y=o&&!!c.image;r.bind(t,this,e),this.setTransform(t),this.__dirty&&(u&&(i=i||this.getBoundingRect(),this._fillGradient=r.getGradient(t,l,i)),p&&(i=i||this.getBoundingRect(),this._strokeGradient=r.getGradient(t,c,i))),u?t.fillStyle=this._fillGradient:f&&(t.fillStyle=s.call(l,t)),p?t.strokeStyle=this._strokeGradient:y&&(t.strokeStyle=s.call(c,t));var d=r.lineDash,v=r.lineDashOffset,g=!!t.setLineDash,m=this.getGlobalScale();if(n.setScale(m[0],m[1]),this.__dirtyPath||d&&!g&&o?(n.beginPath(t),d&&!g&&(n.setLineDash(d),n.setLineDashOffset(v)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a)if(null!=r.fillOpacity){var _=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,n.fill(t),t.globalAlpha=_}else n.fill(t);d&&g&&(t.setLineDash(d),t.lineDashOffset=v),o&&(null!=r.strokeOpacity?(_=t.globalAlpha,t.globalAlpha=r.strokeOpacity*r.opacity,n.stroke(t),t.globalAlpha=_):n.stroke(t)),d&&g&&t.setLineDash([]),null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new o},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var r=this.path;r||(r=this.path=new o),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()}if(this._rect=t,e.hasStroke()){var n=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){n.copy(t);var a=e.lineWidth,s=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),1e-10<s&&(n.width+=a/s,n.height+=a/s,n.x-=a/s/2,n.y-=a/s/2)}return n}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),n=this.style;if(t=i[0],e=i[1],r.contain(t,e)){var o=this.path.data;if(n.hasStroke()){var s=n.lineWidth,l=n.strokeNoScale?this.getLineScale():1;if(1e-10<l&&(n.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),a.containStroke(o,s/l,t,e)))return!0}if(n.hasFill())return a.contain(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):r.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(n.isObject(t))for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&1e-10<l(t[0]-1)&&1e-10<l(t[3]-1)?Math.sqrt(l(t[0]*t[3]-t[2]*t[1])):1}},c.extend=function(t){var e=function(e){c.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var r=this.shape;for(var n in i)!r.hasOwnProperty(n)&&i.hasOwnProperty(n)&&(r[n]=i[n])}t.init&&t.init.call(this,e)};for(var i in n.inherits(e,c),t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},n.inherits(c,r);var u=c;t.exports=u},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(36),a=i(13),s=i(17),l=i(294),h=i(296),c=function(t){function e(e,i,r){var n=t.call(this)||this;n._canvas=null,n.chartType=null,n._legendCanv=null,n.tooltip=null,n.source=e,n.chartType=r;var o=n.configGradient(i);return n._config=new a.ChartConfig(o),n.chartType||n.createCanvas(),n}return n(e,t),e.prototype.config=function(t,e){var i=t;if(t.includes("gradient[")){var r=t.indexOf("[")+1,n=t.split("[")[1].replace("]",""),o=this._config.findAll().gradient||[],a=!1;o.forEach(function(e,o){e.offset+""==n&&(i=t.substring(0,r)+o+"]",a=!0)}),a||(i=t.substring(0,r)+o.length+"]"),e||(e=void 0),e={offset:n,color:e}}else if("gradient"==t&&(e=e||null)){var s=Object.keys(e),l=[];s.forEach(function(t){l.push({offset:t,color:e[t]})}),e=[],e=l}return this._config.config(i,e),this},e.prototype.findAll=function(){var t=Object.assign({},this._config.findAll());if(t.hasOwnProperty("gradient")&&Array.isArray(t.gradient)){var e={};t.gradient.forEach(function(t){e[t.offset]=t.color}),t.gradient={},t.gradient=e}return t},e.prototype.render=function(){var t=this;this.source.getData().then(function(e){t.setData(e),t._renderCallBack&&t._renderCallBack()})},e.prototype.canvasFunction=function(t,e,i,r,n){return this._canvas.width=r[0],this._canvas.height=r[1],this.draw(this._canvas,t,e/i,i)},e.prototype.draw=function(t,e,i,r){},e.prototype.Legend=function(t,e){var i=this._layer.getLegendViewPort();if(this._legendCanv&&(i.removeChild(this._legendCanv),this._legendCanv=null),this._legendCanv=t.getLegend(e),this.mapType==s.MapType.TSGlobe){var r=document.createElement("div");r.style.position="absolute",r.appendChild(this._legendCanv),this._legendCanv=r}i.appendChild(this._legendCanv)},e.prototype.getLegend=function(){return this._legendCanv},e.prototype.Tooltip=function(t){var e=this._layer.getLegendViewPort();this.tooltip&&this.tooltip.tooltipDom&&(e.removeChild(this.tooltip.tooltipDom),this.tooltip.tooltipDom=null),this.tooltip=new h.ToolTip(t);var i=this.tooltip.createToolTip();e.appendChild(i)},e.prototype.bind=function(t,e){this.mapType=e,this._layer=l.LayerCreator.creator({mapType:e,map:t,canvasFunction:this.canvasFunction.bind(this),chartType:this.chartType,canvas:this._canvas})},e.prototype.unbind=function(){this.dispose(),this._layer.removeLayer(),this.removeComponent()},e.prototype.removeComponent=function(){var t=this._layer.getLegendViewPort();this._legendCanv&&t.removeChild(this._legendCanv),this.tooltip&&this.tooltip.tooltipDom&&t.removeChild(this.tooltip.tooltipDom)},e.prototype.createCanvas=function(){this._canvas=document.createElement("canvas")},e.prototype.configValue=function(t,e){var i=this;return Array.isArray(t)||Array.isArray(e)||"object"!=typeof t||"object"!=typeof e||(e.hasOwnProperty("splitList")&&(t.splitList=e.splitList,e.splitList.hasOwnProperty("other")||(t.splitList.other="white"),delete e.splitList),Object.keys(t).forEach(function(r){if(e.hasOwnProperty(r)){var n=i.configValue(t[r],e[r]);n&&(e[r]=n)}else e[r]=t[r]})),e},e.prototype.configGradient=function(t){var e=[];return t.hasOwnProperty("gradient")&&(Object.keys(t.gradient).forEach(function(i){e.push({offset:i,color:t.gradient[i]})}),t.gradient=e),t},e.prototype.getTimes=function(t,e,i){for(var r=[],n=0;n<t.length;n++)r.push(t[n][i.size]);var o=Math.max.apply(null,r),a=Math.ceil(Number(o)/e.pointStyle.maxSize);return a<1&&(a=1),a},e.prototype.getSplitList=function(t,e,i){for(var r=i||["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],n={},o=0,a=0;a<t.length;a++)if(void 0===n[t[a][e.type]]){if(!(++o<=r.length)){n.other="#000";break}n[t[a][e.type]]=r[o-1]}return n},e.prototype.configOptions=function(t,e){var i=this.configGradient(t),r=this.configGradient(e),n=this.configValue(i,r);this._config=new a.ChartConfig(n)},e.prototype.getZIndex=function(){if(this._layer)return this._layer.getZIndex()},e.prototype.setZIndex=function(t){this._layer&&this._layer.setZIndex(t)},e.prototype.getOpacity=function(){return this._layer.getOpacity()},e.prototype.setOpacity=function(t){this._layer&&this._layer.setOpacity(t)},e.prototype.getVisible=function(){if(this._layer)return this._layer.getVisible()},e.prototype.setVisible=function(t){this._layer&&this._layer.setVisible(t)},e.prototype.setOptions=function(t){var e=this.findAll();this.configOptions(e,t),this.render()},e.prototype.setDataSource=function(t,e){this.source=t,e&&this.config("fieldName",e),this.render()},e.prototype.on=function(t,e,i){this._layer&&this._layer.on(t,e,i)},e.prototype.un=function(t,e){this._layer&&this._layer.un(t,e)},e.prototype.renderComplete=function(t){this._renderCallBack=t},e}(o.ChartBase);e.MapVChart=c},function(t,e,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),(r=e.MapVChartType||(e.MapVChartType={}))[r.Boundary={type:"Boundary",layer:0}]="Boundary",r[r.LineAnimation={type:"LineAnimation",layer:1}]="LineAnimation",r[r.Heat={type:"Heat",layer:0}]="Heat",r[r.Situation={type:"Situation",layer:2}]="Situation",r[r.DynamicPoint={type:"DynamicPoint",layer:1}]="DynamicPoint",r[r.QianXi={type:"QianXi",layer:1}]="QianXi",r[r.Flow={type:"Flow",layer:2}]="Flow",r[r.PointCategory={type:"PointCategory",layer:1}]="PointCategory",r[r.FeatureSource={type:"FeatureSource",layer:0}]="FeatureSource"},function(t,e,i){var r=i(64);!function(){for(var t in r){if(null==r||!r.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=r[t]}}();var n=i(178);!function(){for(var t in n){if(null==n||!n.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=n[t]}}(),i(204),i(210)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(7),n=function(){function t(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.type=t,this.createGraphic(e)}return t.prototype.create=function(t){},t.prototype.createGraphic=function(t){var e=this.create(t);this.zelement=new r[this.type](e)},t.prototype.setAttr=function(t,e){this.zelement.attr(t,e)},t.prototype.getElement=function(){return this.zelement},t.prototype.on=function(t,e,i){this.zelement.on(t,i,function(t){e(t)})},t.prototype.un=function(t,e){this.zelement.off(t,e)},t}();e.GraphicZrender=n},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array;function r(t){return Math.sqrt(o(t))}var n=r;function o(t){return t[0]*t[0]+t[1]*t[1]}var a=o;function s(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var l=s;function h(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var c=h;e.create=function(t,e){var r=new i(2);return null==t&&(t=0),null==e&&(e=0),r[0]=t,r[1]=e,r},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,e,i){return t[0]=e,t[1]=i,t},e.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},e.scaleAndAdd=function(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t},e.sub=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},e.len=r,e.length=n,e.lenSquare=o,e.lengthSquare=a,e.mul=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},e.div=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},e.normalize=function(t,e){var i=r(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},e.distance=s,e.dist=l,e.distanceSquare=h,e.distSquare=c,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,i,r){return t[0]=e[0]+r*(i[0]-e[0]),t[1]=e[1]+r*(i[1]-e[1]),t},e.applyTransform=function(t,e,i){var r=e[0],n=e[1];return t[0]=i[0]*r+i[2]*n+i[4],t[1]=i[1]*r+i[3]*n+i[5],t},e.min=function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},e.max=function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}},function(t,e,i){var r,n,o,a,s=i(9),l=i(24),h=s.applyTransform,c=Math.min,u=Math.max;function p(t,e,i,r){i<0&&(t+=i,i=-i),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=i,this.height=r}p.prototype={constructor:p,union:function(t){var e=c(t.x,this.x),i=c(t.y,this.y);this.width=u(t.x+t.width,this.x+this.width)-e,this.height=u(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:(r=[],n=[],o=[],a=[],function(t){if(t){r[0]=o[0]=this.x,r[1]=a[1]=this.y,n[0]=a[0]=this.x+this.width,n[1]=o[1]=this.y+this.height,h(r,r,t),h(n,n,t),h(o,o,t),h(a,a,t),this.x=c(r[0],n[0],o[0],a[0]),this.y=c(r[1],n[1],o[1],a[1]);var e=u(r[0],n[0],o[0],a[0]),i=u(r[1],n[1],o[1],a[1]);this.width=e-this.x,this.height=i-this.y}}),calculateTransform:function(t){var e=t.width/this.width,i=t.height/this.height,r=l.create();return l.translate(r,r,[-this.x,-this.y]),l.scale(r,r,[e,i]),l.translate(r,r,[t.x,t.y]),r},intersect:function(t){if(!t)return!1;t instanceof p||(t=p.create(t));var e=this,i=e.x,r=e.x+e.width,n=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,l=t.y,h=t.y+t.height;return!(r<a||s<i||o<l||h<n)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new p(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},p.create=function(t){return new p(t.x,t.y,t.width,t.height)};var f=p;t.exports=f},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),a=i(18),s=i(29),l=i(17),h=function(t){function e(e){var i=t.call(this)||this;return i.onEventArr=[],i.unEventArr=[],i.map=e.map,i._layer=null,i.mapType=e.mapType,i}return n(e,t),e.prototype.createOpenLayer=function(t,e){this._layer=new a.default(this.map,t,e),this.bindChartEvent()},e.prototype.createCesiumLayer=function(t){this._layer=new s.default(this.map,t)},e.prototype.createLayer=function(t,e){switch(this.mapType){case l.MapType.TSMap:this.createOpenLayer(t,e);break;case l.MapType.TSGlobe:this.createCesiumLayer(t)}},e.prototype.getLegendViewPort=function(){return this.map.getViewport()},e.prototype.updateLayer=function(t){this._layer.updateLayer(t)},e.prototype.removeLayer=function(){this._layer.removeLayer()},e.prototype.getZIndex=function(){if(this._layer)return this._layer.getZIndex()},e.prototype.setZIndex=function(t){this._layer&&this._layer.setZIndex(t)},e.prototype.getOpacity=function(){if(this._layer)return this._layer.getOpacity()},e.prototype.setOpacity=function(t){this._layer&&this._layer.setOpacity(t)},e.prototype.getVisible=function(){if(this._layer)return this._layer.getVisible()},e.prototype.setVisible=function(t){this._layer&&this._layer.setVisible(t)},e.prototype.getLayer=function(){return this._layer},e.prototype.bindChartEvent=function(){var t=this;this.onEventArr.forEach(function(e){t._layer.on(e.eventName,e.handler,e.query)}),this.unEventArr.forEach(function(e){t._layer.un(e.eventName,e.handler)})},e.prototype.on=function(t,e,i){this.onEventArr.push({eventName:t,handler:e,query:i})},e.prototype.un=function(t,e){this.unEventArr.push({eventName:t,handler:e})},e}(o.Layer);e.EChartsLayer=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Layer=function(){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this._config=t}return t.prototype.config=function(t,e){var i=t.split(".");return this.configNode(this._config,i,0,e),this},t.prototype.findAll=function(){return this._config},t.prototype.configNode=function(t,e,i,r){var n={},o="",a=-1;return e[i].includes("[")&&(o=e[i].slice(0,e[i].indexOf("[")),a=parseInt(e[i].slice(e[i].indexOf("[")+1,e[i].indexOf("]"))),e[i]=o),i<e.length-1?-1==a?(t.hasOwnProperty(e[i])||(t[e[i]]={}),(n=this.configNode(t[e[i]],e,i+1,r))&&(t[e[i]]=n)):(Array.isArray(t[o])||(t[o]=[]),t[o].hasOwnProperty(a)||(t[o][a]={}),(n=this.configNode(t[o][a],e,i+1,r))&&(t[o][a]=n)):-1==a?null==r?delete t[e[i]]:t[e[i]]=this.configValue(t[e[i]],r):(Array.isArray(t[o])||(t[o]=[]),null==r?t[o].splice(a,1):t[o][a]=this.configValue(t[o][a],r)),t},t.prototype.configValue=function(t,e){var i=this;return Array.isArray(t)||Array.isArray(e)||"object"!=typeof t||"object"!=typeof e||Object.keys(t).forEach(function(r){if(e.hasOwnProperty(r)){var n=i.configValue(t[r],e[r]);n&&(e[r]=n)}else e[r]=t[r]}),e},t}();e.ChartConfig=r},function(t,e){var i="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},i=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),n=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);return i&&(e.firefox=!0,e.version=i[1]),r&&(e.ie=!0,e.version=r[1]),n&&(e.edge=!0,e.version=n[1]),o&&(e.weChat=!0),{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&11<=e.version),domSupported:"undefined"!=typeof document}}(navigator.userAgent);t.exports=i},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),a=i(295),s=i(17),l=function(t){function e(e){var i=t.call(this)||this;return i.visible=!0,i.opacity=1,i.zIndex=0,i.map=e.map,i.mapType=e.mapType,i._layer=null,i}return n(e,t),e.prototype.createOpenLayer=function(t,e){return this._layer=new a.OpenlayersLayer(this.map.map,e,t),this},e.prototype.OpenlayersAnimationLayer=function(t,e){return this._layer=new a.OpenlayersAnimationLayer(this.map.map,e,t),this},e.prototype.createCesiumLayer=function(t,e){return this._layer=new a.cesiumMapLayer(this.map._cesiumWidget,e,t),this},e.prototype.CesiumAnimationLayer=function(t,e){return this._layer=new a.CesiumAnimationLayer(this.map._cesiumWidget,e,t),this},e.prototype.createLayer=function(t,e){switch(this.mapType){case s.MapType.TSMap:t.projection="EPSG:"+this.map.spatialReference,"stroke"===t.styleType?this.OpenlayersAnimationLayer(t,e):this.createOpenLayer(t,e);break;case s.MapType.TSGlobe:t.projection="EPSG:"+this.map.getSrid(),"stroke"===t.styleType?this.CesiumAnimationLayer(t,e):this.createCesiumLayer(t,e)}},e.prototype.toDataSet=function(t){return new a.DataSet(t)},e.prototype.utilForceEdgeBundling=function(){return a.utilForceEdgeBundling()},e.prototype.getLegendViewPort=function(){switch(this.mapType){case s.MapType.TSMap:return this.map.getViewport();case s.MapType.TSGlobe:return this.map._container}},e.prototype.getCurvePoints=function(t,e){return a.utilCurve.getPoints([{lng:t[0],lat:t[1]},{lng:e[0],lat:e[1]}])},e.prototype.getLayer=function(){return this._layer},e.prototype.removeLayer=function(){switch(this.mapType){case s.MapType.TSMap:this._layer.removeLayer();break;case s.MapType.TSGlobe:this._layer.remove()}},e.prototype.updateLayer=function(t,e){this._layer.options=t,this._layer.dataSet=e,this.removeLayer(),this.createLayer(t,e)},e.prototype.getZIndex=function(){if(this._layer)return this.zIndex},e.prototype.setZIndex=function(t){if(this._layer)switch(this.zIndex=t,this.mapType){case s.MapType.TSMap:this._layer.layer_.setZIndex(t);break;case s.MapType.TSGlobe:this._layer.canvas.style.zIndex=t}},e.prototype.getOpacity=function(){if(this._layer)return this.opacity},e.prototype.setOpacity=function(t){if(this._layer)switch(this.opacity=t,this.mapType){case s.MapType.TSMap:this._layer.layer_.setOpacity(t);break;case s.MapType.TSGlobe:this._layer.canvas.style.opacity=t}},e.prototype.getVisible=function(){if(this._layer)return this.visible},e.prototype.setVisible=function(t){if(this._layer)switch(this.visible=t,this.mapType){case s.MapType.TSMap:this._layer.layer_.setVisible(t);break;case s.MapType.TSGlobe:t?this._layer.show():this._layer.hide()}},e}(o.Layer);e.MapVLayer=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var i=t.call(this)||this;return e=e||{},i.gradient=e.gradient||{0:"rgba(0, 0, 255, 1)",.25:"rgba(0, 255, 0, 1)",.5:"rgba(255, 255, 0, 1)",.75:"rgba(255, 0, 0, 1)"},i.max=e.max||100,i.min=e.min||0,i.initPalette(),i}return n(e,t),e.prototype.setMax=function(t){this.max=t},e.prototype.setMin=function(t){this.min=t},e.prototype.initPalette=function(){var t=this.gradient,e=document.createElement("canvas");e.width=256,e.height=1;var i=this.paletteCtx=e.getContext("2d"),r=i.createLinearGradient(0,0,256,1);for(var n in t)r.addColorStop(parseFloat(n),t[n]);i.fillStyle=r,i.fillRect(0,0,256,1)},e.prototype.getColor=function(t){var e=this.getImageData(t);return"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]/256+")"},e.prototype.getImageData=function(t){var e=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===t)return e;var i=this.max,r=this.min;i<t&&(t=i),t<r&&(t=r);var n=4*Math.floor((t-r)/(i-r)*255);return[e[n],e[n+1],e[n+2],e[n+3]]},e.prototype.getLegend=function(t){var e=this.gradient,i=t.legend.width||20,r=t.legend.height||180,n=t.legend.text||[this.max,this.min],o=t.legend.left||10,a=t.legend.bottom||50,s=t.legend.fontColor||"rgb(0,0,0)",l=document.createElement("canvas");l.setAttribute("class","chartLegend"),l.width=3*i,l.height=r;var h=l.getContext("2d");if(t.legend.show){var c=h.createLinearGradient(0,r-40,0,0);for(var u in e)c.addColorStop(parseFloat(u),e[u]);h.fillStyle=c,h.fillRect(0,20,i,r-40),h.font="20px sans-serif",h.fillStyle=s,h.fillText(n[0],0,20),h.fillText(n[1],0,r),l.style.position="absolute",l.style.left=o+"px",l.style.bottom=a+"px"}else h.clearRect(0,0,l.width,l.height);return l},e}(i(293).ColorRange);e.Intensity=o},function(t,e,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),(r=e.MapType||(e.MapType={})).TSMap="TSMap",r.TSGlobe="TSGlobe"},function(t,e,i){"use strict";i.r(e);var r=i(2),n=i(35);function o(t,e){this._g2Map=t._g2Map,this._seriesType=e,this.dimensions=["lng","lat"],this._api=t,this._mapOffset=[0,0]}o.dimensions=o.prototype.dimensions=["lng","lat"],o.getDimensionsInfo=function(){return["lng","lat"]},o.prototype.setMapOffset=function(t){this._mapOffset=t},o.prototype.dataToPoint=function(t){var e=[0,0];if(this._g2Map instanceof n.TSMap)var i=this._g2Map.getMap().getPixelFromCoordinate(t);else i=this._g2Map.getPixelFromCoordinate(t);if(i){var r=this._mapOffset;e=[i[0]-r[0],i[1]-r[1]]}return e},o.prototype.pointToData=function(t){var e=this._mapOffset,i=this._g2Map.getCoordinateFromPixel({x:t[0]+e[0],y:t[1]+e[1]});return[i.x,i.y]},o.prototype.getViewRect=function(){var t=this._g2Map.getViewSize();return new r.graphic.BoundingRect(0,0,t[0],t[1])},o.prototype.getRoamTransform=function(){return r.matrix.create()},o.create=function(t,e){var i;t.eachSeries(function(t){if("G2Map"===t.get("coordinateSystem")){var r=t.subType;i=new o(e,r),t.coordinateSystem=i}}),t.eachComponent("G2Map",function(t){t.coordinateSystem=i})};var a=o,s=function(){r.extendComponentModel({type:"G2Map",getG2Map:function(){return this.coordinateSystem._g2Map},getCenter:function(){return this.option.center},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,e){var i,r,n=this.option;return i=t,r=n.center,!(i&&r&&i[0]===r[0]&&i[1]===r[1]&&e===n.zoom)},defaultOption:{center:[116.343811227417,39.88078623809814],zoom:5,mapStyle:{},roam:!1}})},l=function(t,e){var i;r.extendComponentView({type:"G2Map",moveHandler:function(t){e.resize()},movestartHandler:function(){t.on("postrender",i.move)},moveendHandler:function(){t.un("postrender",i.move)},resolutionHandler:function(){t.map.once("postrender",function(){e.resize()})},dispatchClick:function(t,i,r,n){var o=e._layer.getZr().handler,a=o.findHover(r,n);o.dispatchToElement(a,"click",event)},init:function(e,r){this.api=r,this.api._g2Map=t,i={move:this.moveHandler.bind(this),movestart:this.movestartHandler.bind(this),moveend:this.moveendHandler.bind(this),resolution:this.resolutionHandler.bind(this),dispatchClick:this.dispatchClick.bind(this)},t.map.once("postrender",i.move),t.map.on("moveend",i.moveend),t.map.on("movestart",i.movestart),t.map.getView().on("change:resolution",i.resolution),t.on("extentchanged",i.move),t.on("click",i.dispatchClick)},render:function(t,e,i){},dispose:function(){t.map.un("moveend",i.moveend),t.map.un("movestart",i.movestart),t.map.getView().un("change:resolution",i.resolution),t.un("extentchanged",i.move),t.un("click",i.dispatchClick)}})},h=function(t,e){new s,new l(t,e),r.registerCoordinateSystem("G2Map",a),r.registerAction({type:"G2MapRoam",event:"G2MapRoam",update:"updateLayout"},function(t,e){e.eachComponent("G2Map",function(t){})}),r.registerAction({type:"G2MapChangeCamera",event:"G2Mapcamerachange",update:"series:updateCamera"},function(t,e){e.eachComponent("G2Map",function(t){})})};function c(t,e,i){return this._option=e,this._map=t,new h(t,this),this._chartContainer=function(t){var e=t.getViewSize(),i=document.createElement("div"),r=t.getViewport();i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.width=e[0]+"px",i.style.height=e[1]+"px";var n=r.getElementsByClassName("ol-overlaycontainer")[0];n.hasAttribute("style")&&n.removeAttribute("style");var o=r.getElementsByClassName("ol-overlaycontainer-stopevent")[0];return o.hasAttribute("style")&&o.removeAttribute("style"),r.insertBefore(i,n),i}(t),this._layer=r.init(this._chartContainer),this._layer.setOption(e),this._layer,this.eventArr=[],this}c.prototype.updateLayer=function(t){this._layer&&this._layer.setOption(t)},c.prototype.resize=function(){this._layer&&this._layer.setOption(this._option)},c.prototype.getMap=function(){return this._map},c.prototype.getLayer=function(){return this._chartContainer},c.prototype.getVisible=function(){var t=!0;return"visible"!==(this._chartContainer.style.visibility||"visible")&&(t=!1),t},c.prototype.setVisible=function(t){var e="visible";t||(e="hidden"),this._chartContainer.style.visibility=e},c.prototype.getZIndex=function(){return this._chartContainer.style.zIndex},c.prototype.setZIndex=function(t){this._chartContainer.style.zIndex=t},c.prototype.getOpacity=function(){return this._chartContainer.style.opacity},c.prototype.setOpacity=function(t){this._chartContainer.style.opacity=t},c.prototype.on=function(t,e,i){if(this._layer){var r=function(t){var e,i=[t.event.event.offsetX,t.event.event.offsetY],r=this.map.getCoordinateFromPixel(i),n=t.data;e=Array.isArray(n)?n[n.length-1]:n.gvProperty;var o={screenX:i[0],screenY:i[1],lng:r[0],lat:r[1],property:e};this.handler(o)}.bind({handler:e,map:this._map});this.eventArr.push({eventName:t,handler:e,query:i,newHandler:r}),this._layer.on(t,i,r)}},c.prototype.un=function(t,e){if(this._layer)for(var i=0;i<this.eventArr.length;i++){var r=this.eventArr[i];r.eventName===t&&r.handler===e&&(this._layer.off(t,r.newHandler),this.eventArr.splice(i,1))}},c.prototype.removeLayer=function(){var t=this._map;this._layer.dispose(),t.getViewport().removeChild(this._chartContainer)},e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.fields=[]}return t.prototype.addField=function(t){this.fields.push(t)},t.prototype.getCount=function(){return this.fields.length},t.prototype.get=function(t){return this.fields[t]},t}();e.Fields=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){return this._dataType},set:function(t){this._dataType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alias",{get:function(){return this._alias},set:function(t){this._alias=t},enumerable:!0,configurable:!0}),t}();e.Field=r},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.setGeometry=function(t){this._geometry=t},e.prototype.getGeometry=function(){return this._geometry},e}(i(56).Entity);e.Feature=o},function(t,e,i){"use strict";var r=this&&this.__decorate||function(t,e,i,r){var n,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(o<3?n(a):3<o?n(e,i,a):n(e,i))||a);return 3<o&&a&&Object.defineProperty(e,i,a),a},n=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),a=function(){function t(){this.items=[]}return t.prototype.addItem=function(t){this.items.push(t)},t.prototype.getCount=function(){return this.items.length},t.prototype.get=function(t){return this.items[t]},t.prototype.asArray=function(){for(var t=[],e=0;e<this.items.length;e++){for(var i=this.items[e],r={},n=0;n<i.getCount();n++){var o=i.get(n);r[o.name]=o.value}t.push(r)}return t},r([o.__Type({name:"ChartData",namespace:"http://www.dv.com"}),n("design:paramtypes",[])],t)}();e.ChartData=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(133);var r=i(40),n=i(80);e.__Type=function(t){return function(e){var i=t.name,o=t.namespace;if(!r.TypeTable.has(i)){var a=new n.TypeInfo(i,o,e);e.$type=a,r.TypeTable.getInstance().add(a)}}}},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array;function r(){var t=new i(6);return n(t),t}function n(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}e.create=r,e.identity=n,e.copy=o,e.mul=function(t,e,i){var r=e[0]*i[0]+e[2]*i[1],n=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],a=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=r,t[1]=n,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t},e.translate=function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},e.rotate=function(t,e,i){var r=e[0],n=e[2],o=e[4],a=e[1],s=e[3],l=e[5],h=Math.sin(i),c=Math.cos(i);return t[0]=r*c+a*h,t[1]=-r*h+a*c,t[2]=n*c+s*h,t[3]=-n*h+c*s,t[4]=c*o+h*l,t[5]=c*l-h*o,t},e.scale=function(t,e,i){var r=i[0],n=i[1];return t[0]=e[0]*r,t[1]=e[1]*n,t[2]=e[2]*r,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*n,t},e.invert=function(t,e){var i=e[0],r=e[2],n=e[4],o=e[1],a=e[3],s=e[5],l=i*a-o*r;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-r*l,t[3]=i*l,t[4]=(r*s-a*n)*l,t[5]=(o*n-i*s)*l,t):null},e.clone=function(t){var e=r();return o(e,t),e}},function(t,e,i){var r=i(33),n=i(10),o=i(3),a=i(68);function s(t){r.call(this,t)}s.prototype={constructor:s,type:"image",brush:function(t,e){var i=this.style,r=i.image;i.bind(t,this,e);var n=this._image=a.createOrUpdateImage(r,this._image,this,this.onload);if(n&&a.isImageReady(n)){var o=i.x||0,s=i.y||0,l=i.width,h=i.height,c=n.width/n.height;if(null==l&&null!=h?l=h*c:null==h&&null!=l?h=l/c:null==l&&null==h&&(l=n.width,h=n.height),this.setTransform(t),i.sWidth&&i.sHeight){var u=i.sx||0,p=i.sy||0;t.drawImage(n,u,p,i.sWidth,i.sHeight,o,s,l,h)}else if(i.sx&&i.sy){var f=l-(u=i.sx),y=h-(p=i.sy);t.drawImage(n,u,p,f,y,o,s,l,h)}else t.drawImage(n,o,s,l,h);null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new n(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},o.inherits(s,r);var l=s;t.exports=l},function(t,e,i){var r=i(27),n=i(9),o=i(179),a=i(10),s=i(47).devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},h=[],c=[],u=[],p=[],f=Math.min,y=Math.max,d=Math.cos,v=Math.sin,g=Math.sqrt,m=Math.abs,_="undefined"!=typeof Float32Array,b=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};b.prototype={constructor:b,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=m(1/s/t)||0,this._uy=m(1/s/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return(this._ctx=t)&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=m(t-this._xi)>this._ux||m(e-this._yi)>this._uy||this._len<5;return this.addData(l.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,r,n,o){return this.addData(l.C,t,e,i,r,n,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,r,n,o):this._ctx.bezierCurveTo(t,e,i,r,n,o)),this._xi=n,this._yi=o,this},quadraticCurveTo:function(t,e,i,r){return this.addData(l.Q,t,e,i,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,r):this._ctx.quadraticCurveTo(t,e,i,r)),this._xi=i,this._yi=r,this},arc:function(t,e,i,r,n,o){return this.addData(l.A,t,e,i,i,r,n-r,0,o?0:1),this._ctx&&this._ctx.arc(t,e,i,r,n,o),this._xi=d(n)*i+t,this._yi=v(n)*i+e,this},arcTo:function(t,e,i,r,n){return this._ctx&&this._ctx.arcTo(t,e,i,r,n),this},rect:function(t,e,i,r){return this._ctx&&this._ctx.rect(t,e,i,r),this.addData(l.R,t,e,i,r),this},closePath:function(){this.addData(l.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!_||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,r=this._len,n=0;n<e;n++)i+=t[n].len();for(_&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),n=0;n<e;n++)for(var o=t[n].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,r,n=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,c=t-l,u=e-h,p=g(c*c+u*u),d=l,v=h,m=a.length;for(o<0&&(o=n+o),d-=(o%=n)*(c/=p),v-=o*(u/=p);0<c&&d<=t||c<0&&t<=d||0===c&&(0<u&&v<=e||u<0&&e<=v);)d+=c*(i=a[r=this._dashIdx]),v+=u*i,this._dashIdx=(r+1)%m,0<c&&d<l||c<0&&l<d||0<u&&v<h||u<0&&h<v||s[r%2?"moveTo":"lineTo"](0<=c?f(d,t):y(d,t),0<=u?f(v,e):y(v,e));c=d-t,u=v-e,this._dashOffset=-g(c*c+u*u)},_dashedBezierTo:function(t,e,i,n,o,a){var s,l,h,c,u,p=this._dashSum,f=this._dashOffset,y=this._lineDash,d=this._ctx,v=this._xi,m=this._yi,_=r.cubicAt,b=0,x=this._dashIdx,w=y.length,S=0;for(f<0&&(f=p+f),f%=p,s=0;s<1;s+=.1)l=_(v,t,i,o,s+.1)-_(v,t,i,o,s),h=_(m,e,n,a,s+.1)-_(m,e,n,a,s),b+=g(l*l+h*h);for(;x<w&&!(f<(S+=y[x]));x++);for(s=(S-f)/b;s<=1;)c=_(v,t,i,o,s),u=_(m,e,n,a,s),x%2?d.moveTo(c,u):d.lineTo(c,u),s+=y[x]/b,x=(x+1)%w;x%2!=0&&d.lineTo(o,a),l=o-c,h=a-u,this._dashOffset=-g(l*l+h*h)},_dashedQuadraticTo:function(t,e,i,r){var n=i,o=r;i=(i+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,r,n,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,_&&(this.data=new Float32Array(t)))},getBoundingRect:function(){h[0]=h[1]=u[0]=u[1]=Number.MAX_VALUE,c[0]=c[1]=p[0]=p[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,r=0,s=0,f=0;f<t.length;){var y=t[f++];switch(1===f&&(r=e=t[f],s=i=t[f+1]),y){case l.M:e=r=t[f++],i=s=t[f++],u[0]=r,u[1]=s,p[0]=r,p[1]=s;break;case l.L:o.fromLine(e,i,t[f],t[f+1],u,p),e=t[f++],i=t[f++];break;case l.C:o.fromCubic(e,i,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],u,p),e=t[f++],i=t[f++];break;case l.Q:o.fromQuadratic(e,i,t[f++],t[f++],t[f],t[f+1],u,p),e=t[f++],i=t[f++];break;case l.A:var g=t[f++],m=t[f++],_=t[f++],b=t[f++],x=t[f++],w=t[f++]+x;f+=1;var S=1-t[f++];1===f&&(r=d(x)*_+g,s=v(x)*b+m),o.fromArc(g,m,_,b,x,w,S,u,p),e=d(w)*_+g,i=v(w)*b+m;break;case l.R:r=e=t[f++],s=i=t[f++];var C=t[f++],O=t[f++];o.fromLine(r,s,r+C,s+O,u,p);break;case l.Z:e=r,i=s}n.min(h,h,u),n.max(c,c,p)}return 0===f&&(h[0]=h[1]=c[0]=c[1]=0),new a(h[0],h[1],c[0]-h[0],c[1]-h[1])},rebuildPath:function(t){for(var e,i,r,n,o,a,s=this.data,h=this._ux,c=this._uy,u=this._len,p=0;p<u;){var f=s[p++];switch(1===p&&(e=r=s[p],i=n=s[p+1]),f){case l.M:e=r=s[p++],i=n=s[p++],t.moveTo(r,n);break;case l.L:o=s[p++],a=s[p++],(m(o-r)>h||m(a-n)>c||p===u-1)&&(t.lineTo(o,a),r=o,n=a);break;case l.C:t.bezierCurveTo(s[p++],s[p++],s[p++],s[p++],s[p++],s[p++]),r=s[p-2],n=s[p-1];break;case l.Q:t.quadraticCurveTo(s[p++],s[p++],s[p++],s[p++]),r=s[p-2],n=s[p-1];break;case l.A:var y=s[p++],g=s[p++],_=s[p++],b=s[p++],x=s[p++],w=s[p++],S=s[p++],C=s[p++],O=b<_?_:b,P=b<_?1:_/b,L=b<_?b/_:1,T=x+w;.001<Math.abs(_-b)?(t.translate(y,g),t.rotate(S),t.scale(P,L),t.arc(0,0,O,x,T,1-C),t.scale(1/P,1/L),t.rotate(-S),t.translate(-y,-g)):t.arc(y,g,O,x,T,1-C),1===p&&(e=d(x)*_+y,i=v(x)*b+g),r=d(T)*_+y,n=v(T)*b+g;break;case l.R:e=r=s[p],i=n=s[p+1],t.rect(s[p++],s[p++],s[p++],s[p++]);break;case l.Z:t.closePath(),r=e,n=i}}}},b.CMD=l;var x=b;t.exports=x},function(t,e,i){var r=i(9),n=r.create,o=r.distSquare,a=Math.pow,s=Math.sqrt,l=1e-8,h=s(3),c=n(),u=n(),p=n();function f(t){return-l<t&&t<l}function y(t){return l<t||t<-l}function d(t,e,i,r,n){var o=1-n;return o*o*(o*t+3*n*e)+n*n*(n*r+3*o*i)}function v(t,e,i,r){var n=1-r;return n*(n*t+2*r*e)+r*r*i}e.cubicAt=d,e.cubicDerivativeAt=function(t,e,i,r,n){var o=1-n;return 3*(((e-t)*o+2*(i-e)*n)*o+(r-i)*n*n)},e.cubicRootAt=function(t,e,i,r,n,o){var l=r+3*(e-i)-t,c=3*(i-2*e+t),u=3*(e-t),p=t-n,y=c*c-3*l*u,d=c*u-9*l*p,v=u*u-3*c*p,g=0;if(f(y)&&f(d))f(c)?o[0]=0:0<=(T=-u/c)&&T<=1&&(o[g++]=T);else{var m=d*d-4*y*v;if(f(m)){var _=d/y,b=-_/2;0<=(T=-c/l+_)&&T<=1&&(o[g++]=T),0<=b&&b<=1&&(o[g++]=b)}else if(0<m){var x=s(m),w=y*c+1.5*l*(-d+x),S=y*c+1.5*l*(-d-x);0<=(T=(-c-((w=w<0?-a(-w,1/3):a(w,1/3))+(S=S<0?-a(-S,1/3):a(S,1/3))))/(3*l))&&T<=1&&(o[g++]=T)}else{var C=(2*y*c-3*l*d)/(2*s(y*y*y)),O=Math.acos(C)/3,P=s(y),L=Math.cos(O),T=(-c-2*P*L)/(3*l),A=(b=(-c+P*(L+h*Math.sin(O)))/(3*l),(-c+P*(L-h*Math.sin(O)))/(3*l));0<=T&&T<=1&&(o[g++]=T),0<=b&&b<=1&&(o[g++]=b),0<=A&&A<=1&&(o[g++]=A)}}return g},e.cubicExtrema=function(t,e,i,r,n){var o=6*i-12*e+6*t,a=9*e+3*r-3*t-9*i,l=3*e-3*t,h=0;if(f(a))y(o)&&0<=(u=-l/o)&&u<=1&&(n[h++]=u);else{var c=o*o-4*a*l;if(f(c))n[0]=-o/(2*a);else if(0<c){var u,p=s(c),d=(-o-p)/(2*a);0<=(u=(-o+p)/(2*a))&&u<=1&&(n[h++]=u),0<=d&&d<=1&&(n[h++]=d)}}return h},e.cubicSubdivide=function(t,e,i,r,n,o){var a=(e-t)*n+t,s=(i-e)*n+e,l=(r-i)*n+i,h=(s-a)*n+a,c=(l-s)*n+s,u=(c-h)*n+h;o[0]=t,o[1]=a,o[2]=h,o[3]=u,o[4]=u,o[5]=c,o[6]=l,o[7]=r},e.cubicProjectPoint=function(t,e,i,r,n,a,l,h,f,y,v){var g,m,_,b,x,w=.005,S=1/0;c[0]=f,c[1]=y;for(var C=0;C<1;C+=.05)u[0]=d(t,i,n,l,C),u[1]=d(e,r,a,h,C),(b=o(c,u))<S&&(g=C,S=b);S=1/0;for(var O=0;O<32&&!(w<1e-4);O++)m=g-w,_=g+w,u[0]=d(t,i,n,l,m),u[1]=d(e,r,a,h,m),b=o(u,c),0<=m&&b<S?(g=m,S=b):(p[0]=d(t,i,n,l,_),p[1]=d(e,r,a,h,_),x=o(p,c),_<=1&&x<S?(g=_,S=x):w*=.5);return v&&(v[0]=d(t,i,n,l,g),v[1]=d(e,r,a,h,g)),s(S)},e.quadraticAt=v,e.quadraticDerivativeAt=function(t,e,i,r){return 2*((1-r)*(e-t)+r*(i-e))},e.quadraticRootAt=function(t,e,i,r,n){var o=t-2*e+i,a=2*(e-t),l=t-r,h=0;if(f(o))y(a)&&0<=(u=-l/a)&&u<=1&&(n[h++]=u);else{var c=a*a-4*o*l;if(f(c))0<=(u=-a/(2*o))&&u<=1&&(n[h++]=u);else if(0<c){var u,p=s(c),d=(-a-p)/(2*o);0<=(u=(-a+p)/(2*o))&&u<=1&&(n[h++]=u),0<=d&&d<=1&&(n[h++]=d)}}return h},e.quadraticExtremum=function(t,e,i){var r=t+i-2*e;return 0===r?.5:(t-e)/r},e.quadraticSubdivide=function(t,e,i,r,n){var o=(e-t)*r+t,a=(i-e)*r+e,s=(a-o)*r+o;n[0]=t,n[1]=o,n[2]=s,n[3]=s,n[4]=a,n[5]=i},e.quadraticProjectPoint=function(t,e,i,r,n,a,l,h,f){var y,d=.005,g=1/0;c[0]=l,c[1]=h;for(var m=0;m<1;m+=.05)u[0]=v(t,i,n,m),u[1]=v(e,r,a,m),(w=o(c,u))<g&&(y=m,g=w);g=1/0;for(var _=0;_<32&&!(d<1e-4);_++){var b=y-d,x=y+d;u[0]=v(t,i,n,b),u[1]=v(e,r,a,b);var w=o(u,c);if(0<=b&&w<g)y=b,g=w;else{p[0]=v(t,i,n,x),p[1]=v(e,r,a,x);var S=o(p,c);x<=1&&S<g?(y=x,g=S):d*=.5}}return f&&(f[0]=v(t,i,n,y),f[1]=v(e,r,a,y)),s(g)}},function(t,e,i){var r=i(33),n=i(3),o=i(50),a=i(49),s=i(48).ContextCachedBy,l=function(t){r.call(this,t)};l.prototype={constructor:l,type:"text",brush:function(t,e){var i=this.style;this.__dirty&&a.normalizeTextStyle(i,!0),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var r=i.text;null!=r&&(r+=""),a.needDrawText(r,i)?(this.setTransform(t),a.renderText(this,t,r,i,null,e),this.restoreTransform(t)):t.__attrCachedBy=s.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&a.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var i=o.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,a.getStroke(t.textStroke,t.textStrokeWidth)){var r=t.textStrokeWidth;i.x-=r/2,i.y-=r/2,i.width+=r,i.height+=r}this._rect=i}return this._rect}},n.inherits(l,r);var h=l;t.exports=h},function(t,e,i){"use strict";i.r(e);var r=i(2),n=(r.util,r.graphic),o=r.matrix;function a(t,e){this._cesiumMap=t._cesiumMap,this._seriesType=e,this._mapOffset=[0,0],this.dimensions=["lng","lat"],this._api=t}a.prototype.dimensions=["lng","lat"],a.prototype.dataToPoint=function(t){var e=this._cesiumMap,i=Cesium.Cartesian3.fromDegrees(t[0],t[1]),r=[];if(!i)return[0,0];if(r=Array.isArray(i)?[-i[0],-i[1],-i[2]]:[-i.x,-i.y,-i.z],"flowGL"==this._seriesType){var n=e.cartesianToCanvasCoordinates(i);return[n.x,n.y]}if("lines"==this._seriesType&&(r=!1),e.mode===Cesium.SceneMode.SCENE3D&&Cesium.Cartesian3.angleBetween(e.camera.position,i)>Cesium.Math.toRadians(80))return r;var o=e.cartesianToCanvasCoordinates(i);return[o.x,o.y]},a.dimensions=a.prototype.dimensions,a.prototype.getViewRect=function(){var t=this._api;return new n.BoundingRect(0,0,t.getWidth(),t.getHeight())},a.prototype.getRoamTransform=function(){return o.create()},a.prototype.getCesiumMap=function(){return this._cesiumMap},a.prototype.pointToData=function(t){var e=this._mapOffset;return[(t=this._cesiumMap.project({x:t[0]+e[0],y:t[1]+e[1]})).lng,t.lat]},a.prototype.setMapOffset=function(t){this._mapOffset=t},a.create=function(t,e){var i;t.eachSeries(function(t){if("CesiumMap"===t.get("coordinateSystem")){var r=t.subType;i=new a(e,r),t.coordinateSystem=i}}),t.eachComponent("CesiumMap",function(t){t.coordinateSystem=i})};var s=a,l=function(){r.extendComponentModel({type:"CesiumMap",getCesiumMap:function(){return this.coordinateSystem.cesiumMap},getCenter:function(){return this.option.center},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,e){var i=this.option;return!(this.v2Equal(t,i.center)&&e===i.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},roam:!1}})},h=function(t){r.extendComponentView({type:"CesiumMap",moveHandler:function(t){this.api.dispatchAction({type:"CesiumMapRoam"})},moveStartEvent:function(){t.postRender.addEventListener(this.moveHandler,this)},moveEndEvent:function(){t.postRender.removeEventListener(this.moveHandler,this)},init:function(e,i){this.api=i,(this.api._cesiumMap=t).camera.moveStart.addEventListener(this.moveStartEvent,this),t.camera.moveEnd.addEventListener(this.moveEndEvent,this)},render:function(t,e,i){},dispose:function(){t.camera.moveStart.removeEventListener(this.moveStartEvent,this),t.camera.moveEnd.removeEventListener(this.moveEndEvent,this)}})},c=function(t){new l,new h(t),r.registerCoordinateSystem("CesiumMap",s),r.registerAction({type:"CesiumMapRoam",event:"CesiumMapRoam",update:"updateLayout"},function(t,e){e.eachComponent("CesiumMap",function(t){})})};function u(t,e){return this._mapContainer=t._cesiumWidget,this._chartContainer=function(t){new c(t.scene);var e=document.createElement("div"),i=t.canvas;return i.setAttribute("tabIndex",0),e.style.position="absolute",e.style.top=i.offsetTop+"px",e.style.left=i.offsetLeft+"px",e.style.width=i.offsetWidth+"px",e.style.height=i.offsetHeight+"px",e.style.pointerEvents="none",e.setAttribute("class","echartMap"),t.container.appendChild(e),e}(this._mapContainer),this._layer=r.init(this._chartContainer),this._layer.setOption(e),this}i(18),u.prototype.updateOverlay=function(t){this._layer&&this._layer.setOption(t)},u.prototype.getMap=function(){return this._mapContainer},u.prototype.getOverlay=function(){return this._chartContainer},u.prototype.getVisible=function(){var t=!0;return"visible"!==(this._chartContainer.style.visibility||"visible")&&(t=!1),t},u.prototype.setVisible=function(t){var e="visible";t||(e="hidden"),this._chartContainer.style.visibility=e},u.prototype.getZIndex=function(){return this._chartContainer.style.zIndex},u.prototype.setZIndex=function(t){this._chartContainer.style.zIndex=t},u.prototype.getOpacity=function(){return this._chartContainer.style.opacity},u.prototype.setOpacity=function(t){this._chartContainer.style.opacity=t},u.prototype.removeLayer=function(){this._mapContainer.container.removeChild(this._chartContainer)},e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.AnimationType=function(){}},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i(62).MapSource);e.FeatureSource=o},function(t,e,i){var r=i(47).debugMode,n=function(){};1===r?n=function(){for(var t in arguments)throw new Error(arguments[t])}:1<r&&(n=function(){for(var t in arguments)console.log(arguments[t])});var o=n;t.exports=o},function(t,e,i){var r=i(3),n=i(66),o=i(98),a=i(104);function s(t){for(var e in t=t||{},o.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new n(t.style,this),this._rect=null,this.__clipPaths=[]}s.prototype={constructor:s,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?o.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new n(t,this),this.dirty(!1),this}},r.inherits(s,o),r.mixin(s,a);var l=s;t.exports=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,r){var n=t.call(this,"Polygon",e,i,r)||this;return n.cx=e,n.cy=i,n.len=r,n}return n(e,t),e.prototype.create=function(t){var e=t[0],i=t[1],r=t[2];return{shape:{points:[[e-r*Math.sqrt(3),i+r],[e,i+2*r],[e+r*Math.sqrt(3),i+r],[e+r*Math.sqrt(3),i-r],[e,i-2*r],[e-r*Math.sqrt(3),i-r]]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.RegularSix=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(121),a=i(1),s=function(t){function e(e,i){var r=t.call(this)||this,n=r.initConfig(i),o={maxZoom:n.maxZoom,minZoom:n.minZoom,level:n.zoom,projection:"EPSG:"+n.projection,center:n.center};n.hasOwnProperty("extent")&&(o.extent=n.extent),r.g2map=new a.carto.Map({defaultExtent:o});var s=e.getAttribute("id");return r.g2map.init({targetId:s}),r}return n(e,t),e.prototype.initConfig=function(t){var e={maxZoom:23,minZoom:0,zoom:5,projection:4326,center:[116.343811227417,39.88078623809814]};for(var i in t)e[i]=t[i];return e},e.prototype.addLayer=function(t){this.g2map.addLayer(t)},e.prototype.getMap=function(){return this.g2map},e.prototype.getViewSize=function(){return this.g2map.getViewSize()},e.prototype.stopInteraction=function(){this.g2map.removeInteractions(),this.g2map.stopMouseWheelZoom()},e}(o.Map);e.TSMap=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.dispose=function(){},t}();e.ChartBase=r},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return t.call(this)||this}return n(e,t),e}(i(36).ChartBase);e.MapChart=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=i(55),o=i(39),a=function(){function t(t,e){void 0===t&&(t=n.GeometryType.Wkt),void 0===e&&(e=4326),this.spatialReference=e,this.features=[],this.type=t}return t.prototype.getType=function(){return this.type},t.prototype.addFeature=function(t){this.features.push(t)},t.prototype.getCount=function(){return this.features.length},t.prototype.get=function(t){return this.features[t]},t.prototype.getSpatialReference=function(){return this.spatialReference},t.prototype.asArray=function(){for(var t=[],e=this.getSpatialReference(),i=0;i<this.getCount();i++){var o=this.get(i),a={},s="shape";if(this.type==n.GeometryType.Wkt){var l=r.sfs.GeometryFactory.createGeometryFromWkt(o.getGeometry(),e);28===l.getGeometryType()?a[s]=l.getPointsArray(l.points):a[s]=[l.x,l.y,l.z]}else a[s]=o.getGeometry();for(var h=0;h<o.getFields().getCount();h++)"shape"!==(s=o.getFields().get(h).name)&&(a[s]=o.getValue(s));t.push(a)}return t},t.prototype.toGFeatureCollection=function(){for(var t=this.get(0),e=this.getSpatialReference(),i=new r.sfs.Fields,a=t.getFields(),s=0;s<a.getCount();s++){var l=a.get(s),h=new r.sfs.Field({name:l.name,dataType:l.dataType});i.add(h)}for(var c=new r.sfs.GFeatureCollection({fields:i}),u=0;u<this.getCount();u++){var p=this.get(u),f=p.getFields(),y=new r.sfs.GFeature({fields:i}),d=o.DataType.None;for(s=0;s<f.getCount();s++)"shape"===(l=f.get(s)).name&&(d=l.dataType),y.setValue(l.name,p.getValue(l.name));var v;v=this.type==n.GeometryType.Wkt?r.sfs.GeometryFactory.createGeometryFromWkt(p.getGeometry(),e):r.sfs.GeometryFactory.createGeometryFromGeoJson({type:this.getgeometryType(d),coordinates:p.getGeometry()},e),y.setGeometry(v),c.add(y)}return c},t.prototype.getgeometryType=function(t){var e="";switch(t){case o.DataType.LineString:e="LineString";break;case o.DataType.MultiPoint:e="MultiPoint";break;case o.DataType.MultiLineString:e="MultiLineString";break;case o.DataType.MultiPolygon:e="MultiPolygon";break;case o.DataType.Point:e="Point";break;case o.DataType.Path:e="Path";break;case o.DataType.Circle:e="Circle";break;case o.DataType.LinearRing:e="LinearRing";break;case o.DataType.Lseg:e="Lseg";break;case o.DataType.Box:e="Box";break;case o.DataType.Polygon:e="Polygon";break;case o.DataType.GeometryCollection:e="GeometryCollection";break;default:e="GeometryBegin"}return e},t}();e.FeatureCollection=a},function(t,e,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),(r=e.DataType||(e.DataType={}))[r.None=-1]="None",r[r.OID=0]="OID",r[r.Int=1]="Int",r[r.Long=2]="Long",r[r.Float=5]="Float",r[r.Double=6]="Double",r[r.Char=11]="Char",r[r.String=12]="String",r[r.Text=13]="Text",r[r.Date=21]="Date",r[r.Time=22]="Time",r[r.Blob=31]="Blob",r[r.Clob=32]="Clob",r[r.Boolean=41]="Boolean",r[r.GeometryBegin=100]="GeometryBegin",r[r.Geometry=101]="Geometry",r[r.Point=102]="Point",r[r.LineString=103]="LineString",r[r.Polygon=104]="Polygon",r[r.MultiPoint=105]="MultiPoint",r[r.MultiLineString=106]="MultiLineString",r[r.MultiPolygon=107]="MultiPolygon",r[r.GeometryCollection=108]="GeometryCollection",r[r.Lseg=109]="Lseg",r[r.Box=110]="Box",r[r.Path=111]="Path",r[r.Circle=112]="Circle",r[r.LinearRing=113]="LinearRing",r[r.Shape=181]="Shape",r[r.Geocoder=182]="Geocoder",r[r.GeometryEnd=200]="GeometryEnd",r[r.RasterBegin=200]="RasterBegin",r[r.DEM=201]="DEM",r[r.DOM=202]="DOM",r[r.RasterEnd=300]="RasterEnd",r[r.ModelBegin=300]="ModelBegin",r[r.DAE=310]="DAE",r[r.FileDAE=311]="FileDAE",r[r.BinaryDAE=312]="BinaryDAE",r[r.OBJ=320]="OBJ",r[r.FileOBJ=321]="FileOBJ",r[r.BinaryOBJ=322]="BinaryOBJ",r[r.GLTF=330]="GLTF",r[r.ModelEnd=400]="ModelEnd",r[r.ElementBegin=400]="ElementBegin",r[r.SimpleElement=401]="SimpleElement",r[r.ElementEnd=500]="ElementEnd",r[r.TileBegin=500]="TileBegin",r[r.MapTile=501]="MapTile",r[r.VectorTile=502]="VectorTile",r[r.TerrainTile=503]="TerrainTile",r[r.ModelTile=504]="ModelTile",r[r.ObliqueTile=505]="ObliqueTile",r[r.TileEnd=600]="TileEnd"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.types=new Map}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.find=function(e){return t.getInstance().find(e)},t.has=function(e){return t.getInstance().has(e)},t.add=function(e){t.getInstance().add(e)},t.prototype.find=function(t){return this.has(t)?this.types.get(t):null},t.prototype.has=function(t){return this.types.has(t)},t.prototype.add=function(t){this.types.set(t.getName(),t)},t}();e.TypeTable=r},function(t,e,i){"use strict";var r=this&&this.__decorate||function(t,e,i,r){var n,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(o<3?n(a):3<o?n(e,i,a):n(e,i))||a);return 3<o&&a&&Object.defineProperty(e,i,a),a},n=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var o=i(23),a=function(){function t(){this.entrys=[]}return t.prototype.addEntry=function(t){this.entrys.push(t)},t.prototype.getCount=function(){return this.entrys.length},t.prototype.get=function(t){return this.entrys[t]},r([o.__Type({name:"ChartItem",namespace:"http://www.dv.com"}),n("design:paramtypes",[])],t)}();e.ChartItem=a},function(t,e,i){"use strict";var r=this&&this.__decorate||function(t,e,i,r){var n,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(o<3?n(a):3<o?n(e,i,a):n(e,i))||a);return 3<o&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(e,"__esModule",{value:!0});var n=i(23),o=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alias",{get:function(){return this._alias},set:function(t){this._alias=t},enumerable:!0,configurable:!0}),r([n.__Type({name:"ChartEntry",namespace:"http://www.dv.com"})],t)}();e.ChartEntry=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.StatChart=function(){}},function(t,e){var i=Array.prototype.slice,r=function(t){this._$handlers={},this._$eventProcessor=t};function n(t,e,i,r,n,o){var a,s,l=t._$handlers;if("function"==typeof i&&(n=r,r=i,i=null),!r||!e)return t;a=i,s=t._$eventProcessor,null!=a&&s&&s.normalizeQuery&&(a=s.normalizeQuery(a)),i=a,l[e]||(l[e]=[]);for(var h=0;h<l[e].length;h++)if(l[e][h].h===r)return t;var c={h:r,one:o,query:i,ctx:n||t,callAtLast:r.zrEventfulCallAtLast},u=l[e].length-1,p=l[e][u];return p&&p.callAtLast?l[e].splice(u,0,c):l[e].push(c),t}r.prototype={constructor:r,one:function(t,e,i,r){return n(this,t,e,i,r,!0)},on:function(t,e,i,r){return n(this,t,e,i,r,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var r=[],n=0,o=i[t].length;n<o;n++)i[t][n].h!==e&&r.push(i[t][n]);i[t]=r}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){var e=this._$handlers[t],r=this._$eventProcessor;if(e){var n=arguments,o=n.length;3<o&&(n=i.call(n,1));for(var a=e.length,s=0;s<a;){var l=e[s];if(r&&r.filter&&null!=l.query&&!r.filter(t,l.query))s++;else{switch(o){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,n[1]);break;case 3:l.h.call(l.ctx,n[1],n[2]);break;default:l.h.apply(l.ctx,n)}l.one?(e.splice(s,1),a--):s++}}}return r&&r.afterTrigger&&r.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],r=this._$eventProcessor;if(e){var n=arguments,o=n.length;4<o&&(n=i.call(n,1,n.length-1));for(var a=n[n.length-1],s=e.length,l=0;l<s;){var h=e[l];if(r&&r.filter&&null!=h.query&&!r.filter(t,h.query))l++;else{switch(o){case 1:h.h.call(a);break;case 2:h.h.call(a,n[1]);break;case 3:h.h.call(a,n[1],n[2]);break;default:h.h.apply(a,n)}h.one?(e.splice(l,1),s--):l++}}}return r&&r.afterTrigger&&r.afterTrigger(t),this}};var o=r;t.exports=o},function(t,e,i){var r=i(44);e.Dispatcher=r;var n=i(14),o="undefined"!=typeof window&&!!window.addEventListener,a=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function s(t,e,i,r){return i=i||{},r||!n.canvasSupported?l(t,e,i):n.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):l(t,e,i),i}function l(t,e,i){var r,n=(r=t).getBoundingClientRect?r.getBoundingClientRect():{left:0,top:0};i.zrX=e.clientX-n.left,i.zrY=e.clientY-n.top}var h=o?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};e.clientToLocal=s,e.normalizeEvent=function(t,e,i){if(null!=(e=e||window.event).zrX)return e;var r=e.type;if(r&&0<=r.indexOf("touch")){var n="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];n&&s(t,n,e,i)}else s(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&a.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e},e.addEventListener=function(t,e,i){o?t.addEventListener(e,i):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i){o?t.removeEventListener(e,i):t.detachEvent("on"+e,i)},e.stop=h,e.isMiddleOrRightButtonOnMouseUpDown=function(t){return 2===t.which||3===t.which},e.notLeftMouse=function(t){return 1<t.which}},function(t,e,i){var r=i(100),n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return(t=Math.round(t))<0?0:255<t?255:t}function a(t){return t<0?0:1<t?1:t}function s(t){return t.length&&"%"===t.charAt(t.length-1)?o(parseFloat(t)/100*255):o(parseInt(t,10))}function l(t){return t.length&&"%"===t.charAt(t.length-1)?a(parseFloat(t)/100):a(parseFloat(t))}function h(t,e,i){return i<0?i+=1:1<i&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function c(t,e,i){return t+(e-t)*i}function u(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var f=new r(20),y=null;function d(t,e){y&&p(y,e),y=f.put(t,y||e.slice())}function v(t,e){if(t){e=e||[];var i=f.get(t);if(i)return p(e,i);var r,o=(t+="").replace(/ /g,"").toLowerCase();if(o in n)return p(e,n[o]),d(t,e),e;if("#"===o.charAt(0))return 4===o.length?0<=(r=parseInt(o.substr(1),16))&&r<=4095?(u(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),d(t,e),e):void u(e,0,0,0,1):7===o.length?0<=(r=parseInt(o.substr(1),16))&&r<=16777215?(u(e,(16711680&r)>>16,(65280&r)>>8,255&r,1),d(t,e),e):void u(e,0,0,0,1):void 0;var a=o.indexOf("("),h=o.indexOf(")");if(-1!==a&&h+1===o.length){var c=o.substr(0,a),y=o.substr(a+1,h-(a+1)).split(","),v=1;switch(c){case"rgba":if(4!==y.length)return void u(e,0,0,0,1);v=l(y.pop());case"rgb":return 3!==y.length?void u(e,0,0,0,1):(u(e,s(y[0]),s(y[1]),s(y[2]),v),d(t,e),e);case"hsla":return 4!==y.length?void u(e,0,0,0,1):(y[3]=l(y[3]),g(y,e),d(t,e),e);case"hsl":return 3!==y.length?void u(e,0,0,0,1):(g(y,e),d(t,e),e);default:return}}u(e,0,0,0,1)}}function g(t,e){var i=(parseFloat(t[0])%360+360)%360/360,r=l(t[1]),n=l(t[2]),a=n<=.5?n*(r+1):n+r-n*r,s=2*n-a;return u(e=e||[],o(255*h(s,a,i+1/3)),o(255*h(s,a,i)),o(255*h(s,a,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function m(t,e,i){if(e&&e.length&&0<=t&&t<=1){i=i||[];var r=t*(e.length-1),n=Math.floor(r),s=Math.ceil(r),l=e[n],h=e[s],u=r-n;return i[0]=o(c(l[0],h[0],u)),i[1]=o(c(l[1],h[1],u)),i[2]=o(c(l[2],h[2],u)),i[3]=a(c(l[3],h[3],u)),i}}var _=m;function b(t,e,i){if(e&&e.length&&0<=t&&t<=1){var r=t*(e.length-1),n=Math.floor(r),s=Math.ceil(r),l=v(e[n]),h=v(e[s]),u=r-n,p=w([o(c(l[0],h[0],u)),o(c(l[1],h[1],u)),o(c(l[2],h[2],u)),a(c(l[3],h[3],u))],"rgba");return i?{color:p,leftIndex:n,rightIndex:s,value:r}:p}}var x=b;function w(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}e.parse=v,e.lift=function(t,e){var i=v(t);if(i){for(var r=0;r<3;r++)i[r]=e<0?i[r]*(1-e)|0:(255-i[r])*e+i[r]|0,255<i[r]?i[r]=255:t[r]<0&&(i[r]=0);return w(i,4===i.length?"rgba":"rgb")}},e.toHex=function(t){var e=v(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=m,e.fastMapToColor=_,e.lerp=b,e.mapToColor=x,e.modifyHSL=function(t,e,i,r){if(t=v(t))return t=function(t){if(t){var e,i,r=t[0]/255,n=t[1]/255,o=t[2]/255,a=Math.min(r,n,o),s=Math.max(r,n,o),l=s-a,h=(s+a)/2;if(0===l)i=e=0;else{i=h<.5?l/(s+a):l/(2-s-a);var c=((s-r)/6+l/2)/l,u=((s-n)/6+l/2)/l,p=((s-o)/6+l/2)/l;r===s?e=p-u:n===s?e=1/3+c-p:o===s&&(e=2/3+u-c),e<0&&(e+=1),1<e&&(e-=1)}var f=[360*e,i,h];return null!=t[3]&&f.push(t[3]),f}}(t),null!=e&&(t[0]=(n=e,(n=Math.round(n))<0?0:360<n?360:n)),null!=i&&(t[1]=l(i)),null!=r&&(t[2]=l(r)),w(g(t),"rgba");var n},e.modifyAlpha=function(t,e){if((t=v(t))&&null!=e)return t[3]=a(e),w(t,"rgba")},e.stringify=w},function(t,e){var i=1;"undefined"!=typeof window&&(i=Math.max(window.devicePixelRatio||1,1));var r=i;e.debugMode=0,e.devicePixelRatio=r},function(t,e){e.ContextCachedBy={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},e.WILL_BE_RESTORED=9},function(t,e,i){var r=i(3),n=r.retrieve2,o=r.retrieve3,a=r.each,s=r.normalizeCssArray,l=r.isString,h=r.isObject,c=i(50),u=i(105),p=i(68),f=i(102),y=i(48),d=y.ContextCachedBy,v=y.WILL_BE_RESTORED,g=c.DEFAULT_FONT,m={left:1,right:1,center:1},_={top:1,bottom:1,middle:1},b=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]];function x(t){if(t){t.font=c.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||m[e]?e:"left";var i=t.textVerticalAlign||t.textBaseline;"center"===i&&(i="middle"),t.textVerticalAlign=null==i||_[i]?i:"top",t.textPadding&&(t.textPadding=s(t.textPadding))}}function w(t,e,i,r,n){if(i&&e.textRotation){var o=e.textOrigin;"center"===o?(r=i.width/2+i.x,n=i.height/2+i.y):o&&(r=o[0]+i.x,n=o[1]+i.y),t.translate(r,n),t.rotate(-e.textRotation),t.translate(-r,-n)}}function S(t,e,i,r,a,s,l,h){var c=r.rich[i.styleName]||{};c.text=i.text;var u=i.textVerticalAlign,p=s+a/2;"top"===u?p=s+i.height/2:"bottom"===u&&(p=s+a-i.height/2),!i.isLineHolder&&C(c)&&O(t,e,c,"right"===h?l-i.width:"center"===h?l-i.width/2:l,p-i.height/2,i.width,i.height);var f=i.textPadding;f&&(l=E(l,h,f),p-=i.height/2-f[2]-i.textHeight/2),T(e,"shadowBlur",o(c.textShadowBlur,r.textShadowBlur,0)),T(e,"shadowColor",c.textShadowColor||r.textShadowColor||"transparent"),T(e,"shadowOffsetX",o(c.textShadowOffsetX,r.textShadowOffsetX,0)),T(e,"shadowOffsetY",o(c.textShadowOffsetY,r.textShadowOffsetY,0)),T(e,"textAlign",h),T(e,"textBaseline","middle"),T(e,"font",i.font||g);var y=A(c.textStroke||r.textStroke,v),d=M(c.textFill||r.textFill),v=n(c.textStrokeWidth,r.textStrokeWidth);y&&(T(e,"lineWidth",v),T(e,"strokeStyle",y),e.strokeText(i.text,l,p)),d&&(T(e,"fillStyle",d),e.fillText(i.text,l,p))}function C(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function O(t,e,i,r,n,o,a){var s=i.textBackgroundColor,c=i.textBorderWidth,f=i.textBorderColor,y=l(s);if(T(e,"shadowBlur",i.textBoxShadowBlur||0),T(e,"shadowColor",i.textBoxShadowColor||"transparent"),T(e,"shadowOffsetX",i.textBoxShadowOffsetX||0),T(e,"shadowOffsetY",i.textBoxShadowOffsetY||0),y||c&&f){e.beginPath();var d=i.textBorderRadius;d?u.buildPath(e,{x:r,y:n,width:o,height:a,r:d}):e.rect(r,n,o,a),e.closePath()}if(y)if(T(e,"fillStyle",s),null!=i.fillOpacity){var v=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,e.fill(),e.globalAlpha=v}else e.fill();else if(h(s)){var g=s.image;(g=p.createOrUpdateImage(g,null,t,P,s))&&p.isImageReady(g)&&e.drawImage(g,r,n,o,a)}c&&f&&(T(e,"lineWidth",c),T(e,"strokeStyle",f),null!=i.strokeOpacity?(v=e.globalAlpha,e.globalAlpha=i.strokeOpacity*i.opacity,e.stroke(),e.globalAlpha=v):e.stroke())}function P(t,e){e.image=t}function L(t,e,i){var r=e.x||0,n=e.y||0,o=e.textAlign,a=e.textVerticalAlign;if(i){var s=e.textPosition;if(s instanceof Array)r=i.x+k(s[0],i.width),n=i.y+k(s[1],i.height);else{var l=c.adjustTextPositionOnRect(s,i,e.textDistance);r=l.x,n=l.y,o=o||l.textAlign,a=a||l.textVerticalAlign}var h=e.textOffset;h&&(r+=h[0],n+=h[1])}return{baseX:r,baseY:n,textAlign:o,textVerticalAlign:a}}function T(t,e,i){return t[e]=f(t,e,i),t[e]}function A(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function M(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function k(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t}function E(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}e.normalizeTextStyle=function(t){return x(t),a(t.rich,x),t},e.renderText=function(t,e,i,r,n,o){r.rich?function(t,e,i,r,n,o){o!==v&&(e.__attrCachedBy=d.NONE);var a=t.__textCotentBlock;a&&!t.__dirtyText||(a=t.__textCotentBlock=c.parseRichText(i,r)),function(t,e,i,r,n){var o=i.width,a=i.outerWidth,s=i.outerHeight,l=r.textPadding,h=L(0,r,n),u=h.baseX,p=h.baseY,f=h.textAlign,y=h.textVerticalAlign;w(e,r,n,u,p);var d=c.adjustTextX(u,a,f),v=c.adjustTextY(p,s,y),g=d,m=v;l&&(g+=l[3],m+=l[0]);var _=g+o;C(r)&&O(t,e,r,d,v,a,s);for(var b=0;b<i.lines.length;b++){for(var x,P=i.lines[b],T=P.tokens,A=T.length,M=P.lineHeight,k=P.width,E=0,D=g,z=_,j=A-1;E<A&&(!(x=T[E]).textAlign||"left"===x.textAlign);)S(t,e,x,r,M,m,D,"left"),k-=x.width,D+=x.width,E++;for(;0<=j&&"right"===(x=T[j]).textAlign;)S(t,e,x,r,M,m,z,"right"),k-=x.width,z-=x.width,j--;for(D+=(o-(D-g)-(_-z)-k)/2;E<=j;)S(t,e,x=T[E],r,M,m,D+x.width/2,"center"),D+=x.width,E++;m+=M}}(t,e,a,r,n)}(t,e,i,r,n,o):function(t,e,i,r,n,o){"use strict";var a,s=C(r),l=!1,h=e.__attrCachedBy===d.PLAIN_TEXT;o!==v?(o&&(a=o.style,l=!s&&h&&a),e.__attrCachedBy=s?d.NONE:d.PLAIN_TEXT):h&&(e.__attrCachedBy=d.NONE);var u=r.font||g;l&&u===(a.font||g)||(e.font=u);var p=t.__computedFont;t.__styleFont!==u&&(t.__styleFont=u,p=t.__computedFont=e.font);var y=r.textPadding,m=r.textLineHeight,_=t.__textCotentBlock;_&&!t.__dirtyText||(_=t.__textCotentBlock=c.parsePlainText(i,p,y,m,r.truncate));var x=_.outerHeight,S=_.lines,P=_.lineHeight,T=L(0,r,n),k=T.baseX,D=T.baseY,z=T.textAlign||"left",j=T.textVerticalAlign;w(e,r,n,k,D);var B=c.adjustTextY(D,x,j),F=k,R=B;if(s||y){var I=c.getWidth(i,p);y&&(I+=y[1]+y[3]);var N=c.adjustTextX(k,I,z);s&&O(t,e,r,N,B,I,x),y&&(F=E(k,z,y),R+=y[0])}e.textAlign=z,e.textBaseline="middle",e.globalAlpha=r.opacity||1;for(var W=0;W<b.length;W++){var G=b[W],V=G[0],H=G[1],q=r[V];l&&q===a[V]||(e[H]=f(e,H,q||G[2]))}R+=P/2;var U=r.textStrokeWidth,Z=l?a.textStrokeWidth:null,X=!l||U!==Z,Y=!l||X||r.textStroke!==a.textStroke,J=A(r.textStroke,U),$=M(r.textFill);if(J&&(X&&(e.lineWidth=U),Y&&(e.strokeStyle=J)),$&&(l&&r.textFill===a.textFill||(e.fillStyle=$)),1===S.length)J&&e.strokeText(S[0],F,R),$&&e.fillText(S[0],F,R);else for(W=0;W<S.length;W++)J&&e.strokeText(S[W],F,R),$&&e.fillText(S[W],F,R),R+=P}(t,e,i,r,n,o)},e.getStroke=A,e.getFill=M,e.needDrawText=function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},function(t,e,i){var r=i(10),n=i(68),o=i(3),a=o.getContext,s=o.extend,l=o.retrieve2,h=o.retrieve3,c=o.trim,u={},p=0,f=5e3,y=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,d="12px sans-serif",v={};function g(t,e){var i=t+":"+(e=e||d);if(u[i])return u[i];for(var r=(t+"").split("\n"),n=0,o=0,a=r.length;o<a;o++)n=Math.max(O(r[o],e).width,n);return f<p&&(p=0,u={}),p++,u[i]=n}function m(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function _(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function b(t,e,i,r,n){if(!e)return"";var o=(t+"").split("\n");n=x(e,i,r,n);for(var a=0,s=o.length;a<s;a++)o[a]=w(o[a],n);return o.join("\n")}function x(t,e,i,r){(r=s({},r)).font=e,i=l(i,"..."),r.maxIterations=l(r.maxIterations,2);var n=r.minChar=l(r.minChar,0);r.cnCharWidth=g("",e);var o=r.ascCharWidth=g("a",e);r.placeholder=l(r.placeholder,"");for(var a=t=Math.max(0,t-1),h=0;h<n&&o<=a;h++)a-=o;var c=g(i,e);return a<c&&(i="",c=0),a=t-c,r.ellipsis=i,r.ellipsisWidth=c,r.contentWidth=a,r.containerWidth=t,r}function w(t,e){var i=e.containerWidth,r=e.font,n=e.contentWidth;if(!i)return"";var o=g(t,r);if(o<=i)return t;for(var a=0;;a++){if(o<=n||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?S(t,n,e.ascCharWidth,e.cnCharWidth):0<o?Math.floor(t.length*n/o):0;o=g(t=t.substr(0,s),r)}return""===t&&(t=e.placeholder),t}function S(t,e,i,r){for(var n=0,o=0,a=t.length;o<a&&n<e;o++){var s=t.charCodeAt(o);n+=0<=s&&s<=127?i:r}return o}function C(t){return g("",t)}function O(t,e){return v.measureText(t,e)}function P(t,e,i,r,n){null!=t&&(t+="");var o=l(r,C(e)),a=t?t.split("\n"):[],s=a.length*o,h=s;if(i&&(h+=i[0]+i[2]),t&&n){var c=n.outerHeight,u=n.outerWidth;if(null!=c&&c<h)t="",a=[];else if(null!=u)for(var p=x(u-(i?i[1]+i[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),f=0,y=a.length;f<y;f++)a[f]=w(a[f],p)}return{lines:a,height:s,outerHeight:h,lineHeight:o}}function L(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return i;for(var r,o=y.lastIndex=0;null!=(r=y.exec(t));){var a=r.index;o<a&&T(i,t.substring(o,a)),T(i,r[2],r[1]),o=y.lastIndex}o<t.length&&T(i,t.substring(o,t.length));var s=i.lines,c=0,u=0,p=[],f=e.textPadding,d=e.truncate,v=d&&d.outerWidth,m=d&&d.outerHeight;f&&(null!=v&&(v-=f[1]+f[3]),null!=m&&(m-=f[0]+f[2]));for(var _=0;_<s.length;_++){for(var x=s[_],w=0,S=0,O=0;O<x.tokens.length;O++){var P=(F=x.tokens[O]).styleName&&e.rich[F.styleName]||{},L=F.textPadding=P.textPadding,A=F.font=P.font||e.font,M=F.textHeight=l(P.textHeight,C(A));if(L&&(M+=L[0]+L[2]),F.height=M,F.lineHeight=h(P.textLineHeight,e.textLineHeight,M),F.textAlign=P&&P.textAlign||e.textAlign,F.textVerticalAlign=P&&P.textVerticalAlign||"middle",null!=m&&c+F.lineHeight>m)return{lines:[],width:0,height:0};F.textWidth=g(F.text,A);var k=P.textWidth,E=null==k||"auto"===k;if("string"==typeof k&&"%"===k.charAt(k.length-1))F.percentWidth=k,p.push(F),k=0;else{if(E){k=F.textWidth;var D=P.textBackgroundColor,z=D&&D.image;z&&(z=n.findExistImage(z),n.isImageReady(z)&&(k=Math.max(k,z.width*M/z.height)))}var j=L?L[1]+L[3]:0;k+=j;var B=null!=v?v-S:null;null!=B&&B<k&&(!E||B<j?(F.text="",F.textWidth=k=0):(F.text=b(F.text,B-j,A,d.ellipsis,{minChar:d.minChar}),F.textWidth=g(F.text,A),k=F.textWidth+j))}S+=F.width=k,P&&(w=Math.max(w,F.lineHeight))}x.width=S,c+=x.lineHeight=w,u=Math.max(u,S)}for(i.outerWidth=i.width=l(e.textWidth,u),i.outerHeight=i.height=l(e.textHeight,c),f&&(i.outerWidth+=f[1]+f[3],i.outerHeight+=f[0]+f[2]),_=0;_<p.length;_++){var F,R=(F=p[_]).percentWidth;F.width=parseInt(R,10)/100*u}return i}function T(t,e,i){for(var r=""===e,n=e.split("\n"),o=t.lines,a=0;a<n.length;a++){var s=n[a],l={styleName:i,text:s,isLineHolder:!s&&!r};if(a)o.push({tokens:[l]});else{var h=(o[o.length-1]||(o[0]={tokens:[]})).tokens,c=h.length;1===c&&h[0].isLineHolder?h[0]=l:(s||!c||r)&&h.push(l)}}}v.measureText=function(t,e){var i=a();return i.font=e||d,i.measureText(t)},e.DEFAULT_FONT=d,e.$override=function(t,e){v[t]=e},e.getWidth=g,e.getBoundingRect=function(t,e,i,n,o,a,s,l){return s?(c=n,p=(u=L(t,{rich:s,truncate:l,font:e,textAlign:h=i,textPadding:o,textLineHeight:a})).outerWidth,f=u.outerHeight,y=m(0,p,h),d=_(0,f,c),new r(y,d,p,f)):function(t,e,i,n,o,a,s){var l=P(t,e,o,a,s),h=g(t,e);o&&(h+=o[1]+o[3]);var c=l.outerHeight,u=m(0,h,i),p=_(0,c,n),f=new r(u,p,h,c);return f.lineHeight=l.lineHeight,f}(t,e,i,n,o,a,l);var h,c,u,p,f,y,d},e.adjustTextX=m,e.adjustTextY=_,e.adjustTextPositionOnRect=function(t,e,i){var r=e.x,n=e.y,o=e.height,a=e.width,s=o/2,l="left",h="top";switch(t){case"left":r-=i,n+=s,l="right",h="middle";break;case"right":r+=i+a,n+=s,h="middle";break;case"top":r+=a/2,n-=i,l="center",h="bottom";break;case"bottom":r+=a/2,n+=o+i,l="center";break;case"inside":r+=a/2,n+=s,l="center",h="middle";break;case"insideLeft":r+=i,n+=s,h="middle";break;case"insideRight":r+=a-i,n+=s,l="right",h="middle";break;case"insideTop":r+=a/2,n+=i,l="center";break;case"insideBottom":r+=a/2,n+=o-i,l="center",h="bottom";break;case"insideTopLeft":r+=i,n+=i;break;case"insideTopRight":r+=a-i,n+=i,l="right";break;case"insideBottomLeft":r+=i,n+=o-i,h="bottom";break;case"insideBottomRight":r+=a-i,n+=o-i,l="right",h="bottom"}return{x:r,y:n,textAlign:l,textVerticalAlign:h}},e.truncateText=b,e.getLineHeight=C,e.measureText=O,e.parsePlainText=P,e.parseRichText=L,e.makeFont=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&c(e)||t.textFont||t.font}},function(t,e){t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.updateLayer=function(t,e){},t.prototype.on=function(t,e,i){},t.prototype.un=function(t,e){},t.prototype.getLegendViewPort=function(){},t}();e.Layer=r},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=t.call(this)||this;return e.layers=new Map,e}return n(e,t),e.prototype.add=function(t,e){this.layers.set(t,e)},e.prototype.get=function(t){return this.layers.get(t)},e.prototype.size=function(){return this.layers.size},e.prototype.getZIndex=function(){return this.get("line").getZIndex()},e.prototype.setZIndex=function(t){this.layers.forEach(function(e){e.setZIndex(t)})},e.prototype.getOpacity=function(){return this.layers.get("line").getOpacity()},e.prototype.setOpacity=function(t){this.layers.forEach(function(e){e.setOpacity(t)})},e.prototype.getVisible=function(){return this.get("line").getVisible()},e.prototype.setVisible=function(t){this.layers.forEach(function(e){e.setVisible(t)})},e.prototype.getLayer=function(){return this.layers},e.prototype.removeLayer=function(){this.layers.forEach(function(t){t.removeLayer()})},e.prototype.getLegendViewPort=function(){return this.get("line").getLegendViewPort()},e}(i(52).Layer);e.CompositeLayer=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.events={},r.pixelRatio=1,r.onEventArr=[],r.flag=!1,r.mouseFlag=!1,r}return n(e,t),e.prototype.setData=function(t){this._data=t.asArray(),this._layer.updateLayer(),this.bindEvents()},e.prototype.setDrawConfig=function(t,e){this.pixelRatio=t,this.drawShapes=e},e.prototype.startToolTip=function(){this.events.tooltipEve||(this.events.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.events.tooltipEve))},e.prototype.stopToolTip=function(){this.events.tooltipEve&&(this._layer.getLayer().map.un("mousemove",this.events.tooltipEve),this.events.tooltipEve=null)},e.prototype.clickEvent=function(t,e,i,r){if(this.drawShapes){var n=this.drawShapes.zr.handler,o=this.pixelRatio,a=n.findHover(i*o,r*o);n.dispatchToElement(a,"click",event)}},e.prototype.mousemoveEvent=function(t,e,i,r){if(this.drawShapes){var n=this.drawShapes.zr.handler,o=this.drawShapes.zrGroup,a=this.pixelRatio,s=n.findHover(i*a,r*a),l=this.drawShapes.getPolygon(s);if(l){if(this.mouseFlag){if(l===this.oldValue)return;this.mouseFlag=!1}this.oldValue=l,o.trigger("mouseover",{event:event,target:l}),this.mouseFlag=!0}else if(this.mouseFlag){var h;h=this.oldValue?this.oldValue:{data:null},o.trigger("mouseout",{event:event,target:h}),this.mouseFlag=!1}}},e.prototype.tooltipEvent=function(t,e,i,r){var n=this.drawShapes.zr.handler,o=this.pixelRatio,a=n.findHover(i*o,r*o);if(n.dispatchToElement(a,"mousemove",event),a.target){var s=this.findAll(),l=this.tooltip.getStr(s.tooltip.formatter,a.target.data),h=a.target.style.fill;this.tooltip.updateTooltip(!0,l,i+10,r+10,h)}else this.tooltip.updateTooltip(!1)},e.prototype.bindEvents=function(){this.flag?this.unbindEvents():(this.events.click=this.clickEvent.bind(this),this.events.mousemove=this.mousemoveEvent.bind(this)),this._layer.getLayer().map.on("click",this.events.click),this._layer.getLayer().map.on("mousemove",this.events.mousemove),this.flag=!0},e.prototype.unbindEvents=function(){this._layer.getLayer().map.un("click",this.events.click),this._layer.getLayer().map.un("mousemove",this.events.mousemove)},e.prototype.callbackData=function(t){var e=[t.event.offsetX,t.event.offsetY],i=this._layer.getLayer().map.getCoordinateFromPixel(e);return{screenX:e[0],screenY:e[1],lng:i[0],lat:i[1],property:t.target.data}},e.prototype.onEvents=function(){var t=this.drawShapes.zrGroup,e=this;this.onEventArr.forEach(function(i){t.on(i.eventName,function(t){var r=e.callbackData(t);i.handler(r)},i.query)})},e.prototype.on=function(t,e,i){this.onEventArr.push({eventName:t,handler:e,query:i})},e.prototype.un=function(t,e){var i=this;this.onEventArr.forEach(function(r,n){r.eventName==t&&r.handler==e&&i.onEventArr.splice(n,1)})},e.prototype.dispose=function(){this.unbindEvents(),this.events.tooltipEve&&this._layer.getLayer().map.un("mousemove",this.events.tooltipEve)},e}(i(5).MapVChart);e.ZRenderChart=o},function(t,e,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),(r=e.GeometryType||(e.GeometryType={})).GeoJson="GeoJson",r.Wkt="Wkt"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.properties={},this.fields=t}return t.prototype.setValue=function(t,e){this.properties[t]=e},t.prototype.getValue=function(t){return this.properties[t]},t.prototype.getFields=function(){return this.fields},t}();e.Entity=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.StatSource=function(){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(13),n=i(86),o=function(){function t(){}return t.load=function(){var t=this;t.template||(t.template={}),Object.keys(n.ResourceConfig).forEach(function(e){t.template[n.ResourceConfig[e].ChartName]=n.ResourceConfig[e].ChartConfig})},t.get=function(t){var e=JSON.parse(JSON.stringify(this.template[t]));return new r.ChartConfig(e)},t}();e.ChartTemplate=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Renderer=function(t){}},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(92),a=i(1),s=function(t){function e(e,i){void 0===i&&(i="Bearer d277145");var r=t.call(this)||this,n=new a.core.Deserializer,o=new a.core.RestHttp({token:i});return r.styleService=new a.cat.RestStyleDescriptorService({url:e,http:o,deserializer:n}),r}return n(e,t),e.prototype.getStyle=function(){var t=this,e=this;return new Promise(function(i){e.styleTable?i(e.styleTable):t.styleService.findEntityStyle()})},e.prototype.getStyleTable=function(){var t=this;this.styleService.findEntityStyle().then(function(e){t.styleTable=e})},e}(o.Style);e.TSStyle=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(95),n=function(){function t(){}return t.prototype.create=function(t){var e=JSON.parse(t);if(Array.isArray(e)){var i=[];return this.createObject(e,i),i}var n=e.$type;if(n){var o=n.split(",")[0],a=new r.SimpleObjectCreator;if(a.exist(o)){var s=a.create(t);return this.createObject(e,s),s}}return e},t.prototype.createObject=function(t,e){for(var i in t)if(t[i]&&"object"==typeof t[i])if(t[i].hasOwnProperty("$type")){var n=t[i].$type.split(",")[0],o=new r.SimpleObjectCreator;o.exist(n)&&(e[i]=o.create(JSON.stringify(t[i])),this.createObject(e[i],e[i]))}else Array.isArray(t[i])?this.createObject(t[i],e[i]):e[i]=t[i]},t}();e.CurrencyObjectCreator=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.MapSource=function(){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(7),n=function(){function t(t){this.zreder_obj=r.init(t)}return t.prototype.getWidth=function(){return this.zreder_obj.getWidth()},t.prototype.getHeight=function(){return this.zreder_obj.getHeight()},t.prototype.getData=function(){return this.zreder_obj},t}();e.Zrender=n},function(t,e,i){var r=i(97),n=i(14),o=i(3),a=i(166),s=i(169),l=i(174),h=i(176),c=i(177),u=!n.canvasSupported,p={canvas:l},f={},y=function(t,e,i){i=i||{},this.dom=e,this.id=t;var r=this,l=new s,f=i.renderer;if(u){if(!p.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");f="vml"}else f&&p[f]||(f="canvas");var y=new p[f](e,l,i,t);this.storage=l,this.painter=y;var d=n.node||n.worker?null:new c(y.getViewportRoot());this.handler=new a(l,y,d,y.root),this.animation=new h({stage:{update:o.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var v=l.delFromStorage,g=l.addToStorage;l.delFromStorage=function(t){v.call(l,t),t&&t.removeSelfFromZr(r)},l.addToStorage=function(t){g.call(l,t),t.addSelfToZr(r)}};y.prototype={constructor:y,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var i=this.painter.addHover(t,e);return this.refreshHover(),i}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete f[t]}},e.version="4.0.7",e.init=function(t,e){var i=new y(r(),t,e);return f[i.id]=i},e.dispose=function(t){if(t)t.dispose();else{for(var e in f)f.hasOwnProperty(e)&&f[e].dispose();f={}}return this},e.getInstance=function(t){return f[t]},e.registerPainter=function(t,e){p[t]=e}},function(t,e,i){var r=i(3),n=i(98),o=i(10),a=function(t){for(var e in t=t||{},n.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};a.prototype={constructor:a,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,r=i.indexOf(e);0<=r&&(i.splice(r,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof a&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,n=this._children,o=r.indexOf(n,t);return o<0||(n.splice(o,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(i)),e&&e.refresh()),this},removeAll:function(){var t,e,i=this._children,r=this.__storage;for(e=0;e<i.length;e++)t=i[e],r&&(r.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(r)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,r=0;r<i.length;r++){var n=i[r];t.call(e,n,r)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var r=this._children[i];t.call(e,r),"group"===r.type&&r.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof a&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof a&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new o(0,0,0,0),r=t||this._children,n=[],a=0;a<r.length;a++){var s=r[a];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),h=s.getLocalTransform(n);h?(i.copy(l),i.applyTransform(h),(e=e||i.clone()).union(i)):(e=e||l.clone()).union(l)}}return e||i}},r.inherits(a,n);var s=a;t.exports=s},function(t,e,i){var r=i(102),n=i(48).ContextCachedBy,o=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],a=function(t){this.extendFrom(t,!1)};for(var s=a.prototype={constructor:a,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){var a=this,s=i&&i.style,l=!s||t.__attrCachedBy!==n.STYLE_BIND;t.__attrCachedBy=n.STYLE_BIND;for(var h=0;h<o.length;h++){var c=o[h],u=c[0];(l||a[u]!==s[u])&&(t[u]=r(t,u,a[u]||c[1]))}if((l||a.fill!==s.fill)&&(t.fillStyle=a.fill),(l||a.stroke!==s.stroke)&&(t.strokeStyle=a.stroke),(l||a.opacity!==s.opacity)&&(t.globalAlpha=null==a.opacity?1:a.opacity),(l||a.blend!==s.blend)&&(t.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()){var p=a.lineWidth;t.lineWidth=p/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&0<this.lineWidth},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var r=("radial"===e.type?function(t,e,i){var r=i.width,n=i.height,o=Math.min(r,n),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*r+i.x,s=s*n+i.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}:function(t,e,i){var r=null==e.x?0:e.x,n=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(r=r*i.width+i.x,n=n*i.width+i.x,o=o*i.height+i.y,a=a*i.height+i.y),r=isNaN(r)?0:r,n=isNaN(n)?1:n,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(r,o,n,a)})(t,e,i),n=e.colorStops,o=0;o<n.length;o++)r.addColorStop(n[o].offset,n[o].color);return r}},l=0;l<o.length;l++){var h=o[l];h[0]in s||(s[h[0]]=h[1])}a.getGradient=s.getGradient;var c=a;t.exports=c},function(t,e){var i=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};i.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var r=i;t.exports=r},function(t,e,i){var r=new(i(100))(50);function n(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],r=i.cb;r&&r(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function o(t){return t&&t.width&&t.height}e.findExistImage=function(t){if("string"!=typeof t)return t;var e=r.get(t);return e&&e.image},e.createOrUpdateImage=function(t,e,i,a,s){if(t){if("string"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!i)return e;var l=r.get(t),h={hostEl:i,cb:a,cbPayload:s};return l?!o(e=l.image)&&l.pending.push(h):((e=new Image).onload=e.onerror=n,r.put(t,e.__cachedImgObj={image:e,pending:[h]}),e.src=e.__zrImageSrc=t),e}return e},e.isImageReady=o},function(t,e){var i=function(t){this.colorStops=t||[]};i.prototype={constructor:i,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var r=i;t.exports=r},function(t,e,i){var r=i(71).createElement,n=i(26),o=i(10),a=i(24),s=i(50),l=i(49),h=i(28),c=n.CMD,u=Array.prototype.join,p="none",f=Math.round,y=Math.sin,d=Math.cos,v=Math.PI,g=2*Math.PI,m=180/v,_=1e-4;function b(t){return f(1e4*t)/1e4}function x(t){return t<_&&-_<t}function w(t,e){e&&S(t,"transform","matrix("+u.call(e,",")+")")}function S(t,e,i){(!i||"linear"!==i.type&&"radial"!==i.type)&&t.setAttribute(e,i)}function C(t,e,i,r){if(o=e,null!=(a=i?o.textFill:o.fill)&&a!==p){var n=i?e.textFill:e.fill;n="transparent"===n?p:n,"none"!==t.getAttribute("clip-path")&&n===p&&(n="rgba(0, 0, 0, 0.002)"),S(t,"fill",n),S(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)}else S(t,"fill",p);var o,a,s,l;if(s=e,null!=(l=i?s.textStroke:s.stroke)&&l!==p){var h=i?e.textStroke:e.stroke;S(t,"stroke",h="transparent"===h?p:h),S(t,"stroke-width",(i?e.textStrokeWidth:e.lineWidth)/(!i&&e.strokeNoScale?r.getLineScale():1)),S(t,"paint-order",i?"stroke":"fill"),S(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(S(t,"stroke-dasharray",e.lineDash.join(",")),S(t,"stroke-dashoffset",f(e.lineDashOffset||0))):S(t,"stroke-dasharray",""),e.lineCap&&S(t,"stroke-linecap",e.lineCap),e.lineJoin&&S(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&S(t,"stroke-miterlimit",e.miterLimit)}else S(t,"stroke",p)}var O={brush:function(t){var e=t.style,i=t.__svgEl;i||(i=r("path"),t.__svgEl=i),t.path||t.createPathProxy();var n=t.path;if(t.__dirtyPath){n.beginPath(),n.subPixelOptimize=!1,t.buildPath(n,t.shape),t.__dirtyPath=!1;var o=function(t){for(var e=[],i=t.data,r=t.len(),n=0;n<r;){var o="",a=0;switch(i[n++]){case c.M:o="M",a=2;break;case c.L:o="L",a=2;break;case c.Q:o="Q",a=4;break;case c.C:o="C",a=6;break;case c.A:var s=i[n++],l=i[n++],h=i[n++],u=i[n++],p=i[n++],_=i[n++],w=i[n++],S=i[n++],C=Math.abs(_),O=x(C-g)&&!x(C),P=!1;P=g<=C||!x(C)&&(-v<_&&_<0||v<_)==!!S;var L=b(s+h*d(p)),T=b(l+u*y(p));O&&(_=S?g-1e-4:1e-4-g,P=!0,9===n&&e.push("M",L,T));var A=b(s+h*d(p+_)),M=b(l+u*y(p+_));e.push("A",b(h),b(u),f(w*m),+P,+S,A,M);break;case c.Z:o="Z";break;case c.R:A=b(i[n++]),M=b(i[n++]);var k=b(i[n++]),E=b(i[n++]);e.push("M",A,M,"L",A+k,M,"L",A+k,M+E,"L",A,M+E,"L",A,M)}o&&e.push(o);for(var D=0;D<a;D++)e.push(b(i[n++]))}return e.join(" ")}(n);o.indexOf("NaN")<0&&S(i,"d",o)}C(i,e,!1,t),w(i,t.transform),null!=e.text&&A(t,t.getBoundingRect())}},P={brush:function(t){var e=t.style,i=e.image;if(i instanceof HTMLImageElement&&(i=i.src),i){var n,o=e.x||0,a=e.y||0,s=e.width,l=e.height,h=t.__svgEl;h||(h=r("image"),t.__svgEl=h),i!==t.__imageSrc&&("href",n=i,h.setAttributeNS("http://www.w3.org/1999/xlink","href",n),t.__imageSrc=i),S(h,"width",s),S(h,"height",l),S(h,"x",o),S(h,"y",a),w(h,t.transform),null!=e.text&&A(t,t.getBoundingRect())}}},L={},T=new o,A=function(t,e,i){var n=t.style;t.__dirty&&l.normalizeTextStyle(n,!0);var o=n.text;if(null!=o){o+="";var c,u,p=t.__textSvgEl;p||(p=r("text"),t.__textSvgEl=p);var f=n.textPosition,y=n.textDistance,d=n.textAlign||"left";"number"==typeof n.fontSize&&(n.fontSize+="px");var v=n.font||[n.fontStyle||"",n.fontWeight||"",n.fontSize||"",n.fontFamily||""].join(" ")||s.DEFAULT_FONT,g=M(n.textVerticalAlign),m=(i=s.getBoundingRect(o,v,d,g,n.textPadding,n.textLineHeight)).lineHeight;if(f instanceof Array)c=e.x+f[0],u=e.y+f[1];else{var _=s.adjustTextPositionOnRect(f,e,y);c=_.x,u=_.y,g=M(_.textVerticalAlign),d=_.textAlign}S(p,"alignment-baseline",g),v&&(p.style.font=v);var b=n.textPadding;if(S(p,"x",c),S(p,"y",u),C(p,n,!0,t),t instanceof h||t.style.transformText)w(p,t.transform);else{if(t.transform)T.copy(e),T.applyTransform(t.transform),e=T;else{var x=t.transformCoordToGlobal(e.x,e.y);e.x=x[0],e.y=x[1],t.transform=a.identity(a.create())}var O=n.textOrigin;"center"===O?(c=i.width/2+c,u=i.height/2+u):O&&(c=O[0]+c,u=O[1]+u);var P=-n.textRotation||0,L=a.create();a.rotate(L,L,P),x=[t.transform[4],t.transform[5]],a.translate(L,L,x),w(p,L)}var A=o.split("\n"),k=A.length,E=d;"left"===E?(E="start",b&&(c+=b[3])):"right"===E?(E="end",b&&(c-=b[1])):"center"===E&&(E="middle",b&&(c+=(b[3]-b[1])/2));var D=0;if("after-edge"===g?(D=-i.height+m,b&&(D-=b[2])):"middle"===g?(D=(-i.height+m)/2,b&&(u+=(b[0]-b[2])/2)):b&&(D+=b[0]),t.__text!==o||t.__textFont!==v){var z=t.__tspanList||[];t.__tspanList=z;for(var j=0;j<k;j++)(F=z[j])?F.innerHTML="":(F=z[j]=r("tspan"),p.appendChild(F),S(F,"alignment-baseline",g),S(F,"text-anchor",E)),S(F,"x",c),S(F,"y",u+j*m+D),F.appendChild(document.createTextNode(A[j]));for(;j<z.length;j++)p.removeChild(z[j]);z.length=k,t.__text=o,t.__textFont=v}else if(t.__tspanList.length){var B=t.__tspanList.length;for(j=0;j<B;++j){var F;(F=t.__tspanList[j])&&(S(F,"x",c),S(F,"y",u+j*m+D))}}}};function M(t){return"middle"===t?"middle":"bottom"===t?"after-edge":"hanging"}L.drawRectText=A,L.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],A(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},e.path=O,e.image=P,e.text=L},function(t,e){e.createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},function(t,e,i){var r=i(71).createElement,n=i(3),o=i(4),a=i(25),s=i(28),l=i(70),h=l.path,c=l.image,u=l.text;function p(t,e,i,r,n){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=r,this._domName=n||"_dom",this.nextId=0}p.prototype.createElement=r,p.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");return 0===i.length?t?((i=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var r=e.length-1;0<=r;--r)if(e[r]===t)return!0;return!1}),i):null:i[0]},p.prototype.update=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var r=this.add(t);r&&(t[this._domName]=r)}}},p.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},p.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},p.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return n.each(this._tagNames,function(i){var r=t.getElementsByTagName(i);e=e.concat([].slice.call(r))}),e},p.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;n.each(t,function(t){t[e._markLabel]="0"})},p.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},p.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),i=this;n.each(e,function(e){"1"!==e[i._markLabel]&&t.removeChild(e)})}},p.prototype.getSvgProxy=function(t){return t instanceof o?h:t instanceof a?c:t instanceof s?u:h},p.prototype.getTextSvgElement=function(t){return t.__textSvgEl},p.prototype.getSvgElement=function(t){return t.__svgEl};var f=p;t.exports=f},function(t,e){t.exports=r},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),a=function(t){function e(e,i,r){var n=t.call(this,e,i)||this;return n.zr_obj=o.init(r),n.chartName=i,n}return n(e,t),e.prototype.getZr=function(){return this.zr_obj},e.prototype.getWidth=function(){return this.zr_obj.getWidth()},e.prototype.getHeight=function(){return this.zr_obj.getHeight()},e.prototype.addHover=function(t,e){this.zr_obj.addHover(t,e)},e.prototype.removeHover=function(t){this.zr_obj.removeHover(t)},e.prototype.getZrStorage=function(){return this.zr_obj.storage},e.prototype.add=function(t){this.zr_obj.add(t)},e.prototype.createGroup=function(t){return new o.Group(t)},e.prototype.setData=function(t){},e}(i(85).StatChart);e.Zrender=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,r){var n=t.call(this,"Circle",e,i,r)||this;return n.cx=e,n.cy=i,n.r=r,n}return n(e,t),e.prototype.create=function(t){return{shape:{cx:t[0],cy:t[1],r:t[2]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Circle=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(52),a=i(1),s=i(17),l=function(t){function e(e){var i=t.call(this)||this;return i._overlayWare=null,i.imageLayerEve=null,i.extent=null,i._options=e,i.mapType=e.mapType,i}return n(e,t),e.prototype.createImageLayer=function(){var t,e=this._options,i=e.map,r=(this.map=i).getExtent(),n=[r.minx,r.miny,r.maxx,r.maxy];return"TSMap"==this.mapType?(t=new a.carto.ImageLayer({id:"UniqueImageLayer",imageType:703,name:"",canvasFunction:e.canvasFunction,extent:n}),this.imageLayerEve=this.imageLayerEvent.bind(this),i.on("precompose",this.imageLayerEve)):(r=this.map._fullExtent,this.extent=[r.minx,r.miny,r.maxx,r.maxy],t=new a.carto.ImageLayer3D({id:"UniqueImageLayer3D",name:"",image:e.canvas,extent:this.extent,canCache:!1}),this.imageLayerEve=this.imageLayer3DEvent.bind(this),i.on("extentchanged",this.imageLayerEve)),i.addLayer(t),this._layer=t,this},e.prototype.createFeatureLayer=function(){var t=this._options;this.map=t.map;var e=this.map,i=new a.carto.FeatureLayer({id:"FeatureLayer",opacity:1,levelShift:1,zIndex:0,visible:!0});return e.addLayer(i),this._layer=i,this},e.prototype.createHeatMapLayer=function(){var t=this._options,e=t.map;this.map=t.map;var i=new a.carto.HeatMapLayer;return e.addLayer(i),this._layer=i,this},e.prototype.createOverlayWare=function(){return this._overlayWare?this._overlayWare.clear():this._overlayWare=new a.widget.OverlayWare({map:this.map}),this._overlayWare},e.prototype.imageLayerEvent=function(){var t=this.map.getExtent(),e=[t.minx,t.miny,t.maxx,t.maxy];this._layer.getLayer().setExtent(e)},e.prototype.imageLayer3DEvent=function(){var t=this.map.getResolution(),e=window.devicePixelRatio,i=[(this.extent[2]-this.extent[0])/t,(this.extent[3]-this.extent[1])/t];this._options.canvasFunction(this.extent,t,e,i)},e.prototype.getLayer=function(){return this._layer},e.prototype.removeLayer=function(){this.map.removeLayer(this._layer),this.imageLayerEve&&("TSMap"==this.mapType?this.map.un("precompose",this.imageLayerEve):this.map.un("extentchanged",this.imageLayerEve),this.imageLayerEve=null),this._overlayWare&&this._overlayWare.clear()},e.prototype.updateLayer=function(){this._layer&&this._layer.getLayer().getSource().refresh()},e.prototype.getLegendViewPort=function(){switch(this.mapType){case s.MapType.TSMap:return this.map.getViewport();case s.MapType.TSGlobe:return this.map._container}},e.prototype.getZIndex=function(){if(this._layer)return this._layer.zIndex},e.prototype.setZIndex=function(t){this._layer&&this._layer.setZIndex(t)},e.prototype.getOpacity=function(){if(this._layer)return this._layer.opacity},e.prototype.setOpacity=function(t){if(this._layer&&this._layer.setOpacity(t),this._overlayWare)for(var e=0;e<this._overlayWare.getCount();e++)this._overlayWare.get(e).element.style.opacity=t},e.prototype.getVisible=function(){if(this._layer)return this._layer.visible},e.prototype.setVisible=function(t){if(this._layer&&this._layer.setVisible(t),this._overlayWare)for(var e="visible",i=0;i<this._overlayWare.getCount();i++)t||(e="hidden"),this._overlayWare.get(i).element.style.visibility=e},e}(o.Layer);e.TSMapLayer=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(1),s=i(19),l=i(20),h=i(21),c=i(6),u=function(t){function e(e,i){var r=t.call(this,e,i,c.MapVChartType.Boundary)||this;return r.onEventArr=[],r.flag=!1,r.events={},r.isSelect=!1,r.option=null,r.classifyRender=null,r}return n(e,t),e.prototype.setData=function(t){},e.prototype.bindEvents=function(){this.flag&&this.unbindEvents(),this.flag=!0},e.prototype.unbindEvents=function(){this._layer.getLayer().map.un("mousemove",this.events.mousemove)},e.prototype.setToolTip=function(e){e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.setLegend=function(e,i){i.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,i)},e.prototype.startToolTip=function(){this.events.tooltipEve||(this.events.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.events.tooltipEve))},e.prototype.stopToolTip=function(){this.events.tooltipEve&&(this._layer.getLayer().map.un("mousemove",this.events.tooltipEve),this.events.tooltipEve=null)},e.prototype.startSelect=function(){this.events.selectEve||(this.events.selectEve=this.selectEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.events.selectEve))},e.prototype.stopSelect=function(){this.events.selectEve&&(this._layer.getLayer().map.un("mousemove",this.events.selectEve),this.events.selectEve=null)},e.prototype.on=function(t,e){var i=this,r=function(t,r,n,o,a){var s=i.featureEvent(t,r,n,o,a);e(s)};this._layer.getLayer().on(t,r),this.onEventArr.push({eventName:t,handler:e,newHandler:r})},e.prototype.un=function(t,e){var i=this;this.onEventArr.forEach(function(r,n){r.eventName==t&&r.handler==e&&(i._layer.getLayer().un(t,r.newHandler),i.onEventArr.splice(n,1))})},e.prototype.dispose=function(){this.unbindEvents(),this.events.tooltipEve&&this._layer.getLayer().map.un("mousemove",this.events.tooltipEve),this.events.selectEve&&this._layer.getLayer().map.un("mousemove",this.events.selectEve)},e.prototype.tooltipEvent=function(t,e,i,r){var n=this._layer.getLayer().hitTest(i,r),o=this.findAll(),a=this.fieldName;if(Array.isArray(a)&&(a=a[0]),n){for(var s=n.feature,l={},h=s.getFields().fields,c=0;c<h.length;c++)"shape"!=h[c].name&&(l[h[c].name]=s.getProperty(h[c].name).value);var u=this.getMarkColor(s.getProperty(a).value);l.x=i,l.y=r;var p=this.tooltip.getStr(o.tooltip.formatter,l);this.tooltip.updateTooltip(!0,p,i+10,r+10,u)}else this.tooltip.updateTooltip(!1)},e.prototype.selectEvent=function(t,e,i,r,n,o){var s=this._layer.getLayer(),l=s.hitTest(i,r);l?this.featureEvent(i,r,n,o,l):s.unSelect(new a.carto.Graphic({feature:this.selectFeature}))},e.prototype.featureEvent=function(t,e,i,r,n){var o;o=n.hasOwnProperty("feature")?n.feature:n;var s=this._layer.getLayer();this.isSelect=!0,this.selectFeature&&s.unSelect(new a.carto.Graphic({feature:this.selectFeature}));var l=new a.carto.Graphic({feature:o});s.select(l),s.selectSymbol=this.createCurrencySymbol(this.option),this.selectFeature=o,Array.isArray(this.fieldName)?this.fieldName[0]:this.fieldName;for(var h={},c=o.getFields().fields,u=0;u<c.length;u++)"shape"!=c[u].name&&(h[c[u].name]=o.getProperty(c[u].name).value);return{screenX:t,screenY:e,lng:i,lat:r,property:h}},e.prototype.createCurrencySymbol=function(t){var e=new a.sfs.SimpleMarkerSymbol({fillColor:new a.sfs.Color({r:255,g:0,b:0,a:255}),borderColor:new a.sfs.Color({r:255,g:0,b:0,a:255}),size:5,borderThickness:1,style:"circle"}),i=this.isSelect?this.toColor(t.emphasis.fillStyle):this.toColor(t.fillStyle),r=this.isSelect?this.toColor(t.emphasis.strokeStyle):this.toColor(t.strokeStyle),n=this.isSelect?t.emphasis.lineWidth:t.lineWidth,o=new a.sfs.SimpleFillSymbol({fillColor:i,borderColor:r,borderThickness:n}),s=parseInt(t.label.fontSize.replace("px","")),l=new a.sfs.TextSymbol({text:"",fontSize:s,borderThickness:t.label.shadowBlur,fontWeight:t.label.fontWeight,fontFamilyName:t.label.fontFamily,foreground:this.toColor(t.label.fillStyle),borderColor:this.toColor(t.label.shadowColor),textAlign:t.label.textAlign,rotation:t.label.rotation,offsetX:t.label.offsetX,offsetY:t.label.offsetY});return new a.sfs.CurrencySymbol({fillSymbol:o,markerSymbol:e,textSymbol:l})},e.prototype.toFeature=function(t){var e=new s.Fields,i=new h.Feature(e);i.setGeometry(t.getGeometry().asWkt(4));for(var r=0,n=t.fields.fields,o=t.properties;r<n.length;r++){var a=new l.Field;a.name=n[r].name,a.dataType=n[r].dataType,e.addField(a),i.setValue(a.name,o[r].value)}return i},e.prototype.getMarkColor=function(t){if(this.classifyRender)for(var e=this.classifyRender.classfications,i=0;i<e.length;i++)if(t<=e[i].endValue&&t>=e[i].startValue)return e[i].symbol.fillSymbol.fillColor.toHex()},e.prototype.toColor=function(t){if(/^(rgb|RGB)/.test(t)){if(/^(rgba|RGBA)/.test(t)){var e=t.replace(/(?:\(|\)|rgba|RGBA)*/g,"").split(","),i=parseFloat(e[3])||1,r=Math.floor(i*parseInt(e[0])+255*(1-i)),n=Math.floor(i*parseInt(e[1])+255*(1-i)),o=Math.floor(i*parseInt(e[2])+255*(1-i)),s="#"+("0"+r.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)+("0"+o.toString(16)).slice(-2);return new a.sfs.Color.fromHex(s)}var l=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");return new a.sfs.Color({r:l[0],g:l[1],b:l[2],a:255})}return new a.sfs.Color.fromHex(t)},e.prototype.autoGrade=function(t,e,i,r){for(var n=Math.floor((e-t)/i),o=[],a=r,s=[],l=0;l<=i;l++){var h=t+l*n;o.push(h),0<l&&s.push({start:o[l-1]+1,end:h,value:h,color:a[l-1],content:o[l-1]+"-"+o[l]})}return t+i*n<e&&(o.pop(),o.push(e),s.pop(),s.push({start:o[l-2]+1,end:e,value:e,color:a[i-1],content:o[l-2]+"-"+o[l-1]})),s},e.prototype.getWeights=function(t,e){var i=[],r=t.fieldName&&0<t.fieldName.length?t.fieldName:"weight";return Array.isArray(r)&&(r=e?r[1]:r[0]),this._data.map(function(t){i.push(t[r])}),Array.from(new Set(i))},e}(o.MapVChart);e.BoundaryBaseChart=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.splitList=t||{other:1}}return t.prototype.get=function(t){var e=this.splitList,i=e.other;for(var r in e)if(t==r){i=e[r];break}return i},t.prototype.generateByDataSet=function(t,e){var i=e||["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],r=t.get();this.splitList={};for(var n=0,o=0;o<r.length&&(void 0===this.splitList[r[o].count]&&(this.splitList[r[o].count]=i[n],n++),!(n>=i.length-1));o++);this.splitList.other=i[i.length-1]},t.prototype.getLegend=function(t){var e=t.legend.left||10,i=t.legend.bottom||50,r=t.legend.padding||5,n=t.legend.fontSize||14;n.toString().replace("px","");var o=t.legend.fontColor||"#333",a=this.splitList,s=document.createElement("div");s.setAttribute("class","chartLegend"),s.style.position="absolute",s.style.zIndex="0",s.style.left=e+"px",s.style.bottom=i+"px";var l="";if(!0!==t.legend.show)return s;for(var h in a)l+='<div legendClick="true" style="line-height: 19px;padding: '+r+'px;" value="'+h+'"><span style="vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:'+a[h]+';"></span><span style="margin-left: 3px; font-size: '+n+";color: "+o+';">'+h+"<span></div>";return s.innerHTML=l,s},t}();e.Category=r},function(t,e){var i,r,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,h=[],c=!1,u=-1;function p(){c&&l&&(c=!1,l.length?h=l.concat(h):u=-1,h.length&&f())}function f(){if(!c){var t=s(p);c=!0;for(var e=h.length;e;){for(l=h,h=[];++u<e;)l&&l[u].run();u=-1,e=h.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new y(t,e)),1!==h.length||c||s(f)},y.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,i){this.name=t,this.namespace=e,this._constructor=i}return t.prototype.getName=function(){return this.name},t.prototype.getSimpleName=function(){return this.name},t.prototype.getFullName=function(){return this.name+","+this.namespace},t.prototype.newInstance=function(){return new this._constructor},t}();e.TypeInfo=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=function(){function t(t){this.overlayWare=new r.widget.OverlayWare({map:t.getMap()})}return t.prototype.add=function(t){this.overlayWare.add(t.getLay())},t}();e.OverlayWare=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=function(){function t(t,e,i,n){void 0===i&&(i="center-center"),void 0===n&&(n=!1),this.overlay=new r.widget.OverLay({element:t,offset:[0,0],position:e,positioning:i,stopEvent:n})}return t.prototype.getLay=function(){return this.overlay},t}();e.OverLay=n},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var i=t.call(this)||this;return i.data=e,i}return n(e,t),e.prototype.getData=function(){var t=this;return new Promise(function(e){e(t.data)})},e}(i(57).StatSource);e.SimpleSource=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){return t.call(this,e,"PieChart",i)||this}return n(e,t),e}(i(0).EChart);e.BasicPieChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(58),a=function(t){function e(e,i){var r=t.call(this)||this;return r.source=e,r._config=o.ChartTemplate.get(i),r}return n(e,t),e.prototype.config=function(t,e){return this._config.config(t,e),this},e.prototype.findAll=function(){return this._config.findAll()},e.prototype.render=function(){var t=this;this.source.getData().then(function(e){t.setData(e)})},e}(i(36).ChartBase);e.StatChart=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(135),n=i(136),o=i(137),a=i(138),s=i(139),l=i(140),h=i(141);e.ResourceConfig={barchart:r,piechart:n,linechart:o,scatterchart:l,comchart:a,uniquechart:s,textchart:h}},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.foShanStyle(),r}return n(e,t),e.prototype.foShanStyle=function(){this.config("tooltip",{trigger:"axis",textStyle:{color:"#fff",fontSize:10}}),this.config("xAxis",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#eee"}},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}}),this.config("yAxis",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#eee"}},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!0,lineStyle:{color:"#eee"}}}),this.config("series[0]",{itemStyle:{borderColor:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(17,197,203,0.3)"},{offset:.5,color:"rgb(17,197,203)"},{offset:1,color:"rgba(17,197,203,0.3)"}]},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(1,241,241)"},{offset:1,color:"rgba(1,241,241,0)"}]}}})},e}(i(0).EChart);e.BasicBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=i(22),s=i(41),l=i(42),h=function(t){function e(e,i){var r=t.call(this,e,"PieChart",i)||this;return r.nameArray=[],r.changeIndex=-1,r.init(),r.foShanStyle(),r.openLegendEvent(),r}return n(e,t),e.prototype.init=function(){this.config("legend",{top:"90%",orient:!0}),this.config("series[0]",{radius:["56%","60%"],avoidLabelOverlap:!1,label:{color:"white",fontSize:80,fontWeight:900,position:"center",rich:{title:{color:"white",fontSize:18}}},itemStyle:{borderWidth:10,shadowBlur:20}})},e.prototype.foShanStyle=function(){this.config("legend.textStyle.color","white")},e.prototype.setData=function(e){this.data=e;var i=this.getValueIndex(e);void 0===this.sum&&(this.sum=this.sumPieData(e,i));var r=this.setNewData(e,this.sum),n=e.get(0).get(i).alias;this.setUniqueConfig(this.sum,n),t.prototype.setData.call(this,r)},e.prototype.openLegendEvent=function(){var t=this;this.on("legendselectchanged",function(e){var i=t.sum,r=e.selected[e.name],n=Object.keys(e.selected).indexOf(e.name);r?i+=t.nameArray[n]:i-=t.nameArray[n],t.sum=i;for(var o=new a.ChartData,s=0;s<t.data.getCount();s++)0<t.data.get(s).get(0).value.length&&o.addItem(t.data.get(s));t.changeState=r,t.changeIndex=n,t.legendsObject=e.selected,t.setData(o)})},e.prototype.getSumCount=function(t){var e=-1;return null!=t&&(e=0,Object.keys(t).forEach(function(i){t[i]&&e++})),e},e.prototype.sumPieData=function(t,e){for(var i=0,r=0;r<t.getCount();r++)i+=t.get(r).get(e).value,this.nameArray.push(t.get(r).get(e).value);return i},e.prototype.setNewData=function(t,e){var i,r=this.getValueIndex(t),n=new a.ChartData,o=this.getSumCount(this.legendsObject);i=-1==o?Math.floor(e/(2*t.getCount())+.5):Math.floor(e/(2*o)+.5);for(var h=0;h<t.getCount();h++){var c=new s.ChartItem;n.addItem(t.get(h));for(var u=0;u<t.get(h).getCount();u++){var p=t.get(h).get(u),f=new l.ChartEntry;f.name=p.name,u==r&&(-1==o||this.legendsObject[t.get(h).get(0).value]?f.value=i:this.legendsObject[p.name]||(f.value=0)),"string"==typeof p.value&&(f.value=""),c.addEntry(f)}n.addItem(c)}return n},e.prototype.getValueIndex=function(t){for(var e=-1,i=0;i<t.get(0).getCount();i++)if("number"==typeof t.get(0).get(i).value){e=i;break}return e},e.prototype.setUniqueConfig=function(t,e){var i=this.config("sum",t).findAll().series[0].label.formatter;i="string"!=typeof i?t+"\n{title|"+e+"}":i.replace(/{sum}/g,t+""),this.config("series[0].label.formatter",function(t){var e=t.dataIndex;return e%2==0?t.color&&(t.data.itemStyle={borderColor:t.color,shadowColor:t.color}):(t.data.itemStyle={color:"rgba(0,0,0,0)"},t.data.cursor="default",t.data.tooltip={show:!1}),1==e?i:""})},e}(o.EChart);e.SumPieChart=h},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"PieChart",i)||this;return r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].myType",!0)},e.prototype.foShanStyle=function(){this.config("color",["rgb(11,213,144)","rgb(0,196,255)","rgb(255,127,0)","rgb(46,123,255)","rgb(0,255,255)"]),this.config("label",{formatter:"{one|{d}%} {two|{b}}",fontSize:20,fontFamily:"",rich:{one:{backgroundColor:"black",fontSize:16,padding:5,fontWeight:900,borderRadius:8},two:{color:"white",fontSize:19,padding:5,fontWeight:900,borderRadius:8}}})},e.prototype.setData=function(e){var i=e.get(0).getCount();-1<this.getCategoryIndex(e)&&(i-=1),this.setUniqueConfig(i),t.prototype.setData.call(this,e)},e.prototype.getCategoryIndex=function(t){for(var e=0;e<t.get(0).getCount();e++)if("string"==typeof t.get(0).get(e).value)return e;return-1},e.prototype.setUniqueConfig=function(t){for(var e=Math.floor(100/(t+3)+.5),i=0,r=[],n=this.findAll().series;i<t;)this.config("series["+i+"]",{encode:{value:i+1,itemName:0}}),r=n[i].hasOwnProperty("radius")?n[i].radius:[(i+1.5)*e+"%",(i+2)*e+"%"],this.config("series["+i+"].radius",r),i++},e}(i(0).EChart);e.RingPieChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"PieChart",i)||this;return r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{radius:["10%","60%"],roseType:!0})},e.prototype.foShanStyle=function(){this.config("color",["rgb(46,123,255)","rgb(0,255,255)","rgb(11,213,144)"]),this.config("series[0].label",{formatter:"{d}%\n{ppp|{b}}",fontSize:20,fontFamily:"",rich:{ppp:{color:"white",fontSize:20,align:"center"}}})},e}(i(0).EChart);e.RoseRingPieChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"PieChart",i)||this;return r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.init=function(){this.config("legend.show",!1),this.config("color",["#c23531","rgba(0,0,0,0)"]),this.config("series[0]",{radius:["68%","87%"],silent:!0,labelLine:{show:!1},hoverAnimation:!1,label:{show:!1,position:"center"},itemStyle:{color:"rgb(14,37,62)"},data:[12]}),this.config("series[1]",{type:"pie",myType:!0,radius:["74%","81%"],labelLine:{show:!1},avoidLabelOverlap:!1})},e.prototype.foShanStyle=function(){this.config("color[0]","rgb(0,255,255)"),this.config("series[0]",{label:{formatter:"{sum}",fontSize:28,color:"white"}}),this.config("series[1]",{itemStyle:{normal:{borderWidth:10}},label:{formatter:"{d}%",fontSize:50,fontWeight:900,fontFamily:"",position:"center"}})},e.prototype.setData=function(e){var i=this.sumPieData(e),r=this.setSeriesData(e);this.setUniqueConfig(i,r),t.prototype.setData.call(this,e)},e.prototype.sumPieData=function(t){for(var e=0,i=0;i<t.getCount();i++)for(var r=t.get(i),n=0;n<r.getCount();n++){var o=r.get(n);"number"==typeof o.value&&(e+=o.value)}return e},e.prototype.setSeriesData=function(t){for(var e=[],i=0;i<t.getCount();i++)for(var r=0;r<t.get(i).getCount();r++){var n=t.get(i).get(r);"string"==typeof n.value?e.push({name:n.value}):e[i].value=n.value}return e},e.prototype.setUniqueConfig=function(t,e){var i=this.config("sum",t).findAll().series[0].label.formatter;"string"==typeof i&&(i=i.replace(/{sum}/g,t),this.config("series[0].label.formatter",i)),this.config("series[1].data",e)},e}(i(0).EChart);e.SinglePieChart=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Style=function(){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.send=function(t,e,i,r,n){var o=this;return new Promise(function(a,s){var l=new XMLHttpRequest;l.open(t,e,!0),o.setContentType(l,n),o.setResponseType(l,r),l.onreadystatechange=function(){4===l.readyState&&(200===l.status?a(l.responseText):s(new Error(l.responseText)))},l.onerror=function(t){s(new Error(l.responseText))},i?l.send(i):l.send(null)})},t.prototype.setResponseType=function(t,e){(e=e||"text")&&(t.responseType=e)},t.prototype.setContentType=function(t,e){e=e||"application/json",t.setRequestHeader("Content-Type",e)},t}();e.AjaxHttp=r},function(t,e,i){"use strict";var r=this&&this.__decorate||function(t,e,i,r){var n,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(o<3?n(a):3<o?n(e,i,a):n(e,i))||a);return 3<o&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(e,"__esModule",{value:!0});var n=i(23),o=function(){function t(){this.body="heartbeat"}return r([n.__Type({name:"THB",namespace:"http://www.dv.com"})],t)}();e.THB=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(40),n=function(){function t(){}return t.prototype.create=function(t){var e=JSON.parse(t),i=e.$type;if(i){var n=i.split(",")[0];if(this.exist(n)){var o=r.TypeTable.find(n).newInstance();return Object.assign(o,e),o}}return null},t.prototype.exist=function(t){return r.TypeTable.has(t)},t}();e.SimpleObjectCreator=n},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i(62).MapSource);e.ElementSource=o},function(t,e){var i=2311;t.exports=function(){return i++}},function(t,e,i){var r=i(97),n=i(44),o=i(170),a=i(171),s=i(3),l=function(t){o.call(this,t),n.call(this,t),a.call(this,t),this.id=t.id||r()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),(this.clipPath=t).__zr=e,(t.__clipTarget=this).dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(l,a),s.mixin(l,o),s.mixin(l,n);var h=l;t.exports=h},function(t,e,i){var r=i(172),n=i(46),o=i(3).isArrayLike,a=Array.prototype.slice;function s(t,e){return t[e]}function l(t,e,i){t[e]=i}function h(t,e,i){return(e-t)*i+t}function c(t,e,i){return.5<i?e:t}function u(t,e,i,r,n){var o=t.length;if(1===n)for(var a=0;a<o;a++)r[a]=h(t[a],e[a],i);else{var s=o&&t[0].length;for(a=0;a<o;a++)for(var l=0;l<s;l++)r[a][l]=h(t[a][l],e[a][l],i)}}function p(t,e,i){var r=t.length,n=e.length;if(r!==n)if(n<r)t.length=n;else for(var o=r;o<n;o++)t.push(1===i?e[o]:a.call(e[o]));var s=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===i)isNaN(t[o])&&(t[o]=e[o]);else for(var l=0;l<s;l++)isNaN(t[o][l])&&(t[o][l]=e[o][l])}function f(t,e,i){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===i){for(var n=0;n<r;n++)if(t[n]!==e[n])return!1}else{var o=t[0].length;for(n=0;n<r;n++)for(var a=0;a<o;a++)if(t[n][a]!==e[n][a])return!1}return!0}function y(t,e,i,r,n,o,a,s,l){var h=t.length;if(1===l)for(var c=0;c<h;c++)s[c]=d(t[c],e[c],i[c],r[c],n,o,a);else{var u=t[0].length;for(c=0;c<h;c++)for(var p=0;p<u;p++)s[c][p]=d(t[c][p],e[c][p],i[c][p],r[c][p],n,o,a)}}function d(t,e,i,r,n,o,a){var s=.5*(i-t),l=.5*(r-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*o+s*n+e}function v(t){if(o(t)){var e=t.length;if(o(t[0])){for(var i=[],r=0;r<e;r++)i.push(a.call(t[r]));return i}return a.call(t)}return t}function g(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function m(t,e,i,a,s,l){var v=t._getter,m=t._setter,_="spline"===e,b=a.length;if(b){var x,w,S,C=a[0].value,O=o(C),P=!1,L=!1,T=O?(w=(x=a)[x.length-1].value,o(w&&w[0])?2:1):0;a.sort(function(t,e){return t.time-e.time}),S=a[b-1].time;for(var A=[],M=[],k=a[0].value,E=!0,D=0;D<b;D++){A.push(a[D].time/S);var z=a[D].value;if(O&&f(z,k,T)||!O&&z===k||(E=!1),"string"==typeof(k=z)){var j=n.parse(z);j?(z=j,P=!0):L=!0}M.push(z)}if(l||!E){var B=M[b-1];for(D=0;D<b-1;D++)O?p(M[D],B,T):!isNaN(M[D])||isNaN(B)||L||P||(M[D]=B);O&&p(v(t._target,s),B,T);var F,R,I,N,W,G=0,V=0;if(P)var H=[0,0,0,0];var q=new r({target:t._target,life:S,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e<0)i=0;else if(e<V){for(i=Math.min(G+1,b-1);0<=i&&!(A[i]<=e);i--);i=Math.min(i,b-2)}else{for(i=G;i<b&&!(A[i]>e);i++);i=Math.min(i-1,b-2)}V=e;var r=A[(G=i)+1]-A[i];if(0!==r)if(F=(e-A[i])/r,_)if(I=M[i],R=M[0===i?i:i-1],N=M[b-2<i?b-1:i+1],W=M[b-3<i?b-1:i+2],O)y(R,I,N,W,F,F*F,F*F*F,v(t,s),T);else{if(P)n=y(R,I,N,W,F,F*F,F*F*F,H,1),n=g(H);else{if(L)return c(I,N,F);n=d(R,I,N,W,F,F*F,F*F*F)}m(t,s,n)}else if(O)u(M[i],M[i+1],F,v(t,s),T);else{var n;if(P)u(M[i],M[i+1],F,H,1),n=g(H);else{if(L)return c(M[i],M[i+1],F);n=h(M[i],M[i+1],F)}m(t,s,n)}},ondestroy:i});return e&&"spline"!==e&&(q.easing=e),q}}}var _=function(t,e,i,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||s,this._setter=r||l,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};_.prototype={when:function(t,e){var i=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!i[r]){i[r]=[];var n=this._getter(this._target,r);if(null==n)continue;0!==t&&i[r].push({time:0,value:v(n)})}i[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){var i,r=this,n=0,o=function(){--n||r._doneCallback()};for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var s=m(this,t,o,this._tracks[a],a,e);s&&(this._clipList.push(s),n++,this.animation&&this.animation.addClip(s),i=s)}if(i){var l=i.onframe;i.onframe=function(t,e){l(t,e);for(var i=0;i<r._onframeList.length;i++)r._onframeList[i](t,e)}}return n||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,r=0;r<e.length;r++){var n=e[r];t&&n.onframe(this._target,1),i&&i.removeClip(n)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var b=_;t.exports=b},function(t,e){var i=function(){this.head=null,this.tail=null,this._len=0},r=i.prototype;r.insert=function(t){var e=new n(t);return this.insertEntry(e),e},r.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var n=function(t){this.value=t,this.next,this.prev},o=function(t){this._list=new i,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},a=o.prototype;a.put=function(t,e){var i=this._list,r=this._map,o=null;if(null==r[t]){var a=i.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&0<a){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new n(e),s.key=t,i.insertEntry(s),r[t]=s}return o},a.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},a.clear=function(){this._list.clear(),this._map={}};var s=o;t.exports=s},function(t,e){var i=7;function r(t,e,i,r){var n=e+1;if(n===i)return 1;if(r(t[n++],t[e])<0){for(;n<i&&r(t[n],t[n-1])<0;)n++;!function(t,e,i){for(i--;e<i;){var r=t[e];t[e++]=t[i],t[i--]=r}}(t,e,n)}else for(;n<i&&0<=r(t[n],t[n-1]);)n++;return n-e}function n(t,e,i,r,n){for(r===e&&r++;r<i;r++){for(var o,a=t[r],s=e,l=r;s<l;)n(a,t[o=s+l>>>1])<0?l=o:s=o+1;var h=r-s;switch(h){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<h;)t[s+h]=t[s+h-1],h--}t[s]=a}}function o(t,e,i,r,n,o){var a=0,s=0,l=1;if(0<o(t,e[i+n])){for(s=r-n;l<s&&0<o(t,e[i+n+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=n,l+=n}else{for(s=n+1;l<s&&o(t,e[i+n-l])<=0;)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s);var h=a;a=n-l,l=n-h}for(a++;a<l;){var c=a+(l-a>>>1);0<o(t,e[i+c])?a=c+1:l=c}return l}function a(t,e,i,r,n,o){var a=0,s=0,l=1;if(o(t,e[i+n])<0){for(s=n+1;l<s&&o(t,e[i+n-l])<0;)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s);var h=a;a=n-l,l=n-h}else{for(s=r-n;l<s&&0<=o(t,e[i+n+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=n,l+=n}for(a++;a<l;){var c=a+(l-a>>>1);o(t,e[i+c])<0?l=c:a=c+1}return l}function s(t,e){var r,n,s=i,l=0;t.length;var h=[];function c(c){var u=r[c],p=n[c],f=r[c+1],y=n[c+1];n[c]=p+y,c===l-3&&(r[c+1]=r[c+2],n[c+1]=n[c+2]),l--;var d=a(t[f],t,u,p,0,e);u+=d,0!=(p-=d)&&0!==(y=o(t[u+p-1],t,f,y,y-1,e))&&(p<=y?function(r,n,l,c){var u=0;for(u=0;u<n;u++)h[u]=t[r+u];var p=0,f=l,y=r;if(t[y++]=t[f++],0!=--c){if(1===n){for(u=0;u<c;u++)t[y+u]=t[f+u];return t[y+c]=h[p]}for(var d,v,g,m=s;;){v=d=0,g=!1;do{if(e(t[f],h[p])<0){if(t[y++]=t[f++],v++,(d=0)==--c){g=!0;break}}else if(t[y++]=h[p++],d++,v=0,1==--n){g=!0;break}}while((d|v)<m);if(g)break;do{if(0!==(d=a(t[f],h,p,n,0,e))){for(u=0;u<d;u++)t[y+u]=h[p+u];if(y+=d,p+=d,(n-=d)<=1){g=!0;break}}if(t[y++]=t[f++],0==--c){g=!0;break}if(0!==(v=o(h[p],t,f,c,0,e))){for(u=0;u<v;u++)t[y+u]=t[f+u];if(y+=v,f+=v,0==(c-=v)){g=!0;break}}if(t[y++]=h[p++],1==--n){g=!0;break}m--}while(i<=d||i<=v);if(g)break;m<0&&(m=0),m+=2}if((s=m)<1&&(s=1),1===n){for(u=0;u<c;u++)t[y+u]=t[f+u];t[y+c]=h[p]}else{if(0===n)throw new Error;for(u=0;u<n;u++)t[y+u]=h[p+u]}}else for(u=0;u<n;u++)t[y+u]=h[p+u]}(u,p,f,y):function(r,n,l,c){var u=0;for(u=0;u<c;u++)h[u]=t[l+u];var p=r+n-1,f=c-1,y=l+c-1,d=0,v=0;if(t[y--]=t[p--],0!=--n){if(1===c){for(v=1+(y-=n),d=1+(p-=n),u=n-1;0<=u;u--)t[v+u]=t[d+u];return t[y]=h[f]}for(var g=s;;){var m=0,_=0,b=!1;do{if(e(h[f],t[p])<0){if(t[y--]=t[p--],m++,(_=0)==--n){b=!0;break}}else if(t[y--]=h[f--],_++,m=0,1==--c){b=!0;break}}while((m|_)<g);if(b)break;do{if(0!=(m=n-a(h[f],t,r,n,n-1,e))){for(n-=m,v=1+(y-=m),d=1+(p-=m),u=m-1;0<=u;u--)t[v+u]=t[d+u];if(0===n){b=!0;break}}if(t[y--]=h[f--],1==--c){b=!0;break}if(0!=(_=c-o(t[p],h,0,c,c-1,e))){for(c-=_,v=1+(y-=_),d=1+(f-=_),u=0;u<_;u++)t[v+u]=h[d+u];if(c<=1){b=!0;break}}if(t[y--]=t[p--],0==--n){b=!0;break}g--}while(i<=m||i<=_);if(b)break;g<0&&(g=0),g+=2}if((s=g)<1&&(s=1),1===c){for(v=1+(y-=n),d=1+(p-=n),u=n-1;0<=u;u--)t[v+u]=t[d+u];t[y]=h[f]}else{if(0===c)throw new Error;for(d=y-(c-1),u=0;u<c;u++)t[d+u]=h[u]}}else for(d=y-(c-1),u=0;u<c;u++)t[d+u]=h[u]}(u,p,f,y))}r=[],n=[],this.mergeRuns=function(){for(;1<l;){var t=l-2;if(1<=t&&n[t-1]<=n[t]+n[t+1]||2<=t&&n[t-2]<=n[t]+n[t-1])n[t-1]<n[t+1]&&t--;else if(n[t]>n[t+1])break;c(t)}},this.forceMergeRuns=function(){for(;1<l;){var t=l-2;0<t&&n[t-1]<n[t+1]&&t--,c(t)}},this.pushRun=function(t,e){r[l]=t,n[l]=e,l+=1}}t.exports=function(t,e,i,o){i||(i=0),o||(o=t.length);var a=o-i;if(!(a<2)){var l=0;if(a<32)n(t,i,o,i+(l=r(t,i,o,e)),e);else{var h=new s(t,e),c=function(t){for(var e=0;32<=t;)e|=1&t,t>>=1;return t+e}(a);do{if((l=r(t,i,o,e))<c){var u=a;c<u&&(u=c),n(t,i,i+u,i+l,e),l=u}h.pushRun(i,l),h.mergeRuns(),a-=l,i+=l}while(0!==a);h.forceMergeRuns()}}}},function(t,e){var i={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};t.exports=function(t,e,r){return i.hasOwnProperty(e)?r*t.dpr:r}},function(t,e){var i="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=i},function(t,e,i){var r=i(49),n=i(10),o=i(48).WILL_BE_RESTORED,a=new n,s=function(){};s.prototype={constructor:s,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&&r.normalizeTextStyle(i,!0);var n=i.text;if(null!=n&&(n+=""),r.needDrawText(n,i)){t.save();var s=this.transform;i.transformText?this.setTransform(t):s&&(a.copy(e),a.applyTransform(s),e=a),r.renderText(this,t,n,i,e,o),t.restore()}}};var l=s;t.exports=l},function(t,e){e.buildPath=function(t,e){var i,r,n,o,a,s=e.x,l=e.y,h=e.width,c=e.height,u=e.r;h<0&&(s+=h,h=-h),c<0&&(l+=c,c=-c),"number"==typeof u?i=r=n=o=u:u instanceof Array?1===u.length?i=r=n=o=u[0]:2===u.length?(i=n=u[0],r=o=u[1]):3===u.length?(i=u[0],r=o=u[1],n=u[2]):(i=u[0],r=u[1],n=u[2],o=u[3]):i=r=n=o=0,h<i+r&&(i*=h/(a=i+r),r*=h/a),h<n+o&&(n*=h/(a=n+o),o*=h/a),c<r+n&&(r*=c/(a=r+n),n*=c/a),c<i+o&&(i*=c/(a=i+o),o*=c/a),t.moveTo(s+i,l),t.lineTo(s+h-r,l),0!==r&&t.arc(s+h-r,l+r,r,-Math.PI/2,0),t.lineTo(s+h,l+c-n),0!==n&&t.arc(s+h-n,l+c-n,n,0,Math.PI/2),t.lineTo(s+o,l+c),0!==o&&t.arc(s+o,l+c-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+i),0!==i&&t.arc(s+i,l+i,i,Math.PI,1.5*Math.PI)}},function(t,e,i){var r=i(4),n=i(26),o=i(186),a=Math.sqrt,s=Math.sin,l=Math.cos,h=Math.PI,c=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},u=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(c(t)*c(e))},p=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(u(t,e))};function f(t,e,i,r,n,o,c,f,y,d,v){var g=y*(h/180),m=l(g)*(t-i)/2+s(g)*(e-r)/2,_=-1*s(g)*(t-i)/2+l(g)*(e-r)/2,b=m*m/(c*c)+_*_/(f*f);1<b&&(c*=a(b),f*=a(b));var x=(n===o?-1:1)*a((c*c*(f*f)-c*c*(_*_)-f*f*(m*m))/(c*c*(_*_)+f*f*(m*m)))||0,w=x*c*_/f,S=x*-f*m/c,C=(t+i)/2+l(g)*w-s(g)*S,O=(e+r)/2+s(g)*w+l(g)*S,P=p([1,0],[(m-w)/c,(_-S)/f]),L=[(m-w)/c,(_-S)/f],T=[(-1*m-w)/c,(-1*_-S)/f],A=p(L,T);u(L,T)<=-1&&(A=h),1<=u(L,T)&&(A=0),0===o&&0<A&&(A-=2*h),1===o&&A<0&&(A+=2*h),v.addData(d,C,O,c,f,P,A,g,o)}var y=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,d=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function v(t,e){var i=function(t){if(!t)return new n;for(var e,i=0,r=0,o=i,a=r,s=new n,l=n.CMD,h=t.match(y),c=0;c<h.length;c++){for(var u,p=h[c],v=p.charAt(0),g=p.match(d)||[],m=g.length,_=0;_<m;_++)g[_]=parseFloat(g[_]);for(var b=0;b<m;){var x,w,S,C,O,P,L,T=i,A=r;switch(v){case"l":i+=g[b++],r+=g[b++],u=l.L,s.addData(u,i,r);break;case"L":i=g[b++],r=g[b++],u=l.L,s.addData(u,i,r);break;case"m":i+=g[b++],r+=g[b++],u=l.M,s.addData(u,i,r),o=i,a=r,v="l";break;case"M":i=g[b++],r=g[b++],u=l.M,s.addData(u,i,r),o=i,a=r,v="L";break;case"h":i+=g[b++],u=l.L,s.addData(u,i,r);break;case"H":i=g[b++],u=l.L,s.addData(u,i,r);break;case"v":r+=g[b++],u=l.L,s.addData(u,i,r);break;case"V":r=g[b++],u=l.L,s.addData(u,i,r);break;case"C":u=l.C,s.addData(u,g[b++],g[b++],g[b++],g[b++],g[b++],g[b++]),i=g[b-2],r=g[b-1];break;case"c":u=l.C,s.addData(u,g[b++]+i,g[b++]+r,g[b++]+i,g[b++]+r,g[b++]+i,g[b++]+r),i+=g[b-2],r+=g[b-1];break;case"S":x=i,w=r;var M=s.len(),k=s.data;e===l.C&&(x+=i-k[M-4],w+=r-k[M-3]),u=l.C,T=g[b++],A=g[b++],i=g[b++],r=g[b++],s.addData(u,x,w,T,A,i,r);break;case"s":x=i,w=r,M=s.len(),k=s.data,e===l.C&&(x+=i-k[M-4],w+=r-k[M-3]),u=l.C,T=i+g[b++],A=r+g[b++],i+=g[b++],r+=g[b++],s.addData(u,x,w,T,A,i,r);break;case"Q":T=g[b++],A=g[b++],i=g[b++],r=g[b++],u=l.Q,s.addData(u,T,A,i,r);break;case"q":T=g[b++]+i,A=g[b++]+r,i+=g[b++],r+=g[b++],u=l.Q,s.addData(u,T,A,i,r);break;case"T":x=i,w=r,M=s.len(),k=s.data,e===l.Q&&(x+=i-k[M-4],w+=r-k[M-3]),i=g[b++],r=g[b++],u=l.Q,s.addData(u,x,w,i,r);break;case"t":x=i,w=r,M=s.len(),k=s.data,e===l.Q&&(x+=i-k[M-4],w+=r-k[M-3]),i+=g[b++],r+=g[b++],u=l.Q,s.addData(u,x,w,i,r);break;case"A":S=g[b++],C=g[b++],O=g[b++],P=g[b++],L=g[b++],f(T=i,A=r,i=g[b++],r=g[b++],P,L,S,C,O,u=l.A,s);break;case"a":S=g[b++],C=g[b++],O=g[b++],P=g[b++],L=g[b++],f(T=i,A=r,i+=g[b++],r+=g[b++],P,L,S,C,O,u=l.A,s)}}"z"!==v&&"Z"!==v||(u=l.Z,s.addData(u),i=o,r=a),e=u}return s.toStatic(),s}(t);return(e=e||{}).buildPath=function(t){if(t.setData)t.setData(i.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){o(i,t),this.dirty(!0)},e}e.createFromString=function(t,e){return new r(v(t,e))},e.extendFromString=function(t,e){return r.extend(v(t,e))},e.mergePath=function(t,e){for(var i=[],n=t.length,o=0;o<n;o++){var a=t[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),i.push(a.path)}var s=new r(e);return s.createPathProxy(),s.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},s}},function(t,e){var i=2*Math.PI;e.normalizeRadian=function(t){return(t%=i)<0&&(t+=i),t}},function(t,e,i){var r=i(4).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=r},function(t,e,i){var r=i(4),n=i(105),o=i(110).subPixelOptimizeRect,a={},s=r.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i,r,s,l;this.subPixelOptimize?(o(a,e,this.style),i=a.x,r=a.y,s=a.width,l=a.height,a.r=e.r,e=a):(i=e.x,r=e.y,s=e.width,l=e.height),e.r?n.buildPath(t,e):t.rect(i,r,s,l),t.closePath()}});t.exports=s},function(t,e){var i=Math.round;function r(t,e,r){var n=i(2*t);return(n+i(e))%2==0?n/2:(n+(r?1:-1))/2}e.subPixelOptimizeLine=function(t,e,n){var o=n&&n.lineWidth;if(e&&o){var a=e.x1,s=e.x2,l=e.y1,h=e.y2;i(2*a)===i(2*s)?t.x1=t.x2=r(a,o,!0):(t.x1=a,t.x2=s),i(2*l)===i(2*h)?t.y1=t.y2=r(l,o,!0):(t.y1=l,t.y2=h)}},e.subPixelOptimizeRect=function(t,e,i){var n=i&&i.lineWidth;if(e&&n){var o=e.x,a=e.y,s=e.width,l=e.height;t.x=r(o,n,!0),t.y=r(a,n,!0),t.width=Math.max(r(o+s,n,!1)-t.x,0===s?0:1),t.height=Math.max(r(a+l,n,!1)-t.y,0===l?0:1)}},e.subPixelOptimize=r},function(t,e,i){var r=i(4).extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var i=e.cx,r=e.cy,n=e.rx,o=e.ry,a=.5522848*n,s=.5522848*o;t.moveTo(i-n,r),t.bezierCurveTo(i-n,r-s,i-a,r-o,i,r-o),t.bezierCurveTo(i+a,r-o,i+n,r-s,i+n,r),t.bezierCurveTo(i+n,r+s,i+a,r+o,i,r+o),t.bezierCurveTo(i-a,r+o,i-n,r+s,i-n,r),t.closePath()}});t.exports=r},function(t,e,i){var r=i(4),n=i(110).subPixelOptimizeLine,o={},a=r.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i,r,a,s;s=this.subPixelOptimize?(n(o,e,this.style),i=o.x1,r=o.y1,a=o.x2,o.y2):(i=e.x1,r=e.y1,a=e.x2,e.y2);var l=e.percent;0!==l&&(t.moveTo(i,r),l<1&&(a=i*(1-l)+a*l,s=r*(1-l)+s*l),t.lineTo(a,s))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=a},function(t,e,i){var r=i(4),n=i(114),o=r.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){n.buildPath(t,e,!0)}});t.exports=o},function(t,e,i){var r=i(188),n=i(189);e.buildPath=function(t,e,i){var o=e.points,a=e.smooth;if(o&&2<=o.length){if(a&&"spline"!==a){var s=n(o,a,i,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var l=o.length,h=0;h<(i?l:l-1);h++){var c=s[2*h],u=s[2*h+1],p=o[(h+1)%l];t.bezierCurveTo(c[0],c[1],u[0],u[1],p[0],p[1])}}else{"spline"===a&&(o=r(o,i)),t.moveTo(o[0][0],o[0][1]),h=1;for(var f=o.length;h<f;h++)t.lineTo(o[h][0],o[h][1])}i&&t.closePath()}}},function(t,e,i){var r=i(4),n=i(114),o=r.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){n.buildPath(t,e,!1)}});t.exports=o},function(t,e,i){var r=i(3),n=i(69),o=function(t,e,i,r,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==r?0:r,this.type="linear",this.global=a||!1,n.call(this,o)};o.prototype={constructor:o},r.inherits(o,n);var a=o;t.exports=a},function(t,e,i){var r,n=i(14),o="urn:schemas-microsoft-com:vml",a="undefined"==typeof window?null:window,s=!1,l=a&&a.document;if(l&&!n.canvasSupported)try{!l.namespaces.zrvml&&l.namespaces.add("zrvml",o),r=function(t){return l.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){r=function(t){return l.createElement("<"+t+' xmlns="'+o+'" class="zrvml">')}}e.doc=l,e.createNode=function(t){return r(t)},e.initVML=function(){if(!s&&l){s=!0;var t=l.styleSheets;t.length<31?l.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(34),n=i(7),o=function(){function t(){}return t.prototype.draw=function(t,e,i,r,o,a){this.zr||(this.zr=n.init(t)),this.zr.clear(),this.canvasContext=t;var s=this.getNewData(i,2*o.size,r,o.fieldName);this.setRange(s,o,a),this.drawHoneyComb(e,s,r,o,a)},t.prototype.getNewData=function(t,e,i,r){for(var n={},o=e*i,a=o*Math.sqrt(3),s=1.5*o,l=this.checkFiledName(r,Object.keys(t[0])),h=0;h<t.length;h++){var c=t[h].shape,u=c[1]/s,p=Math.round(u),f=c[0]/a-(1&p?.5:0),y=Math.round(f),d=u-p;if(1<3*Math.abs(d)){var v=f-y,g=y+(f<y?-1:1)/2,m=p+(u<p?-1:1),_=f-g,b=u-m;_*_+b*b<v*v+d*d&&(y=g+(1&p?1:-1)/2,p=m)}var x=y+"-"+p,w=n[x];w?l?w.point_count+=t[h][r]:w.point_count++:((w=n[x]={}).point_count=l?t[h][r]:1,w.i=y,w.j=p,w.x=(y+(1&p?.5:0))*a,w.y=p*s)}return n},t.prototype.drawHoneyComb=function(t,e,i,o,a){var s=t[0],l=t[3],h=2*o.size;this.size=o.size;var c=o.offset,u=this.getZrStyle(o),p=new n.Group;for(var f in e){var y=(e[f].x-s)/i+c[0],d=(l-e[f].y)/i+c[1],v=h/2,g=new r.RegularSix(y,d,v),m=e[f].point_count;o.label.show&&(u.text=m),u.fill=a.getColor(m),g.setAttr("style",u),g.setAttr("data",this.getProperty(e[f])),p.add(g.getElement())}this.zr.add(p),this.zrGroup=p},t.prototype.getPolygon=function(t){for(var e=0;e<this.zrGroup.childCount();e++){var i=this.zrGroup.childAt(e);if(i.contain(t.x,t.y))return i}return null},t.prototype.getProperty=function(t){var e={};for(var i in t)"i"!=i&&"j"!=i&&"x"!=i&&"y"!=i&&(e[i]=t[i]);return e},t.prototype.checkFiledName=function(t,e){for(var i=0;i<e.length;i++)if(t===e[i])return!0;return!1},t.prototype.getZrStyle=function(t){return{stroke:t.strokeStyle,lineWidth:t.lineWidth,shadowColor:t.shadowColor,shadowBlur:t.shadowBlur,textFill:t.label.fillStyle,fontStyle:t.label.fontStyle,fontWeight:t.label.fontWeight,fontSize:t.label.fontSize.replace("px",""),fontFamily:t.label.fontFamily,textShadowColor:t.label.shadowColor,textShadowBlur:t.label.shadowBlur,opacity:t.globalAlpha}},t.prototype.setRange=function(t,e,i){var r=null,n=null;for(var o in t){var a=t[o].point_count;r=r?Math.min(a,r):a,n=n?Math.max(a,n):a}e.hasOwnProperty("min")||i.setMin(r),e.hasOwnProperty("max")||i.setMax(n)},t}();e.HoneyComb=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(7),n=i(120),o=function(){function t(){}return t.prototype.draw=function(t,e,i,n,o,a){this.zr||(this.zr=r.init(t)),this.zr.clear();var s=this.getNewData(i,2*o.size,n,o.fieldName);this.setRange(s,o,a),this.drawGrid(e,s,n,o,a)},t.prototype.getNewData=function(t,e,i,r){for(var n={},o=e*i*2,a=this.checkFiledName(r,Object.keys(t[0])),s=0;s<t.length;s++){var l=t[s].shape,h=Math.floor(l[0]/o),c=Math.floor(l[1]/o),u=h+"-"+c,p=n[u];p?a?p.point_count+=t[s][r]:p.point_count++:((p=n[u]={}).point_count=a?t[s][r]:1,p.i=h,p.j=c,p.x=(h+.5)*o,p.y=(c+.5)*o)}return n},t.prototype.drawGrid=function(t,e,i,o,a){var s=t[0],l=t[3],h=2*o.size,c=o.offset,u=this.getZrStyle(o),p=new r.Group;for(var f in e){var y=(e[f].x-s)/i+c[0],d=(l-e[f].y)/i+c[1],v=2*h,g=new n.Square(y,d,v),m=e[f].point_count;o.label.show&&(u.text=m),u.fill=a.getColor(m),g.setAttr("style",u),g.setAttr("data",this.getProperty(e[f])),p.add(g.getElement())}this.zr.add(p),this.zrGroup=p},t.prototype.getProperty=function(t){var e={};for(var i in t)"i"!=i&&"j"!=i&&"x"!=i&&"y"!=i&&(e[i]=t[i]);return e},t.prototype.getPolygon=function(t){for(var e=0;e<this.zrGroup.childCount();e++){var i=this.zrGroup.childAt(e);if(i.contain(t.x,t.y))return i}return null},t.prototype.checkFiledName=function(t,e){for(var i=0;i<e.length;i++)if(t===e[i])return!0;return!1},t.prototype.getZrStyle=function(t){return{stroke:t.strokeStyle,lineWidth:t.lineWidth,shadowColor:t.shadowColor,shadowBlur:t.shadowBlur,textFill:t.label.fillStyle,fontStyle:t.label.fontStyle,fontWeight:t.label.fontWeight,fontSize:t.label.fontSize.replace("px",""),fontFamily:t.label.fontFamily,textShadowColor:t.label.shadowColor,textShadowBlur:t.label.shadowBlur,opacity:t.globalAlpha}},t.prototype.setRange=function(t,e,i){var r=null,n=null;for(var o in t){var a=t[o].point_count;r=r?Math.min(a,r):a,n=n?Math.max(a,n):a}e.hasOwnProperty("min")||i.setMin(r),e.hasOwnProperty("max")||i.setMax(n)},t}();e.Grid=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,r){var n=t.call(this,"Rect",e,i,r)||this;return n.x=e,n.y=i,n.len=r,n}return n(e,t),e.prototype.create=function(t){return{shape:{x:t[0],y:t[1],width:t[2],height:t[2]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Square=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Map=function(){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(7),n=i(75),o=function(){function t(){}return t.prototype.draw=function(t,e,i,n,o){this.zr||(this.zr=r.init(t)),this.zr.clear();var a=this.getNewData(n,i,o);this.drawBubble(e,a,i,o)},t.prototype.getNewData=function(t,e,i){for(var r={},n=function(e){var i=t[e].shape,n=Math.floor(i[0]),o=Math.floor(i[1]),a=n+"-"+o,s=r[a];s=r[a]={},Object.keys(t[0]).forEach(function(i){"shape"!==i&&(s[i]=t[e][i])}),s.i=n,s.j=o,s.x=i[0],s.y=i[1]},o=0;o<t.length;o++)n(o);return r},t.prototype.drawBubble=function(t,e,i,o){var a=t[0],s=t[3],l=this.getZrStyle(o),h=o.offset,c=new r.Group;o.maxSize=o.maxSize||25,o.minSize=o.minSize||10;var u=this.getTimes(e,o)||1,p=o.fieldName;for(var f in e){var y=(e[f].x-a)/i+h[0],d=(s-e[f].y)/i+h[1],v=(e[f][p]||20)/u;v<o.minSize&&(v=o.minSize);var g=new n.Circle(y,d,v);o.label.show&&(l.text=e[f][p]),g.setAttr("style",l),g.setAttr("data",this.getProperty(e[f])),c.add(g.getElement())}this.zr.add(c),this.zrGroup=c},t.prototype.getPolygon=function(t){for(var e=0;e<this.zrGroup.childCount();e++){var i=this.zrGroup.childAt(e);if(i.contain(t.x,t.y))return i}return null},t.prototype.getProperty=function(t){var e={};for(var i in t)"i"!=i&&"j"!=i&&"x"!=i&&"y"!=i&&(e[i]=t[i]);return e},t.prototype.getZrStyle=function(t){return{fill:t.fillStyle,stroke:t.strokeStyle,lineWidth:t.lineWidth,shadowColor:t.shadowColor,shadowBlur:t.shadowBlur,textFill:t.label.fillStyle,fontStyle:t.label.fontStyle,fontWeight:t.label.fontWeight,fontSize:t.label.fontSize.replace("px",""),fontFamily:t.label.fontFamily,textShadowColor:t.label.shadowColor,textShadowBlur:t.label.shadowBlur,opacity:t.globalAlpha}},t.prototype.getTimes=function(t,e){var i=[],r=e.fieldName;for(var n in t)i.push(t[n][r]);var o=Math.max.apply(null,i),a=Math.ceil(Number(o)/e.maxSize);return a<1&&(a=1),a},t}();e.Bubble=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(121),a=i(1),s=function(t){function e(e,i){var r=t.call(this)||this,n=r.initConfig(i);return r.globe=new a.carto.Globe({defaultExtent:n.defaultExtent,fullExtent:n.fullExtent,srid:n.srid}),r.globe.init({targetId:e}),r}return n(e,t),e.prototype.initConfig=function(t){var e={defaultExtent:[115.25,39.26,117.3,41.03],fullExtent:[115.25,39.26,117.3,41.03],srid:4326};for(var i in t)"dom"==i&&(e[i]=t[i]);return e},e.prototype.addLayer=function(t){this.globe.addLayer(t)},e.prototype.getMap=function(){return this.globe},e}(o.Map);e.TSGlobe=s},function(t,e,i){i(125),t.exports=i(126)},function(t,e){t.exports=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(36),n=i(30),o=i(127),a=i(128),s=i(129),l=i(130),h=i(131),c=i(132),u=i(142),p=i(12),f=i(37),y=i(143),d=i(59),v=i(144),g=i(92),m=i(60),_=i(145),b=i(13),x=i(58),w=i(22),S=i(42),C=i(41),O=i(39),P=i(146),L=i(147),T=i(56),A=i(21),M=i(38),k=i(20),E=i(19),D=i(93),z=i(148),j=i(94),B=i(149),F=i(150),R=i(151),I=i(152),N=i(96),W=i(31),G=i(153),V=i(62),H=i(154),q=i(155),U=i(156),Z=i(83),X=i(57),Y=i(157),J=i(61),$=i(95),Q=i(158),K=i(23),tt=i(80),et=i(40),it=i(159),rt=i(160),nt=i(161),ot=i(162),at=i(163),st=i(82),lt=i(81),ht=i(164),ct=i(165),ut=i(63),pt=i(213),ft=i(214),yt=i(215),dt=i(87),vt=i(216),gt=i(217),mt=i(218),_t=i(219),bt=i(220),xt=i(221),wt=i(222),St=i(223),Ct=i(224),Ot=i(225),Pt=i(226),Lt=i(227),Tt=i(228),At=i(229),Mt=i(230),kt=i(231),Et=i(232),Dt=i(233),zt=i(234),jt=i(235),Bt=i(236),Ft=i(237),Rt=i(238),It=i(84),Nt=i(89),Wt=i(90),Gt=i(91),Vt=i(239),Ht=i(88),qt=i(240),Ut=i(241),Zt=i(242),Xt=i(243),Yt=i(244),Jt=i(245),$t=i(246),Qt=i(247),Kt=i(248),te=i(249),ee=i(250),ie=i(251),re=i(252),ne=i(253),oe=i(254),ae=i(255),se=i(256),le=i(257),he=i(258),ce=i(259),ue=i(260),pe=i(261),fe=i(262),ye=i(263),de=i(264),ve=i(265),ge=i(266),me=i(267),_e=i(268),be=i(269),xe=i(0),we=i(43),Se=i(271),Ce=i(272),Oe=i(118),Pe=i(119),Le=i(273),Te=i(75),Ae=i(34),Me=i(120),ke=i(274),Ee=i(275),De=i(276),ze=i(277),je=i(278),Be=i(279),Fe=i(280),Re=i(281),Ie=i(282),Ne=i(29),We=i(283),Ge=i(284),Ve=i(285),He=i(18),qe=i(286),Ue=i(287),Ze=i(288),Xe=i(289),Ye=i(290),Je=i(291),$e=i(292),Qe=i(122),Ke=i(5),ti=i(297),ei=i(298),ii=i(299),ri=i(300),ni=i(301),oi=i(303),ai=i(304),si=i(305),li=i(306),hi=i(307),ci=i(308),ui=i(309),pi=i(310),fi=i(17),yi=i(35),di=i(311),vi=i(312),gi=i(313),mi=i(314),_i=i(315),bi=i(86),xi=i(316),wi=i(317),Si=i(318),Ci=i(123),Oi=i(319),Pi=i(320),Li=i(321),Ti=i(324),Ai=i(325),Mi=i(326),ki=i(327),Ei=i(328);e.chart={ChartBase:r.ChartBase,AnimationType:n.AnimationType,PointFlash:o.PointFlash,PointSlide:it.PointSlide,PointSpreadEarthquake:a.PointSpreadEarthquake,PointSpreadWaterRipple:s.PointSpreadWaterRipple,Zrender:ut.Zrender,PointEffectScatter:pt.PointEffectScatter,LinesTrailEffect:ft.LinesTrailEffect,PieChartMap:ot.PieChartMap,SumPieChartMap:at.SumPieChartMap,HeatmapChartMap:qe.HeatmapChartMap,ScatterChartMap:Xe.ScatterChartMap,LinesScatterChartMap:Ye.LinesScatterChartMap,EffectScatterChartMap:Je.EffectScatterChartMap,HoneyCombChartMap:$e.HoneyCombChartMap,EChartMap:l.EChartMap,ElementLayer:h.ElementLayer,FeatureLayer:c.FeatureLayer,HeatMapLayer:u.HeatMapLayer,Tianditu:Ge.Tianditu,TiandituLabel:Ve.TiandituLabel,G2Tianditu:Ue.G2Tianditu,G2TiandituLabel:Ze.G2TiandituLabel,Layer:p.Layer,MapChart:f.MapChart,ChartRenderer:rt.ChartRenderer,ClassBreaksRenderer:y.ClassBreaksRenderer,Renderer:d.Renderer,TSRenderer:v.TSRenderer,Style:g.Style,TSStyle:m.TSStyle,TSMapChart:_.TSMapChart,TSGlobeMapChart:We.TSGlobeMapChart,OverLay:st.OverLay,OverlayWare:lt.OverlayWare,BarChartMap:nt.BarChartMap,BasicBarChart:dt.BasicBarChart,MultiBarChart:vt.MultiBarChart,OppositeBarChart:gt.OppositeBarChart,PointBarChart:mt.PointBarChart,VBorderBarChart:_t.VBorderBarChart,VStackBarChart:bt.VStackBarChart,VStackBorderBarChart:xt.VStackBorderBarChart,VBarChart:wt.VBarChart,StackBarChart:St.StackBarChart,PicBarChart:Ct.PicBarChart,VOppositeBarChart:Ot.VOppositeBarChart,VPointBarChart:Pt.VPointBarChart,ThreeDBarChart:Lt.ThreeDBarChart,VUnstackPicBarChart:Tt.VUnstackPicBarChart,ColumnBorderBarChart:ct.ColumnBorderBarChart,DoubleBarChart:yt.DoubleBarChart,BasicThreeDBarChart:At.BasicThreeDBarChart,StackThreeDBarChart:Mt.StackThreeDBarChart,VCarouselBarChart:kt.VCarouselBarChart,VTwoWayBarChart:Et.VTwoWayBarChart,VShadowBarChart:Se.VShadowBarChart,LineAreaBlurChart:Dt.LineAreaBlurChart,LineAreaChart:zt.LineAreaChart,BasicLineChart:jt.BasicLineChart,AreaLineChart:Bt.AreaLineChart,StackAreaLineChart:Ft.StackAreaLineChart,StepLineChart:Rt.StepLineChart,BasicPieChart:It.BasicPieChart,RingPieChart:Nt.RingPieChart,RoseRingPieChart:Wt.RoseRingPieChart,SinglePieChart:Gt.SinglePieChart,StackPicBarChart:Vt.StackPicBarChart,SumPieChart:Ht.SumPieChart,RingCakePieChart:qt.RingCakePieChart,BasicScatterChart:Ut.BasicScatterChart,AreaScatterChart:Zt.AreaScatterChart,ComplexScatterChart:Xt.ComplexScatterChart,ThreeDScatterChart:Yt.ThreeDScatterChart,LineBarChart:Jt.LineBarChart,AreaBarChart:$t.AreaBarChart,LinePicBarChart:Qt.LinePicBarChart,BasicHeatmapChart:Kt.BasicHeatmapChart,BasicFunnelChart:te.BasicFunnelChart,BasicPolarChart:ee.BasicPolarChart,StackPolarChart:ie.StackPolarChart,VPolarChart:re.VPolarChart,VStackPolarChart:ne.VStackPolarChart,BasicGaugeChart:oe.BasicGaugeChart,BasicRadarChart:ae.BasicRadarChart,BasicLiquidFillChart:se.BasicLiquidFillChart,BasicGraphChart:le.BasicGraphChart,ThreeDLiquidFillChart:he.ThreeDLiquidFillChart,ThreeDWaterDropChart:ce.ThreeDWaterDropChart,LiquidFillWaveChart:ue.LiquidFillWaveChart,BubbleCloudChart:pe.BubbleCloudChart,ForceGraphChart:fe.ForceGraphChart,BasicTreeChart:ye.BasicTreeChart,VTreeChart:de.VTreeChart,CTreeChart:ve.CTreeChart,BasicSunburstChart:ge.BasicSunburstChart,BeeHiveChart:me.BeeHiveChart,ThreeDFunnelChart:_e.ThreeDFunnelChart,WordCloudChart:be.WordCloudChart,BeeHiveMapChart:Ce.BeeHiveMapChart,EChart:xe.EChart,StatChart:we.StatChart,ColumnBarChart:ht.ColumnBarChart,MapVChart:Ke.MapVChart,GridChart:ti.GridChart,HoneyCombChart:ei.HoneyCombChart,BubbleChart:ii.BubbleChart,BoundaryChart:ri.BoundaryChart,DensityChart:ni.DensityChart,HeatChart:oi.HeatChart,LineAnimationChart:ai.LineAnimationChart,DynamicPointChart:si.DynamicPointChart,QianXiChart:li.QianXiChart,ForceEdgeBundlingChart:hi.ForceEdgeBundlingChart,SituationChart:ci.SituationChart,WindChart:ui.WindChart,PointClusterChart:pi.PointClusterChart,PieStatisticsChart:_i.PieStatisticsChart,WeiboChart:gi.WeiboChart,PointCategoryChart:mi.PointCategoryChart,FeatureSourceChart:vi.FeatureSourceChart,QianXiRippleChart:xi.QianXiRippleChart,QianXiIconChart:Si.QianXiIconChart,BarStatisticsChart:wi.BarStatisticsChart,PointIconChart:ki.PointIconChart,PointAnimationChart:Mi.PointAnimationChart,RoadChart:Oi.RoadChart,FlyLineChart:Pi.FlyLineChart,TemperatureChart:Li.TemperatureChart,BoundaryCategoryChart:Ti.BoundaryCategoryChart,BoundarysTimeLineChart:Ei.BoundarysTimeLineChart,MapType:fi.MapType,TSMap:yi.TSMap,TSGlobe:Ci.TSGlobe,MapCreator:di.MapCreator},e.config={ChartConfig:b.ChartConfig,ChartTemplate:x.ChartTemplate,ResourceConfig:bi.ResourceConfig},e.data={ChartData:w.ChartData,ChartEntry:S.ChartEntry,ChartItem:C.ChartItem,DataType:O.DataType,Element:P.Element,ElementCollection:L.ElementCollection,Entity:T.Entity,Feature:A.Feature,FeatureCollection:M.FeatureCollection,Field:k.Field,Fields:E.Fields},e.net={AjaxHttp:D.AjaxHttp,RestService:z.RestService,THB:j.THB,Topic:B.Topic,VataService:F.VataService,WSDuplexClient:R.WSDuplexClient},e.source={SimpleFilter:I.SimpleFilter,ElementSource:N.ElementSource,FeatureSource:W.FeatureSource,GeoJsonSource:G.GeoJsonSource,MapSource:V.MapSource,SimpleElementSource:H.SimpleElementSource,SimpleFeatureSource:q.SimpleFeatureSource,TSWFSSource:U.TSWFSSource,SimpleSource:Z.SimpleSource,StatSource:X.StatSource,VataSource:Y.VataSource,GeoJsonCollectionSource:Ai.GeoJsonCollectionSource},e.util={CurrencyObjectCreator:J.CurrencyObjectCreator,SimpleObjectCreator:$.SimpleObjectCreator,TObjectCreator:Q.TObjectCreator,TypeDecorator:K.__Type,TypeInfo:tt.TypeInfo,TypeTable:et.TypeTable},e.graphic={Arc:Le.Arc,Circle:Te.Circle,RegularSix:Ae.RegularSix,Square:Me.Square,Ellipse:ke.Ellipse,Isogon:Ee.Isogon,Line:De.Line,Polygon:ze.Polygon,Polyline:je.Polyline,Rect:Be.Rect,Text:Fe.Text,Sector:Re.Sector,Droplet:Ie.Droplet},e.draw={HoneyComb:Oe.HoneyComb,Grid:Pe.Grid,Bubble:Qe.Bubble},e.coord={CesiumMapLayer:Ne.default,G2MapLayer:He.default},e.gv={chart:e.chart,config:e.config,data:e.data,net:e.net,source:e.source,util:e.util}},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=function(t){function e(e,i,r,n,a){void 0===n&&(n="normal");var s=t.call(this)||this;return s.pointFlashParameter=new o.ani.SimpleFlashParameter({geometry:"",gap:100,count:50,color:"",size:20,effect:"normal",loop:!0}),s}return n(e,t),e.prototype.getData=function(){return this.pointFlashParameter},e.prototype.setPeriod=function(t){this.pointFlashParameter.gap=1e3*t},e.prototype.setCount=function(t){this.pointFlashParameter.count=t},e.prototype.setSymbolSize=function(t){void 0===t&&(t=20),this.pointFlashParameter.size=t},e.prototype.setEffectType=function(t){void 0===t&&(t="normal"),this.pointFlashParameter.effect=t},e}(i(30).AnimationType);e.PointFlash=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=function(t){function e(){var e=t.call(this)||this;return e.spreadEarthquakeParameter=new o.ani.SpreadEarthquakeParameter({geometry:"",life:300,gap:5,radius:4,color:"",fillColor:"",size:0,effect:"normal",loop:!0}),e}return n(e,t),e.prototype.getData=function(){return this.spreadEarthquakeParameter},e.prototype.setPeriod=function(t){this.spreadEarthquakeParameter.life=1e3*t},e.prototype.setScale=function(t){this.spreadEarthquakeParameter.radius=t},e.prototype.setEffectType=function(t){void 0===t&&(t="normal"),this.spreadEarthquakeParameter.effect=t},e}(i(30).AnimationType);e.PointSpreadEarthquake=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=function(t){function e(){var e=t.call(this)||this;return e.spreadWaterRippleParameter=new o.ani.SpreadWaterRippleParameter({geometry:"",life:300,gap:5,radius:4,color:"",fillColor:"",size:10,effect:"normal",loop:!0}),e}return n(e,t),e.prototype.getData=function(){return this.spreadWaterRippleParameter},e.prototype.setPeriod=function(t){this.spreadWaterRippleParameter.life=1e3*t},e.prototype.setScale=function(t){this.spreadWaterRippleParameter.radius=t},e.prototype.setEffectype=function(t){void 0===t&&(t="normal"),this.spreadWaterRippleParameter.effect=t},e}(i(30).AnimationType);e.PointSpreadWaterRipple=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(37),a=i(2),s=function(t){function e(e){var i=t.call(this)||this;return i.echart_obj=a.init(e),i}return n(e,t),e.prototype.addLayer=function(t){},e}(o.MapChart);e.EChartMap=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),a=i(1),s=function(t){function e(){var e=t.call(this)||this;return e.elementLayer=new a.carto.ElementLayer,e}return n(e,t),e.prototype.animator=function(t){this.animationType=t,this.state=!0},e.prototype.setSource=function(t){var e=this;t.getData().then(function(t){e.source=t})},e.prototype.render=function(t){var e,i=this,r=this;t.getStyles().then(function(t){for(var n=new a.sfs.SymbolTable({baseUrl:""}),o=0,s=t.length;o<s;++o){var l=t[o],h=l.symbol,c=l.name;n.append(c,h)}for(o=0,s=r.source.getCount();o<s;++o){var u=r.source.get(0).getStyle();e=n.find(u)}if(r.elementLayer.addElementCollection(r.toGElementCollection(r.source,e)),i.state){var p=new a.ani.Animator({layer:i.elementLayer}),f=i.animationType.getData().radius;for(o=0,s=i.source.getCount();o<s;++o){var y=i.source.get(o).getGeometry(),d=i.animationType.getData();d.fillColor=e.fillColor,e.borderColor?d.color=e.borderColor:d.color=e.color,d.geometry=y,e.size&&(d.radius=Number(e.size)*f),p.enable(),p.play(d)}}})},e.prototype.getLayer=function(){return this.elementLayer},e.prototype.toGElementCollection=function(t,e){for(var i=t.getSpatialReference(),r=t.get(0),n=new a.sfs.Fields,o=r.getFields(),s=0;s<o.getCount();s++){var l=o.get(s),h=new a.sfs.Field({name:l.name,dataType:l.dataType});n.add(h)}for(var c=new a.sfs.GEntityCollection({fields:n}),u=0;u<t.getCount();u++){var p=t.get(u),f=p.getFields(),y=a.sfs.GeometryFormatter.fromWKT(p.getGeometry(),i);p.setGeometry(y),p.setStyle(e);var d=new a.sfs.Element;d.geometry=y,d.symbol=e;var v=new a.sfs.GElement({fields:n});for(s=0;s<f.getCount();s++)l=f.get(s),v.setValue(l.name,d);v.setElement(d),c.add(v)}return c},e}(o.Layer);e.ElementLayer=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),a=i(38),s=i(1),l=i(19),h=i(20),c=i(21),u=i(22),p=i(41),f=i(42),y=i(81),d=i(82),v=i(83),g=i(84),m=i(87),_=i(88),b=i(89),x=i(90),w=i(91),S=i(58),C=function(t){function e(){var e=t.call(this)||this;return e.featureLayer=new s.carto.FeatureLayer,e.name=[],e.value=[],e}return n(e,t),e.prototype.setSelectStyle=function(t){this.selectStyleName=t;var e=this;this.featureLayer.on("click",function(t,i,r,n,o){e.selectFeature&&e.featureLayer.unSelect(new s.carto.Graphic({feature:e.selectFeature}));var a=new s.carto.Graphic({feature:o});e.featureLayer.select(a),e.selectFeature=o})},e.prototype.setChartType=function(t){this.chartType=t},e.prototype.setSource=function(t){this.source=t;var e=this;return new Promise(function(i){t.getData().then(function(t){t instanceof a.FeatureCollection?e.featureLayer.addFeatureCollection(e.toGFeatureCollection(t)):e.featureLayer.addFeatureCollection(t);for(var r=[],n=0;n<e.featureLayer.getCount()-1;n++){var o={},s=e.featureLayer.get(n).getProperty("name").value;o.name=s,o.coordinate=e.featureLayer.get(n).getGeometry().getBaryCenter(),r.push(o)}i(r)})})},e.prototype.render=function(t,e,i){var r=this,n=new s.sfs.SymbolTable({baseUrl:""}),o=this;t[0].getStyles().then(function(a){for(var s=0,l=a.length;s<l;++s){var h=a[s],c=h.symbol,u=h.name;n.append(u,c)}if(o.selectStyleName){var p=n.find(o.selectStyleName);o.featureLayer.selectSymbol=p}var f=e.getLayers();for(s=0,l=f.length;s<l;++s)"object"==typeof i&&i.constructor==Array?r.setRender(f[s],t[s],i[s],n):r.setRender(f[s],t[s],i,n)})},e.prototype.setRender=function(t,e,i,r){var n=new s.render.RenderCreator({symbolTable:r});e.getRender().then(function(e){var r=n.createRender(e,i);r.showLabel=e.showLabel,r.labelField=e.labelField,t.render(r)})},e.prototype.add=function(t){return this.featureLayer.add(this.toSFSFeature(t))},e.prototype.getLayer=function(){return this.featureLayer},e.prototype.toGFeatureCollection=function(t){for(var e=t.get(0),i=t.getSpatialReference(),r=new s.sfs.Fields,n=e.getFields(),o=0;o<n.getCount();o++){var a=n.get(o),l=new s.sfs.Field({name:a.name,dataType:a.dataType});r.add(l)}for(var h=new s.sfs.GFeatureCollection({fields:r}),c=0;c<t.getCount();c++){var u=t.get(c),p=u.getFields(),f=new s.sfs.GFeature({fields:r});for(o=0;o<p.getCount();o++)a=p.get(o),f.setValue(a.name,u.getValue(a.name));var y=s.sfs.GeometryFactory.createGeometryFromWkt(u.getGeometry(),i);f.setGeometry(y),h.add(f)}return h},e.prototype.on=function(t,e){var i=this;this.featureLayer.on(t,function(t,r,n,o,a){var s=i.toFeature(a);e({lan:n,lng:o,Feature:s})})},e.prototype.un=function(t,e){this.featureLayer.un(t,e)},e.prototype.toFeature=function(t){var e=new l.Fields,i=new c.Feature(e);i.setGeometry(t.getGeometry().asWkt(4));for(var r=0,n=t.fields.fields,o=t.properties;r<n.length;r++){var a=new h.Field;a.name=n[r].name,a.dataType=n[r].dataType,e.addField(a),i.setValue(a.name,o[r].value)}return i},e.prototype.toSFSFeature=function(t){for(var e=s.sfs.GeometryFactory.createGeometryFromWkt(t.getGeometry(),4326),i=t.getFields(),r=[],n=new s.sfs.Fields,o=0;o<i.getCount();o++){var a=i.get(o),l=new s.sfs.Field({name:a.name,alias:a.alias,dataType:a.dataType});n.add(l);var h=new s.sfs.Property;h.setValue(t.getValue(a.name)),r.push(h)}return new s.sfs.Feature({fields:n,values:r,geometry:e})},e.prototype.toFeatureSet=function(t){for(var e=t.get(0),i=t.getSpatialReference(),r=new s.sfs.Fields,n=e.getFields(),o=0;o<n.getCount();o++){var a=n.get(o),l=new s.sfs.Field({name:a.name,dataType:a.dataType});r.add(l)}for(var h=new s.sfs.FeatureSet({fields:r}),c=0;c<t.getCount();c++){var u=[],p=t.get(c),f=p.getFields();for(o=0;o<f.getCount();o++){a=f.get(o);var y=new s.sfs.Property;y.setValue(p.getValue(a.name)),u.push(y)}var d=s.sfs.GeometryFactory.createGeometryFromWkt(p.getGeometry(),i),v=new s.sfs.Feature({fields:r,values:u,geometry:d});h.add(v)}return h},e.prototype.statisticRender=function(t,e){S.ChartTemplate.load();var i=new y.OverlayWare(e),r=[];this.featureLayer.addFeatures(this.toFeatureSet(t));for(var n=0;n<this.featureLayer.features.length;n++){for(var o=this.featureLayer.features[n].geometry,a=this.featureLayer.features[n],s=this.getStaticData(a),l=Object.keys(s[0]),h=new u.ChartData,c=0;c<s.length;c++){for(var C=new p.ChartItem,O=0;O<l.length;O++){var P=new f.ChartEntry;P.name=l[O],P.value=s[c][l[O]],0<O&&(P.alias="No."+O),C.addEntry(P)}h.addItem(C)}var L=this.parseDom();r.push(L);var T=new d.OverLay(L,o);i.add(T);var A=new v.SimpleSource(h),M=void 0;switch(this.chartType){case"pieChart":M=new g.BasicPieChart(A,L);break;case"barChart":M=new m.BasicBarChart(A,L);break;case"sumPieChart":M=new _.SumPieChart(A,L);break;case"ringPieChart":M=new b.RingPieChart(A,L);break;case"roseRingPieChart":M=new x.RoseRingPieChart(A,L);break;case"singlePieChart":M=new w.SinglePieChart(A,L)}for(var k=0;k<this.name.length;k++)M.config(this.name[k],this.value[k]);M.render()}e.on("resolutionchanged",function(t,e,i){var n=i/5;i<10&&(n=5/i);for(var o=0;o<r.length;o++)r[o].style.transform="scale("+n+","+n+")"})},e.prototype.config=function(t,e){this.name.push(t),this.value.push(e)},e.prototype.getStaticData=function(t){for(var e=[],i=t.getFields(),r=0;r<i.getCount();r++){var n={},o=i.getField(r);n.name=o.name,n.value=t.getValue(o.name),e.push(n)}return e},e.prototype.parseDom=function(){var t=document.createElement("div");return t.innerHTML='<div   style="width:100px;height:80px;z-index: 999 "></div>',t.childNodes[0]},e}(o.Layer);e.FeatureLayer=C},function(t,e,i){(function(t,e){var i,r;r=i||(i={}),function(i){var n="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=a(r);function a(t,e){return function(i,r){"function"!=typeof t[i]&&Object.defineProperty(t,i,{configurable:!0,writable:!0,value:r}),e&&e(i,r)}}void 0===n.Reflect?n.Reflect=r:o=a(n.Reflect,o),function(e){var i=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,l=!a&&!s,h={create:a?function(){return k(Object.create(null))}:s?function(){return k({__proto__:null})}:function(){return k({})},has:l?function(t,e){return i.call(t,e)}:function(t,e){return e in t},get:l?function(t,e){return i.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},c=Object.getPrototypeOf(Function),u="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,p=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],i=function(){function t(t,e,i){this._index=0,this._keys=t,this._values=e,this._selector=i}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(0<=t&&t<this._keys.length){var i=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:i,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw 0<=this._index&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return 0<=this._index&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return 0<=this._find(t,!1)},e.prototype.get=function(t){var e=this._find(t,!1);return 0<=e?this._values[e]:void 0},e.prototype.set=function(t,e){var i=this._find(t,!0);return this._values[i]=e,this},e.prototype.delete=function(e){var i=this._find(e,!1);if(0<=i){for(var r=this._keys.length,n=i+1;n<r;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new i(this._keys,this._values,r)},e.prototype.values=function(){return new i(this._keys,this._values,n)},e.prototype.entries=function(){return new i(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function n(t,e){return e}function a(t,e){return[t,e]}}():Map,f=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new p}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}():Set,y=new(u||"function"!=typeof WeakMap?function(){var t=16,e=h.create(),r=n();return function(){function t(){this._key=n()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&h.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?h.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=n()},t}();function n(){for(var t;t="@@WeakMap@@"+s(),h.has(e,t););return e[t]=!0,t}function o(t,e){if(!i.call(t,r)){if(!e)return;Object.defineProperty(t,r,{value:h.create()})}return t[r]}function a(t,e){for(var i=0;i<e;++i)t[i]=255*Math.random()|0;return t}function s(){var e,i=(e=t,"function"!=typeof Uint8Array?a(new Array(e),e):"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e));i[6]=79&i[6]|64,i[8]=191&i[8]|128;for(var r="",n=0;n<t;++n){var o=i[n];4!==n&&6!==n&&8!==n||(r+="-"),o<16&&(r+="0"),r+=o.toString(16).toLowerCase()}return r}}():WeakMap);function d(t,e,i){var r=y.get(t);if(x(r)){if(!i)return;r=new p,y.set(t,r)}var n=r.get(e);if(x(n)){if(!i)return;n=new p,r.set(e,n)}return n}function v(t,e,i){var r=d(e,i,!1);return!x(r)&&!!r.has(t)}function g(t,e,i){var r=d(e,i,!1);if(!x(r))return r.get(t)}function m(t,e,i,r){d(i,r,!0).set(t,e)}function _(t,e){var i=[],r=d(t,e,!1);if(x(r))return i;for(var n,a=function(t){var e=T(t,o);if(!P(e))throw new TypeError;var i=e.call(t);if(!S(i))throw new TypeError;return i}(r.keys()),s=0;;){var l=!(n=a.next()).done&&n;if(!l)return i.length=s,i;var h=l.value;try{i[s]=h}catch(t){try{A(a)}finally{throw t}}s++}}function b(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function x(t){return void 0===t}function w(t){return null===t}function S(t){return"object"==typeof t?null!==t:"function"==typeof t}function C(t){var e=function(t,e){switch(b(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var i=3===e?"string":5===e?"number":"default",r=T(t,n);if(void 0===r)return function(t,e){if("string"===e){var i=t.toString;if(P(i)&&!S(n=i.call(t)))return n;if(P(r=t.valueOf)&&!S(n=r.call(t)))return n}else{var r;if(P(r=t.valueOf)&&!S(n=r.call(t)))return n;var n,o=t.toString;if(P(o)&&!S(n=o.call(t)))return n}throw new TypeError}(t,"default"===i?"number":i);var o=r.call(t,i);if(S(o))throw new TypeError;return o}(t,3);return"symbol"==typeof e?e:""+e}function O(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function P(t){return"function"==typeof t}function L(t){return"function"==typeof t}function T(t,e){var i=t[e];if(null!=i){if(!P(i))throw new TypeError;return i}}function A(t){var e=t.return;e&&e.call(t)}function M(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===c)return e;if(e!==c)return e;var i=t.prototype,r=i&&Object.getPrototypeOf(i);if(null==r||r===Object.prototype)return e;var n=r.constructor;return"function"!=typeof n?e:n===t?e:n}function k(t){return t.__=void 0,delete t.__,t}e("decorate",function(t,e,i,r){if(x(i)){if(!O(t))throw new TypeError;if(!L(e))throw new TypeError;return function(t,e){for(var i=t.length-1;0<=i;--i){var r=(0,t[i])(e);if(!x(r)&&!w(r)){if(!L(r))throw new TypeError;e=r}}return e}(t,e)}if(!O(t))throw new TypeError;if(!S(e))throw new TypeError;if(!S(r)&&!x(r)&&!w(r))throw new TypeError;return w(r)&&(r=void 0),function(t,e,i,r){for(var n=t.length-1;0<=n;--n){var o=(0,t[n])(e,i,r);if(!x(o)&&!w(o)){if(!S(o))throw new TypeError;r=o}}return r}(t,e,i=C(i),r)}),e("metadata",function(t,e){return function(i,r){if(!S(i))throw new TypeError;if(!x(r)&&!function(t){switch(b(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;m(t,e,i,r)}}),e("defineMetadata",function(t,e,i,r){if(!S(i))throw new TypeError;return x(r)||(r=C(r)),m(t,e,i,r)}),e("hasMetadata",function(t,e,i){if(!S(e))throw new TypeError;return x(i)||(i=C(i)),function t(e,i,r){if(v(e,i,r))return!0;var n=M(i);return!w(n)&&t(e,n,r)}(t,e,i)}),e("hasOwnMetadata",function(t,e,i){if(!S(e))throw new TypeError;return x(i)||(i=C(i)),v(t,e,i)}),e("getMetadata",function(t,e,i){if(!S(e))throw new TypeError;return x(i)||(i=C(i)),function t(e,i,r){if(v(e,i,r))return g(e,i,r);var n=M(i);return w(n)?void 0:t(e,n,r)}(t,e,i)}),e("getOwnMetadata",function(t,e,i){if(!S(e))throw new TypeError;return x(i)||(i=C(i)),g(t,e,i)}),e("getMetadataKeys",function(t,e){if(!S(t))throw new TypeError;return x(e)||(e=C(e)),function t(e,i){var r=_(e,i),n=M(e);if(null===n)return r;var o=t(n,i);if(o.length<=0)return r;if(r.length<=0)return o;for(var a=new f,s=[],l=0,h=r;l<h.length;l++){var c=h[l];a.has(c)||(a.add(c),s.push(c))}for(var u=0,p=o;u<p.length;u++)c=p[u],a.has(c)||(a.add(c),s.push(c));return s}(t,e)}),e("getOwnMetadataKeys",function(t,e){if(!S(t))throw new TypeError;return x(e)||(e=C(e)),_(t,e)}),e("deleteMetadata",function(t,e,i){if(!S(e))throw new TypeError;x(i)||(i=C(i));var r=d(e,i,!1);if(x(r))return!1;if(!r.delete(t))return!1;if(0<r.size)return!0;var n=y.get(e);return n.delete(i),0<n.size||y.delete(e),!0})}(o)}()}).call(this,i(79),i(134))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t){t.exports={ChartName:"BarChart","ZH-Name":"",ChartConfig:{legend:{},tooltip:{},xAxis:{type:"category"},yAxis:{},series:[{type:"bar",myType:!0}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"PieChart","ZH-Name":"",ChartConfig:{legend:{},tooltip:{},series:[{type:"pie"}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"LineChart","ZH-Name":"",ChartConfig:{legend:{},tooltip:{},xAxis:{type:"category"},yAxis:{},series:[{type:"line",myType:!0}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"ComChart","ZH-Name":"",ChartConfig:{legend:{},tooltip:{},xAxis:{type:"category"},yAxis:[{},{}],series:[{type:"bar",myType:!0},{type:"line",myType:!0,yAxisIndex:1}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"UniqueChart","ZH-Name":"",ChartConfig:{tooltip:{},series:[{type:"gauge"}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"ScatterChart","ZH-Name":"",ChartConfig:{legend:{},tooltip:{},xAxis:{type:"category"},yAxis:{},series:[{type:"scatter"}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t){t.exports={ChartName:"TextChart","ZH-Name":"",ChartConfig:{series:[{type:"wordCloud"}],animationDurationUpdate:1e3,animationEasingUpdate:"linear"}}},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(12),a=i(1),s=function(t){function e(e,i,r){void 0===e&&(e=10),void 0===i&&(i=10);var n=t.call(this)||this;return n.heatMapLayer=new a.carto.HeatMapLayer({blur:e,radius:i,gradient:r}),n}return n(e,t),e.prototype.setSource=function(t){var e=this,i=this;t.getData().then(function(t){var r=e.toHeats(t);i.heatMapLayer.addHeats(r)})},e.prototype.render=function(t){},e.prototype.getLayer=function(){return this.heatMapLayer},e.prototype.toHeats=function(t){for(var e=[],i=t.getSpatialReference(),r=0;r<t.getCount();r++){var n=t.get(r),o=a.sfs.GeometryFactory.createGeometryFromWkt(n.getGeometry(),i),s=new a.carto.Heat({geometry:o,weight:n.getValue("weight")});e.push(s)}return e},e}(o.Layer);e.HeatMapLayer=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(59),a=i(1),s=i(60),l=function(t){function e(e,i,r,n,o){void 0===r&&(r=!1),void 0===n&&(n=""),void 0===o&&(o=new s.TSStyle(e));var a=t.call(this,o)||this;return a.classifyStyles=[],a.defaultStyleName=i,a.showLabel=r,a.labelField=n,a.style=o,a}return n(e,t),e.prototype.addClassification=function(t,e,i){this.classifyStyles.push({startValue:t,endValue:e,styleName:i})},e.prototype.getRender=function(){var t=this,e=[];return this.classifyStyles.forEach(function(t){var i=new a.cat.Classification({startValue:t.startValue,endValue:t.endValue,styleName:t.styleName});e.push(i)}),new Promise(function(i){i(new a.cat.ClassifyRenderDescriptor({defaultStyleName:t.defaultStyleName,classifyStyles:e,showLabel:t.showLabel,labelField:t.labelField}))})},e.prototype.getStyles=function(){return this.style.getStyle()},e}(o.Renderer);e.ClassBreaksRenderer=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(59),a=i(1),s=i(60),l=function(t){function e(e,i,r,n){void 0===r&&(r=new s.TSStyle(e)),void 0===n&&(n="Bearer d277145");var o=t.call(this,r)||this;o.name=i,o.styles=r;var l=new a.core.Deserializer,h=new a.core.RestHttp({token:n});return o.renderService=new a.cat.RestRenderDescriptorService({url:e,http:h,deserializer:l}),o.styleService=new a.cat.RestStyleDescriptorService({url:e,http:h,deserializer:l}),o}return n(e,t),e.prototype.getRender=function(){return this.renderService.findByName(this.name)},e.prototype.getStyles=function(){return this.styleService.findEntityStyle()},e}(o.Renderer);e.TSRenderer=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(37),a=i(1),s=function(t){function e(e,i,r,n,o,s){void 0===n&&(n=23),void 0===o&&(o=0),void 0===s&&(s="4326");var l=t.call(this)||this;return l.g2map=new a.carto.Map({defaultExtent:{maxZoom:n,minZoom:o,level:i,projection:"EPSG:"+s,center:e,extent:[-180,-90,180,90]}}),l.g2map.init({targetId:r}),l}return n(e,t),e.prototype.addLayer=function(t){this.g2map.addLayer(t.getLayer())},e.prototype.stopInteraction=function(){this.g2map.removeInteractions(),this.g2map.stopMouseWheelZoom()},e.prototype.openInteraction=function(){this.g2map.resumeInteractions()},e.prototype.pan=function(t){var e={x:t[0],y:t[1]};this.g2map.setCenter(e)},e.prototype.getMap=function(){return this.g2map},e.prototype.getLayers=function(){return this.g2map.getLayers()},e.prototype.getZoomLevel=function(){return this.g2map.getZoomLevel()},e.prototype.getPixelFromCoordinate=function(t){return this.g2map.getPixelFromCoordinate(t)},e.prototype.getCoordinateFromPixel=function(t){return this.g2map.getCoordinateFromPixel(t)},e.prototype.on=function(t,e){this.g2map.on(t,e)},e.prototype.un=function(t,e){this.g2map.un(t,e)},e.prototype.getViewSize=function(){return this.g2map.getViewSize()},e.prototype.getResolution=function(){return this.g2map.getResolution()},e.prototype.getCenter=function(){return this.g2map.getCenter()},e.prototype.getExtent=function(){return this.g2map.getExtent()},e}(o.MapChart);e.TSMapChart=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.getStyle=function(){return this._style},e.prototype.setStyle=function(t){this._style=t},e.prototype.setGeometry=function(t){this._geometry=t},e.prototype.getGeometry=function(){return this._geometry},e}(i(56).Entity);e.Element=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){void 0===t&&(t=4326),this.spatialReference=t,this.elements=[]}return t.prototype.addElement=function(t){this.elements.push(t)},t.prototype.getCount=function(){return this.elements.length},t.prototype.get=function(t){return this.elements[t]},t.prototype.getSpatialReference=function(){return this.spatialReference},t}();e.ElementCollection=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(93),n=function(){function t(t,e){void 0===e&&(e=new r.AjaxHttp),this.baseUrl=t,this.http=e}return t.prototype.doGet=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.baseUrl;return i.endsWith("/")?i+=t.join("/"):i+="/"+t.join("/"),this.http.send("get",i)},t}();e.RestService=n},function(t,e,i){"use strict";var r=this&&this.__decorate||function(t,e,i,r){var n,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(a=(o<3?n(a):3<o?n(e,i,a):n(e,i))||a);return 3<o&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(e,"__esModule",{value:!0});var n=i(23),o=function(){function t(){}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),r([n.__Type({name:"Topic",namespace:"http://www.dv.com"})],t)}();e.Topic=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(61),n=function(){function t(t,e){this.service=t,this.name=e}return t.prototype.find=function(){var t=this.service.doGet("find",this.name);return new Promise(function(e,i){t.then(function(t){var i=(new r.CurrencyObjectCreator).create(t);e(i)}).catch(function(t){i(t)})})},t}();e.VataService=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(61),n=i(94),o=function(){function t(t,e){void 0===e&&(e=1e3),this.url=t,this.timeout=e,this.state=0,this.thb=new n.THB,this.lockReconnect=!1,this.timer=setInterval(this.doIt,e)}return t.prototype.connect=function(){if(!this.lockReconnect){this.lockReconnect=!0;var t=this;setTimeout(function(){t.ws=new WebSocket(t.url),t.lockReconnect=!1,t.bindEvent()},2e3)}},t.prototype.disconnect=function(){clearInterval(this.timer)},t.prototype.send=function(t){this.ws.send(JSON.stringify(t))},t.prototype.on=function(t,e){this.hasOwnProperty(t)||(this[t]=[]),this[t].push(e)},t.prototype.un=function(t,e){if(console.log("Connection closed..."),this.hasOwnProperty(t)){var i=this[t].indexOf(e);this[t].splice(i,1)}},t.prototype.doIt=function(){switch(this.state){case 0:break;case 1:this.detect();break;case 2:this.retry()}},t.prototype.onMessage=function(t){var e=(new r.CurrencyObjectCreator).create(t.data),i=e.name,n=e.data;if(this.hasOwnProperty(i))for(var o=this[i],a=0;a<o.length;++a)o[a](n)},t.prototype.detect=function(){this.ws.send(this.thb)},t.prototype.retry=function(){this.connect()},t.prototype.bindEvent=function(){var t=this;this.ws.onopen=function(){t.state=1,t.heartReset(),t.start(),t.ws.onmessage=function(e){t.onMessage(e),t.heartReset(),t.start()}},this.ws.onclose=function(){t.state=2,t.connect()},this.ws.onerror=function(){t.state=2,t.connect()}},t.prototype.start=function(){var t=this;this.timeoutObj=setTimeout(function(){t.ws.send("HeatBeat"),t.serverTimeoutObj=setTimeout(function(){t.ws.close()},1e5)},1e5)},t.prototype.heartReset=function(){return clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this},t}();e.WSDuplexClient=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SimpleFilter=function(){}},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),a=i(38),s=i(21),l=i(20),h=i(19),c=i(39),u=i(55),p=function(t){function e(e){var i,r=t.call(this)||this;return e&&e.crs&&(i=r.getProj(e.crs.properties.name)),r.featureCollection=new a.FeatureCollection(u.GeometryType.GeoJson,i),r.toFeatureCollection(e),r}return n(e,t),e.prototype.toFeatureCollection=function(t){var e=this;if("Feature"==t.type){var i=t,r=this.tofeature(i);this.featureCollection.addFeature(r)}else{if("FeatureCollection"!=t.type)return new a.FeatureCollection;t.features.forEach(function(t){var i=e.tofeature(t);e.featureCollection.addFeature(i)})}},e.prototype.tofeature=function(t){var e=new h.Fields,i=t.properties,r=new l.Field;for(var n in r.name="shape",r.dataType=this.getgeometryType(t.geometry.type),e.addField(r),i){var o=new l.Field;o.name=n,o.dataType=this.getDataType(i[n]),e.addField(o)}var a=new s.Feature(e);for(var n in i)"shape"!==n&&a.setValue(n,i[n]);return a.setGeometry(t.geometry.coordinates),a},e.prototype.getData=function(){var t=this;return new Promise(function(e){e(t.featureCollection)})},e.prototype.asArray=function(){for(var t=[],e=this.featureCollection,i=0;i<e.getCount();i++){for(var r=e.get(i),n=r.getGeometry(),o=r.getFields().get(1).name,a=r.getValue(o),s=[n.x,n.y],l=2;l<r.getFields().getCount();l++)o=r.getFields().get(l).name,s.push(r.getValue(o));t.push({name:a,value:s})}return t},e.prototype.getProj=function(t){return"urn:ogc:def:crs:EPSG::3857"===t||"urn:ogc:def:crs:EPSG:3857"===t||"EPSG:3857"===t||"EPSG:102100"===t||"EPSG:102113"===t||"EPSG:900913"===t||"urn:ogc:def:crs:EPSG:6.18:3:3857"===t||"http://www.opengis.net/gml/srs/epsg.xml#3857"===t?3857:"CRS:84"===t||"EPSG:4326"===t||"urn:ogc:def:crs:EPSG:6.6:4326"===t||"urn:ogc:def:crs:OGC:1.3:CRS84"===t||"urn:ogc:def:crs:OGC:2:84"===t||"http://www.opengis.net/gml/srs/epsg.xml#4326"===t||"urn:x-ogc:def:crs:EPSG:4326"===t||"urn:x-ogc:def:crs:EPSG::4326"===t?4326:"EPSG:4490"===t||"urn:ogc:def:crs:EPSG::4490"===t?4490:"EPSG:2436"===t?2436:"EPSG:4509"===t?4509:void 0},e.prototype.getDataType=function(t){return t.constructor===String?c.DataType.String:t.constructor===Number?c.DataType.Int:t.constructor===Boolean?c.DataType.Boolean:void 0},e.prototype.getgeometryType=function(t){var e=c.DataType.None;switch(t){case"LineString":e=c.DataType.LineString;break;case"MultiPoint":e=c.DataType.MultiPoint;break;case"MultiLineString":e=c.DataType.MultiLineString;break;case"MultiPolygon":e=c.DataType.MultiPolygon;break;case"Point":e=c.DataType.Point;break;case"Path":e=c.DataType.Path;break;case"Circle":e=c.DataType.Circle;break;case"LinearRing":e=c.DataType.LinearRing;break;case"Lseg":e=c.DataType.Lseg;break;case"Box":e=c.DataType.Box;break;case"Polygon":e=c.DataType.Polygon}return e},e}(o.FeatureSource);e.GeoJsonSource=p},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var i=t.call(this)||this;return i.elementCollection=e,i}return n(e,t),e.prototype.getData=function(){var t=this;return new Promise(function(e){e(t.elementCollection)})},e}(i(96).ElementSource);e.SimpleElementSource=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),a=i(1),s=function(t){function e(e){var i=t.call(this)||this;return i.featureCollection=e,i}return n(e,t),e.prototype.getData=function(){var t=this;return new Promise(function(e){e(t.featureCollection)})},e.prototype.asArray=function(){for(var t=[],e=this.featureCollection,i=e.getSpatialReference(),r=0;r<e.getCount();r++){for(var n=e.get(r),o=a.sfs.GeometryFactory.createGeometryFromWkt(n.getGeometry(),i),s=n.getFields().get(1).name,l=n.getValue(s),h=[o.x,o.y],c=2;c<n.getFields().getCount();c++)s=n.getFields().get(c).name,h.push(n.getValue(s));t.push({name:l,value:h})}return t},e}(o.FeatureSource);e.SimpleFeatureSource=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),a=i(1),s=function(t){function e(e,i,r){void 0===r&&(r="Bearer d277145");var n=t.call(this)||this,o=new a.core.Deserializer,s=new a.core.RestHttp({token:r});return n.restWFSService=new a.ows.RestWFSService({url:e,http:s,deserializer:o}),n.name=i,n}return n(e,t),e.prototype.asArray=function(){},e.prototype.getData=function(){return this.restWFSService.find(this.name)},e}(o.FeatureSource);e.TSWFSSource=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var i=t.call(this)||this;return i.vadaService=e,i}return n(e,t),e.prototype.getData=function(){return this.vadaService.find()},e}(i(57).StatSource);e.VataSource=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(40),n=function(){function t(){}return t.prototype.create=function(t){var e=JSON.parse(t),i=e.$type;if(i){var n=i.split(",")[0];if(this.exist(n)){var o=r.TypeTable.find(n).newInstance();return Object.assign(o,e),o}}return null},t.prototype.exist=function(t){return r.TypeTable.has(t)},t}();e.TObjectCreator=n},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(30),a=i(1),s=function(t){function e(){var e=t.call(this)||this;return e.sliderParamter=new a.ani.SimpleSlideParameter({geometry:"",skip:200,color:"",size:8,speed:6e3,loop:!0}),e}return n(e,t),e.prototype.getData=function(){return this.sliderParamter},e.prototype.setSkip=function(t){this.sliderParamter.skip=1e3*t},e.prototype.setSymbolSize=function(t){this.sliderParamter.size=t},e.prototype.setSpeed=function(t){this.sliderParamter.speed=1e3*t},e.prototype.isLoop=function(t){this.sliderParamter.loop=t},e}(o.AnimationType);e.PointSlide=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=function(){function t(t,e){this.chartRenderer=new r.render.ChartRenderer({map:t.getMap(),chartTemplate:e.getData()})}return t.prototype.getData=function(){return this.chartRenderer},t}();e.ChartRenderer=n},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=function(t){function e(e,i){for(var r=t.call(this)||this,n=new o.sfs.Fields,a=0;a<e.getCount();a++){var s=e.get(a),l=new o.sfs.Field({name:s.name,alias:s.alias,dataType:s.dataType});n.add(l)}return r.barChart=new o.render.BarChart({fields:n.fields,options:i}),r}return n(e,t),e.prototype.getData=function(){return this.barChart},e}(i(43).StatChart);e.BarChartMap=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=function(t){function e(e,i){for(var r=t.call(this)||this,n=new o.sfs.Fields,a=0;a<e.getCount();a++){var s=e.get(a),l=new o.sfs.Field({name:s.name,alias:s.alias,dataType:s.dataType});n.add(l)}return r.pieChart=new o.render.PieChart({fields:n.fields,options:i}),r}return n(e,t),e.prototype.getData=function(){return this.pieChart},e}(i(43).StatChart);e.PieChartMap=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=function(t){function e(e,i){for(var r=t.call(this)||this,n=new o.sfs.Fields,a=0;a<e.getCount();a++){var s=e.get(a),l=new o.sfs.Field({name:s.name,alias:s.alias,dataType:s.dataType});n.add(l)}return r.sumPieChart=new o.render.PieChart({fields:n.fields,options:i}),r}return n(e,t),e.prototype.getData=function(){return this.sumPieChart},e}(i(43).StatChart);e.SumPieChartMap=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.setColumnWidth=function(t){this.config("series[0].barWidth",t),this.config("series[1].barWidth",t),this.config("series[2].barWidth",t)},e.prototype.setColumnBottomWidth=function(t){this.config("series[1].symbolSize[1]",t),this.config("series[1].symbolOffset[1]",-t/2),this.config("series[2].symbolSize[1]",t),this.config("series[2].symbolOffset[1]",t/2)},e.prototype.init=function(){this.config("yAxis.show",!1),this.config("xAxis",{axisLine:{show:!1},axisLabel:{margin:15},axisTick:{show:!1},splitLine:{show:!1},splitArea:{show:!1}}),this.config("series[0].myType",void 0),this.config("series[0]",{type:"bar",z:0,barWidth:"auto"}),this.config("series[1]",{type:"pictorialBar",z:2,barWidth:"auto",symbol:"circle",symbolSize:["100%",20],symbolOffset:[0,-10],symbolPosition:"end"}),this.config("series[2]",{type:"pictorialBar",z:1,barWidth:"auto",symbol:"circle",symbolSize:["100%",20],symbolOffset:[0,10]})},e}(i(0).EChart);e.ColumnBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.setColumnWidth=function(t){this.config("series[0].barWidth",t),this.config("series[1].barWidth",t),this.config("series[2].symbolSize[0]",t),this.config("series[3].symbolSize[0]",t),this.config("series[4].symbolSize[0]",t)},e.prototype.setColumnBottomWidth=function(t){this.config("series[2].symbolSize[1]",t),this.config("series[2].symbolOffset[1]",t/2),this.config("series[3].symbolSize[1]",t),this.config("series[3].symbolOffset[1]",-t/2),this.config("series[4].symbolSize[1]",t),this.config("series[4].symbolOffset[1]",t/2)},e.prototype.init=function(){this.config("yAxis.show",!1),this.config("xAxis",{axisLine:{show:!1},axisLabel:{margin:15},axisTick:{show:!1},splitLine:{show:!1},splitArea:{show:!1}}),this.config("series[0].myType",void 0),this.config("series[0]",{z:0,barWidth:80,itemStyle:{opacity:.3},encode:{itemName:0,x:0,y:2}}),this.config("series[1]",{type:"bar",z:0,barWidth:80,barGap:"-100%",itemStyle:{opacity:.4},encode:{itemName:0,x:0,y:1}}),this.config("series[2]",{type:"pictorialBar",z:0,symbolRepeat:!0,symbolSize:[80,20],symbolClip:!0,symbolOffset:[0,10],symbolMargin:5,encode:{itemName:0,x:0,y:1}}),this.config("series[3]",{type:"pictorialBar",z:1,symbol:"circle",symbolSize:[80,20],symbolOffset:[0,-10],symbolPosition:"end",encode:{itemName:0,x:0,y:1}}),this.config("series[4]",{type:"pictorialBar",z:2,symbol:"circle",symbolSize:[80,20],symbolOffset:[0,10],encode:{itemName:0,x:0,y:1}})},e}(i(0).EChart);e.ColumnBorderBarChart=o},function(t,e,i){var r=i(3),n=i(9),o=i(167),a=i(44),s=i(45),l=i(168),h="silent";function c(t){s.stop(this.event)}function u(){}u.prototype.dispose=function(){};var p=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],f=function(t,e,i,r){a.call(this),this.storage=t,this.painter=e,this.painterRoot=r,i=i||new u,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,o.call(this),this.setHandlerProxy(i)};function y(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var r,n=t;n;){if(n.clipPath&&!n.clipPath.contain(e,i))return!1;n.silent&&(r=!0),n=n.parent}return!r||h}return!1}f.prototype={constructor:f,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(r.each(p,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,i=t.zrY,r=this._hovered,n=r.target;n&&!n.__zr&&(n=(r=this.findHover(r.x,r.y)).target);var o=this._hovered=this.findHover(e,i),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),n&&a!==n&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==n&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);for(var e,i=t.toElement||t.relatedTarget;(i=i&&i.parentNode)&&9!==i.nodeType&&!(e=i===this.painterRoot););!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){var r=(t=t||{}).target;if(!r||!r.silent){for(var n,o,a="on"+e,s={type:e,event:o=i,target:(n=t).target,topTarget:n.topTarget,cancelBubble:!1,offsetX:o.zrX,offsetY:o.zrY,gestureEvent:o.gestureEvent,pinchX:o.pinchX,pinchY:o.pinchY,pinchScale:o.pinchScale,wheelDelta:o.zrDelta,zrByTouch:o.zrByTouch,which:o.which,stop:c};r&&(r[a]&&(s.cancelBubble=r[a].call(r,s)),r.trigger(e,s),r=r.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(e,s),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[a]&&t[a].call(t,s),t.trigger&&t.trigger(e,s)}))}},findHover:function(t,e,i){for(var r=this.storage.getDisplayList(),n={x:t,y:e},o=r.length-1;0<=o;o--){var a;if(r[o]!==i&&!r[o].ignore&&(a=y(r[o],t,e))&&(!n.topTarget&&(n.topTarget=r[o]),a!==h)){n.target=r[o];break}}return n},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new l);var i=this._gestureMgr;"start"===e&&i.clear();var r=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),r){var n=r.type;t.gestureEvent=n,this.dispatchToElement({target:r.target},n,r.event)}}},r.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){f.prototype[t]=function(e){var i=this.findHover(e.zrX,e.zrY),r=i.target;if("mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||4<n.dist(this._downPoint,[e.zrX,e.zrY]))return;this._downPoint=null}this.dispatchToElement(i,t,e)}}),r.mixin(f,a),r.mixin(f,o);var d=f;t.exports=d},function(t,e){function i(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function r(t,e){return{target:t,topTarget:e&&e.topTarget}}i.prototype={constructor:i,_dragStart:function(t){var e=t.target;e&&e.draggable&&((this._draggingTarget=e).dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(r(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,o=i-this._x,a=n-this._y;this._x=i,this._y=n,e.drift(o,a,t),this.dispatchToElement(r(e,t),"drag",t.event);var s=this.findHover(i,n,e).target,l=this._dropTarget;e!==(this._dropTarget=s)&&(l&&s!==l&&this.dispatchToElement(r(l,t),"dragleave",t.event),s&&s!==l&&this.dispatchToElement(r(s,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(r(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(r(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var n=i;t.exports=n},function(t,e,i){var r=i(45),n=function(){this._track=[]};function o(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}n.prototype={constructor:n,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var o={points:[],touches:[],target:e,event:t},a=0,s=n.length;a<s;a++){var l=n[a],h=r.clientToLocal(i,l,{});o.points.push([h.zrX,h.zrY]),o.touches.push(l)}this._track.push(o)}},_recognize:function(t){for(var e in a)if(a.hasOwnProperty(e)){var i=a[e](this._track,t);if(i)return i}}};var a={pinch:function(t,e){var i=t.length;if(i){var r,n=(t[i-1]||{}).points,a=(t[i-2]||{}).points||n;if(a&&1<a.length&&n&&1<n.length){var s=o(n)/o(a);!isFinite(s)&&(s=1),e.pinchScale=s;var l=[((r=n)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}},s=n;t.exports=s},function(t,e,i){var r=i(3),n=i(14),o=i(65),a=i(101);function s(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var l=function(){this._roots=[],this._displayList=[],this._displayListLen=0};l.prototype={constructor:l,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,n.canvasSupported&&a(i,s)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];for(var n=r,o=t;n;)n.parent=o,n.updateTransform(),e.push(n),n=(o=n).clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof o&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof o&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var n=t.length;e<n;e++)this.delRoot(t[e])}else{var a=r.indexOf(this._roots,t);0<=a&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof o&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:s};var h=l;t.exports=h},function(t,e,i){var r=i(24),n=i(9),o=r.identity;function a(t){return 5e-5<t||t<-5e-5}var s=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=s.prototype;l.transform=null,l.needLocalTransform=function(){return a(this.rotation)||a(this.position[0])||a(this.position[1])||a(this.scale[0]-1)||a(this.scale[1]-1)};var h=[];l.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;if(i||e){n=n||r.create(),i?this.getLocalTransform(n):o(n),e&&(i?r.mul(n,t.transform,n):r.copy(n,t.transform)),this.transform=n;var a=this.globalScaleRatio;if(null!=a&&1!==a){this.getGlobalScale(h);var s=h[0]<0?-1:1,l=h[1]<0?-1:1,c=((h[0]-s)*a+s)/h[0]||0,u=((h[1]-l)*a+l)/h[1]||0;n[0]*=c,n[1]*=c,n[2]*=u,n[3]*=u}this.invTransform=this.invTransform||r.create(),r.invert(this.invTransform,n)}else n&&o(n)},l.getLocalTransform=function(t){return s.getLocalTransform(this,t)},l.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},l.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var c=[],u=r.create();l.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=this.position,n=this.scale;a(e-1)&&(e=Math.sqrt(e)),a(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(e=-e),t[3]<0&&(i=-i),r[0]=t[4],r[1]=t[5],n[0]=e,n[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/e)}},l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(r.mul(c,t.invTransform,e),e=c);var i=this.origin;i&&(i[0]||i[1])&&(u[4]=i[0],u[5]=i[1],r.mul(c,e,u),c[4]-=i[0],c[5]-=i[1],e=c),this.setLocalTransform(e)}},l.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1])):(t[0]=1,t[1]=1),t},l.transformCoordToLocal=function(t,e){var i=[t,e],r=this.invTransform;return r&&n.applyTransform(i,i,r),i},l.transformCoordToGlobal=function(t,e){var i=[t,e],r=this.transform;return r&&n.applyTransform(i,i,r),i},s.getLocalTransform=function(t,e){o(e=e||[]);var i=t.origin,n=t.scale||[1,1],a=t.rotation||0,s=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),r.scale(e,e,n),a&&r.rotate(e,e,a),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=s[0],e[5]+=s[1],e};var p=s;t.exports=p},function(t,e,i){var r=i(99),n=i(32),o=i(3),a=o.isString,s=o.isFunction,l=o.isObject,h=o.isArrayLike,c=o.indexOf,u=function(){this.animators=[]};function p(t,e,i,r,n,o,c,u){a(r)?(o=n,n=r,r=0):s(n)?(o=n,n="linear",r=0):s(r)?(o=r,r=0):s(i)?(o=i,i=500):i||(i=500),t.stopAnimation(),function t(e,i,r,n,o,a,s){var c={},u=0;for(var p in n)n.hasOwnProperty(p)&&(null!=r[p]?l(n[p])&&!h(n[p])?t(e,i?i+"."+p:p,r[p],n[p],o,a,s):(s?(c[p]=r[p],f(e,i,p,n[p])):c[p]=n[p],u++):null==n[p]||s||f(e,i,p,n[p]));0<u&&e.animate(i,!1).when(null==o?500:o,c).delay(a||0)}(t,"",t,e,i,r,u);var p=t.animators.slice(),y=p.length;function d(){--y||o&&o()}y||o&&o();for(var v=0;v<p.length;v++)p[v].done(d).start(n,c)}function f(t,e,i,r){if(e){var n={};n[e]={},n[e][i]=r,t.attr(n)}else t.attr(i,r)}u.prototype={constructor:u,animate:function(t,e){var i,o=!1,a=this,s=this.__zr;if(t){var l=t.split("."),h=a;o="shape"===l[0];for(var u=0,p=l.length;u<p;u++)h&&(h=h[l[u]]);h&&(i=h)}else i=a;if(i){var f=a.animators,y=new r(i,e);return y.during(function(t){a.dirty(o)}).done(function(){f.splice(c(f,y),1)}),f.push(y),s&&s.animation.addAnimator(y),y}n('Property "'+t+'" is not existed in element '+a.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,r=0;r<i;r++)e[r].stop(t);return e.length=0,this},animateTo:function(t,e,i,r,n,o){p(this,t,e,i,r,n,o)},animateFrom:function(t,e,i,r,n,o){p(this,t,e,i,r,n,o,!0)}};var y=u;t.exports=y},function(t,e,i){var r=i(173);function n(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}n.prototype={constructor:n,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var n=this.easing,o="string"==typeof n?r[n]:n,a="function"==typeof o?o(i):i;return this.fire("frame",a),1===i?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var o=n;t.exports=o},function(t,e){var i={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-i.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5}},r=i;t.exports=r},function(t,e,i){var r=i(47).devicePixelRatio,n=i(3),o=i(32),a=i(10),s=i(101),l=i(175),h=i(103),c=i(25),u=i(14),p=314159;function f(t){return parseInt(t,10)}var y=new a(0,0,0,0),d=new a(0,0,0,0),v=function(t,e,i){this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=n.extend({},i||{}),this.dpr=i.devicePixelRatio||r,this._singleCanvas=o;var a=(this.root=t).style;a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var s,h,c,u=this._zlevelList=[],f=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,o){var y=t.width,d=t.height;null!=i.width&&(y=i.width),null!=i.height&&(d=i.height),this.dpr=i.devicePixelRatio||1,t.width=y*this.dpr,t.height=d*this.dpr,this._width=y,this._height=d;var v=new l(t,this,this.dpr);v.__builtin__=!0,v.initContext(),(f[p]=v).zlevel=p,u.push(p),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var g=this._domRoot=(s=this._width,h=this._height,(c=document.createElement("div")).style.cssText=["position:relative","overflow:hidden","width:"+s+"px","height:"+h+"px","padding:0","margin:0","border-width:0"].join(";")+";",c);t.appendChild(g)}this._hoverlayer=null,this._hoverElements=[]};v.prototype={constructor:v,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var r=0;r<i.length;r++){var n=i[r],o=this._layers[n];if(!o.__builtin__&&o.refresh){var a=0===r?this._backgroundColor:null;o.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return(i.__from=t).__hoverMir=i,e&&i.setStyle(e),this._hoverElements.push(i),i}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,r=n.indexOf(i,e);0<=r&&i.splice(r,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var r=e[i].__from;r&&(r.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){s(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(1e5));var r={};i.ctx.save();for(var n=0;n<e;){var o=t[n],a=o.__from;a&&a.__zr?(n++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,i,!0,r))):(t.splice(n,1),a.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var n=this;h(function(){n._paintList(t,e,i)})}}},_compositeManually:function(){var t=this.getLayer(p).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,i)})},_doPaintList:function(t,e){for(var i=[],r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(l=this._layers[o]).__builtin__&&l!==this._hoverlayer&&(l.__dirty||e)&&i.push(l)}for(var a=!0,s=0;s<i.length;s++){var l,h=(l=i[s]).ctx,c={};h.save();var p=e?l.__startIndex:l.__drawIndex,f=!e&&l.incremental&&Date.now,y=f&&Date.now(),d=l.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,d);else if(p===l.__startIndex){var v=t[p];v.incremental&&v.notClear&&!e||l.clear(!1,d)}-1===p&&(console.error("For some unknown reason. drawIndex is -1"),p=l.__startIndex);for(var g=p;g<l.__endIndex;g++){var m=t[g];if(this._doPaintEl(m,l,e,c),m.__dirty=m.__dirtyText=!1,f&&15<Date.now()-y)break}l.__drawIndex=g,l.__drawIndex<l.__endIndex&&(a=!1),c.prevElClipPaths&&h.restore(),h.restore()}return u.wxa&&n.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},_doPaintEl:function(t,e,i,r){var n,o,a,s=e.ctx,l=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!l||l[0]||l[3])&&(!t.culling||(n=t,o=this._width,a=this._height,y.copy(n.getBoundingRect()),n.transform&&y.applyTransform(n.transform),d.width=o,d.height=a,y.intersect(d)))){var h=t.__clipPaths;r.prevElClipPaths&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}(h,r.prevElClipPaths)||(r.prevElClipPaths&&(e.ctx.restore(),r.prevElClipPaths=null,r.prevEl=null),h&&(s.save(),function(t,e){for(var i=0;i<t.length;i++){var r=t[i];r.setTransform(e),e.beginPath(),r.buildPath(e,r.shape),e.clip(),r.restoreTransform(e)}}(h,s),r.prevElClipPaths=h)),t.beforeBrush&&t.beforeBrush(s),t.brush(s,r.prevEl||null),(r.prevEl=t).afterBrush&&t.afterBrush(s)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=p);var i=this._layers[t];return i||((i=new l("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&n.merge(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i=this._layers,r=this._zlevelList,n=r.length,a=null,s=-1,l=this._domRoot;if(i[t])o("ZLevel "+t+" has been used already");else if((h=e)&&(h.__builtin__||"function"==typeof h.resize&&"function"==typeof h.refresh)){var h;if(0<n&&t>r[0]){for(s=0;s<n-1&&!(r[s]<t&&r[s+1]>t);s++);a=i[r[s]]}if(r.splice(s+1,0,t),!(i[t]=e).virtual)if(a){var c=a.dom;c.nextSibling?l.insertBefore(e.dom,c.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom)}else o("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var i,r,n=this._zlevelList;for(r=0;r<n.length;r++)i=n[r],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,r,n,o=this._zlevelList;for(n=0;n<o.length;n++)r=o[n],(i=this._layers[r]).__builtin__&&t.call(e,i,r)},eachOtherLayer:function(t,e){var i,r,n,o=this._zlevelList;for(n=0;n<o.length;n++)r=o[n],(i=this._layers[r]).__builtin__||t.call(e,i,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){r&&(r.__endIndex!==t&&(r.__dirty=!0),r.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++)if((a=t[i]).zlevel!==t[i-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}var r=null,n=0;for(i=0;i<t.length;i++){var a,s,l=(a=t[i]).zlevel;a.incremental?((s=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,n=1):s=this.getLayer(l+(0<n?.01:0),this._needsManuallyCompositing),s.__builtin__||o("ZLevel "+l+" has been used by unkown layer "+s.id),s!==r&&(s.__used=!0,s.__startIndex!==i&&(s.__dirty=!0),s.__startIndex=i,s.incremental?s.__drawIndex=-1:s.__drawIndex=i,e(i),r=s),a.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&0<t.getElementCount()&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?n.merge(i[t],e,!0):i[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];if(o===t||o===t+.01){var a=this._layers[o];n.merge(a,i[t],!0)}}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],i.splice(n.indexOf(i,t),1))},resize:function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){for(var o in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);n.each(this._progressiveLayers,function(i){i.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(p).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[p].dom;var e=new l("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,r=e.dom.height,n=e.ctx;this.eachLayer(function(t){t.__builtin__?n.drawImage(t.dom,0,0,i,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var h=a[s];this._doPaintEl(h,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],r=["clientWidth","clientHeight"][t],n=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||f(s[i])||f(a.style[i]))-(f(s[n])||0)-(f(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),r=i.getContext("2d"),n=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,l=o.shadowOffsetY*e,h=o.hasStroke()?o.lineWidth:0,u=Math.max(h/2,-s+a),p=Math.max(h/2,s+a),f=Math.max(h/2,-l+a),y=Math.max(h/2,l+a),d=n.width+u+p,v=n.height+f+y;i.width=d*e,i.height=v*e,r.scale(e,e),r.clearRect(0,0,d,v),r.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-n.x,f-n.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(r);var m=new c({style:{x:0,y:0,image:i}});return null!=g.position&&(m.position=t.position=g.position),null!=g.rotation&&(m.rotation=t.rotation=g.rotation),null!=g.scale&&(m.scale=t.scale=g.scale),m}};var g=v;t.exports=g},function(t,e,i){var r=i(3),n=i(47).devicePixelRatio,o=i(66),a=i(67);function s(){return!1}function l(t,e,i){var n=r.createCanvas(),o=e.getWidth(),a=e.getHeight(),s=n.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=o*i,n.height=a*i,n}var h=function(t,e,i){var o;i=i||n,"string"==typeof t?o=l(t,e,i):r.isObject(t)&&(t=(o=t).id),this.id=t;var a=(this.dom=o).style;a&&(o.onselectstart=s,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};h.prototype={constructor:h,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=l("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,r=this.dom,n=r.style,o=this.domBack;n&&(n.width=t+"px",n.height=e+"px"),r.width=t*i,r.height=e*i,o&&(o.width=t*i,o.height=e*i,1!==i&&this.ctxBack.scale(i,i))},clear:function(t,e){var i,r=this.dom,n=this.ctx,s=r.width,l=r.height,h=(e=e||this.clearColor,this.motionBlur&&!t),c=this.lastFrameAlpha,u=this.dpr;if(h&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,s/u,l/u)),n.clearRect(0,0,s,l),e&&"transparent"!==e&&(e.colorStops?(i=e.__canvasGradient||o.getGradient(n,e,{x:0,y:0,width:s,height:l}),e.__canvasGradient=i):e.image&&(i=a.prototype.getCanvasPattern.call(e,n)),n.save(),n.fillStyle=i||e,n.fillRect(0,0,s,l),n.restore()),h){var p=this.domBack;n.save(),n.globalAlpha=c,n.drawImage(p,0,0,s,l),n.restore()}}};var c=h;t.exports=c},function(t,e,i){var r=i(3),n=i(45).Dispatcher,o=i(103),a=i(99),s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,n.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=r.indexOf(this._clips,t);0<=e&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,r=i.length,n=[],o=[],a=0;a<r;a++){var s=i[a],l=s.step(t,e);l&&(n.push(l),o.push(s))}for(a=0;a<r;)i[a]._needsRemove?(i[a]=i[r-1],i.pop(),r--):a++;for(r=n.length,a=0;a<r;a++)o[a].fire(n[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,o(function e(){t._running&&(o(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var i=new a(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(i),i}},r.mixin(s,n);var l=s;t.exports=l},function(t,e,i){var r=i(45),n=r.addEventListener,o=r.removeEventListener,a=r.normalizeEvent,s=i(3),l=i(44),h=i(14),c=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],u=["touchstart","touchend","touchmove"],p={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},f=s.map(c,function(t){var e=t.replace("mouse","pointer");return p[e]?e:t});function y(t){return"mousewheel"===t&&h.browser.firefox?"DOMMouseScroll":t}function d(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}var v={mousemove:function(t){t=a(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=a(this.dom,t)).toElement||t.relatedTarget;if(e!==this.dom)for(;e&&9!==e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=a(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(this,t,"start"),v.mousemove.call(this,t),v.mousedown.call(this,t),d(this)},touchmove:function(t){(t=a(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"change"),v.mousemove.call(this,t),d(this)},touchend:function(t){(t=a(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"end"),v.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&v.click.call(this,t),d(this)},pointerdown:function(t){v.mousedown.call(this,t)},pointermove:function(t){g(t)||v.mousemove.call(this,t)},pointerup:function(t){v.mouseup.call(this,t)},pointerout:function(t){g(t)||v.mouseout.call(this,t)}};function g(t){var e=t.pointerType;return"pen"===e||"touch"===e}function m(t){var e;function i(e,i){s.each(e,function(e){n(t,y(e),i._handlers[e])},i)}l.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._handlers={},e=this,s.each(u,function(t){e._handlers[t]=s.bind(v[t],e)}),s.each(f,function(t){e._handlers[t]=s.bind(v[t],e)}),s.each(c,function(t){var i,r;e._handlers[t]=(i=v[t],r=e,function(){if(!r._touching)return i.apply(r,arguments)})}),h.pointerEventsSupported?i(f,this):(h.touchEventsSupported&&i(u,this),i(c,this))}s.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){v[t]=function(e){e=a(this.dom,e),this.trigger(t,e)}});var _=m.prototype;_.dispose=function(){for(var t=c.concat(u),e=0;e<t.length;e++){var i=t[e];o(this.dom,y(i),this._handlers[i])}},_.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},s.mixin(m,l);var b=m;t.exports=b},function(t,e,i){var r=i(3);e.util=r;var n=i(24);e.matrix=n;var o=i(9);e.vector=o;var a=i(46);e.color=a;var s=i(106);e.path=s;var l=i(187);l.parseSVG,e.parseSVG=l.parseSVG;var h=i(65);e.Group=h;var c=i(4);e.Path=c;var u=i(25);e.Image=u;var p=i(190);e.CompoundPath=p;var f=i(28);e.Text=f;var y=i(191);e.IncrementalDisplayable=y;var d=i(192);e.Arc=d;var v=i(193);e.BezierCurve=v;var g=i(108);e.Circle=g;var m=i(194);e.Droplet=m;var _=i(111);e.Ellipse=_;var b=i(195);e.Heart=b;var x=i(196);e.Isogon=x;var w=i(112);e.Line=w;var S=i(113);e.Polygon=S;var C=i(115);e.Polyline=C;var O=i(109);e.Rect=O;var P=i(197);e.Ring=P;var L=i(198);e.Rose=L;var T=i(199);e.Sector=T;var A=i(201);e.Star=A;var M=i(202);e.Trochoid=M;var k=i(116);e.LinearGradient=k;var E=i(203);e.RadialGradient=E;var D=i(67);e.Pattern=D;var z=i(10);e.BoundingRect=z},function(t,e,i){var r=i(9),n=i(27),o=Math.min,a=Math.max,s=Math.sin,l=Math.cos,h=2*Math.PI,c=r.create(),u=r.create(),p=r.create(),f=[],y=[];e.fromPoints=function(t,e,i){if(0!==t.length){var r,n=t[0],s=n[0],l=n[0],h=n[1],c=n[1];for(r=1;r<t.length;r++)n=t[r],s=o(s,n[0]),l=a(l,n[0]),h=o(h,n[1]),c=a(c,n[1]);e[0]=s,e[1]=h,i[0]=l,i[1]=c}},e.fromLine=function(t,e,i,r,n,s){n[0]=o(t,i),n[1]=o(e,r),s[0]=a(t,i),s[1]=a(e,r)},e.fromCubic=function(t,e,i,r,s,l,h,c,u,p){var d,v=n.cubicExtrema,g=n.cubicAt,m=v(t,i,s,h,f);for(u[0]=1/0,u[1]=1/0,p[0]=-1/0,p[1]=-1/0,d=0;d<m;d++){var _=g(t,i,s,h,f[d]);u[0]=o(_,u[0]),p[0]=a(_,p[0])}for(m=v(e,r,l,c,y),d=0;d<m;d++){var b=g(e,r,l,c,y[d]);u[1]=o(b,u[1]),p[1]=a(b,p[1])}u[0]=o(t,u[0]),p[0]=a(t,p[0]),u[0]=o(h,u[0]),p[0]=a(h,p[0]),u[1]=o(e,u[1]),p[1]=a(e,p[1]),u[1]=o(c,u[1]),p[1]=a(c,p[1])},e.fromQuadratic=function(t,e,i,r,s,l,h,c){var u=n.quadraticExtremum,p=n.quadraticAt,f=a(o(u(t,i,s),1),0),y=a(o(u(e,r,l),1),0),d=p(t,i,s,f),v=p(e,r,l,y);h[0]=o(t,s,d),h[1]=o(e,l,v),c[0]=a(t,s,d),c[1]=a(e,l,v)},e.fromArc=function(t,e,i,n,o,a,f,y,d){var v=r.min,g=r.max,m=Math.abs(o-a);if(m%h<1e-4&&1e-4<m)return y[0]=t-i,y[1]=e-n,d[0]=t+i,void(d[1]=e+n);if(c[0]=l(o)*i+t,c[1]=s(o)*n+e,u[0]=l(a)*i+t,u[1]=s(a)*n+e,v(y,c,u),g(d,c,u),(o%=h)<0&&(o+=h),(a%=h)<0&&(a+=h),a<o&&!f?a+=h:o<a&&f&&(o+=h),f){var _=a;a=o,o=_}for(var b=0;b<a;b+=Math.PI/2)o<b&&(p[0]=l(b)*i+t,p[1]=s(b)*n+e,v(y,p,y),g(d,p,d))}},function(t,e,i){var r=i(26),n=i(181),o=i(182),a=i(183),s=i(184),l=i(107).normalizeRadian,h=i(27),c=i(185),u=r.CMD,p=2*Math.PI,f=1e-4,y=[-1,-1,-1],d=[-1,-1];function v(t,e,i,r,n,o,a,s,l,c){if(e<c&&r<c&&o<c&&s<c||c<e&&c<r&&c<o&&c<s)return 0;var u,p=h.cubicRootAt(e,r,o,s,c,y);if(0===p)return 0;for(var f,v,g=0,m=-1,_=0;_<p;_++){var b=y[_],x=0===b||1===b?.5:1;h.cubicAt(t,i,n,a,b)<l||(m<0&&(m=h.cubicExtrema(e,r,o,s,d),d[1]<d[0]&&1<m&&(u=d[0],d[0]=d[1],d[1]=u),f=h.cubicAt(e,r,o,s,d[0]),1<m&&(v=h.cubicAt(e,r,o,s,d[1]))),2===m?b<d[0]?g+=f<e?x:-x:b<d[1]?g+=v<f?x:-x:g+=s<v?x:-x:b<d[0]?g+=f<e?x:-x:g+=s<f?x:-x)}return g}function g(t,e,i,r,n,o,a,s){if(e<s&&r<s&&o<s||s<e&&s<r&&s<o)return 0;var l=h.quadraticRootAt(e,r,o,s,y);if(0===l)return 0;var c=h.quadraticExtremum(e,r,o);if(0<=c&&c<=1){for(var u=0,p=h.quadraticAt(e,r,o,c),f=0;f<l;f++){var d=0===y[f]||1===y[f]?.5:1;h.quadraticAt(t,i,n,y[f])<a||(y[f]<c?u+=p<e?d:-d:u+=o<p?d:-d)}return u}return d=0===y[0]||1===y[0]?.5:1,h.quadraticAt(t,i,n,y[0])<a?0:o<e?d:-d}function m(t,e,i,r,n,o,a,s){if(i<(s-=e)||s<-i)return 0;var h=Math.sqrt(i*i-s*s);y[0]=-h,y[1]=h;var c=Math.abs(r-n);if(c<1e-4)return 0;if(c%p<1e-4){n=p;var u=o?1:-1;return a>=y[r=0]+t&&a<=y[1]+t?u:0}o?(h=r,r=l(n),n=l(h)):(r=l(r),n=l(n)),n<r&&(n+=p);for(var f=0,d=0;d<2;d++){var v=y[d];if(a<v+t){var g=Math.atan2(s,v);u=o?1:-1,g<0&&(g=p+g),(r<=g&&g<=n||r<=g+p&&g+p<=n)&&(g>Math.PI/2&&g<1.5*Math.PI&&(u=-u),f+=u)}}return f}function _(t,e,i,r,l){for(var h,p,y=0,d=0,_=0,b=0,x=0,w=0;w<t.length;){var S=t[w++];switch(S===u.M&&1<w&&(i||(y+=c(d,_,b,x,r,l))),1===w&&(b=d=t[w],x=_=t[w+1]),S){case u.M:d=b=t[w++],_=x=t[w++];break;case u.L:if(i){if(n.containStroke(d,_,t[w],t[w+1],e,r,l))return!0}else y+=c(d,_,t[w],t[w+1],r,l)||0;d=t[w++],_=t[w++];break;case u.C:if(i){if(o.containStroke(d,_,t[w++],t[w++],t[w++],t[w++],t[w],t[w+1],e,r,l))return!0}else y+=v(d,_,t[w++],t[w++],t[w++],t[w++],t[w],t[w+1],r,l)||0;d=t[w++],_=t[w++];break;case u.Q:if(i){if(a.containStroke(d,_,t[w++],t[w++],t[w],t[w+1],e,r,l))return!0}else y+=g(d,_,t[w++],t[w++],t[w],t[w+1],r,l)||0;d=t[w++],_=t[w++];break;case u.A:var C=t[w++],O=t[w++],P=t[w++],L=t[w++],T=t[w++],A=t[w++];w+=1;var M=1-t[w++],k=Math.cos(T)*P+C,E=Math.sin(T)*L+O;1<w?y+=c(d,_,k,E,r,l):(b=k,x=E);var D=(r-C)*L/P+C;if(i){if(s.containStroke(C,O,L,T,T+A,M,e,D,l))return!0}else y+=m(C,O,L,T,T+A,M,D,l);d=Math.cos(T+A)*P+C,_=Math.sin(T+A)*L+O;break;case u.R:if(b=d=t[w++],x=_=t[w++],k=b+t[w++],E=x+t[w++],i){if(n.containStroke(b,x,k,x,e,r,l)||n.containStroke(k,x,k,E,e,r,l)||n.containStroke(k,E,b,E,e,r,l)||n.containStroke(b,E,b,x,e,r,l))return!0}else y+=c(k,x,k,E,r,l),y+=c(b,E,b,x,r,l);break;case u.Z:if(i){if(n.containStroke(d,_,b,x,e,r,l))return!0}else y+=c(d,_,b,x,r,l);d=b,_=x}}return i||(h=_,p=x,Math.abs(h-p)<f)||(y+=c(d,_,b,x,r,l)||0),0!==y}e.contain=function(t,e,i){return _(t,0,!1,e,i)},e.containStroke=function(t,e,i,r){return _(t,e,!0,i,r)}},function(t,e){e.containStroke=function(t,e,i,r,n,o,a){if(0===n)return!1;var s,l=n;if(e+l<a&&r+l<a||a<e-l&&a<r-l||t+l<o&&i+l<o||o<t-l&&o<i-l)return!1;if(t===i)return Math.abs(o-t)<=l/2;var h=(s=(e-r)/(t-i))*o-a+(t*r-i*e)/(t-i);return h*h/(s*s+1)<=l/2*l/2}},function(t,e,i){var r=i(27);e.containStroke=function(t,e,i,n,o,a,s,l,h,c,u){if(0===h)return!1;var p=h;return!(e+p<u&&n+p<u&&a+p<u&&l+p<u||u<e-p&&u<n-p&&u<a-p&&u<l-p||t+p<c&&i+p<c&&o+p<c&&s+p<c||c<t-p&&c<i-p&&c<o-p&&c<s-p)&&r.cubicProjectPoint(t,e,i,n,o,a,s,l,c,u,null)<=p/2}},function(t,e,i){var r=i(27).quadraticProjectPoint;e.containStroke=function(t,e,i,n,o,a,s,l,h){if(0===s)return!1;var c=s;return!(e+c<h&&n+c<h&&a+c<h||h<e-c&&h<n-c&&h<a-c||t+c<l&&i+c<l&&o+c<l||l<t-c&&l<i-c&&l<o-c)&&r(t,e,i,n,o,a,l,h,null)<=c/2}},function(t,e,i){var r=i(107).normalizeRadian,n=2*Math.PI;e.containStroke=function(t,e,i,o,a,s,l,h,c){if(0===l)return!1;var u=l;h-=t,c-=e;var p=Math.sqrt(h*h+c*c);if(i<p-u||p+u<i)return!1;if(Math.abs(o-a)%n<1e-4)return!0;if(s){var f=o;o=r(a),a=r(f)}else o=r(o),a=r(a);a<o&&(a+=n);var y=Math.atan2(c,h);return y<0&&(y+=n),o<=y&&y<=a||o<=y+n&&y+n<=a}},function(t,e){t.exports=function(t,e,i,r,n,o){if(e<o&&r<o||o<e&&o<r)return 0;if(r===e)return 0;var a=r<e?1:-1,s=(o-e)/(r-e);1!==s&&0!==s||(a=r<e?.5:-.5);var l=s*(i-t)+t;return l===n?1/0:n<l?a:0}},function(t,e,i){var r=i(26),n=i(9).applyTransform,o=r.CMD,a=[[],[],[]],s=Math.sqrt,l=Math.atan2;t.exports=function(t,e){var i,r,h,c,u,p=t.data,f=o.M,y=o.C,d=o.L,v=o.R,g=o.A,m=o.Q;for(c=h=0;h<p.length;){switch(i=p[h++],c=h,r=0,i){case f:case d:r=1;break;case y:r=3;break;case m:r=2;break;case g:var _=e[4],b=e[5],x=s(e[0]*e[0]+e[1]*e[1]),w=s(e[2]*e[2]+e[3]*e[3]),S=l(-e[1]/w,e[0]/x);p[h]*=x,p[h++]+=_,p[h]*=w,p[h++]+=b,p[h++]*=x,p[h++]*=w,p[h++]+=S,p[h++]+=S,c=h+=2;break;case v:C[0]=p[h++],C[1]=p[h++],n(C,C,e),p[c++]=C[0],p[c++]=C[1],C[0]+=p[h++],C[1]+=p[h++],n(C,C,e),p[c++]=C[0],p[c++]=C[1]}for(u=0;u<r;u++){var C;(C=a[u])[0]=p[h++],C[1]=p[h++],n(C,C,e),p[c++]=C[0],p[c++]=C[1]}}}},function(t,e,i){var r=i(65),n=i(25),o=i(28),a=i(108),s=i(109),l=i(111),h=i(112),c=i(4),u=i(113),p=i(115),f=i(116),y=i(66),d=i(24),v=i(106).createFromString,g=i(3),m=g.isString,_=g.extend,b=g.defaults,x=g.trim,w=g.each,S=/[\s,]+/;function C(t){for(m(t)&&(t=(new DOMParser).parseFromString(t,"text/xml")),9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function O(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}O.prototype.parse=function(t,e){e=e||{};var i=C(t);if(!i)throw new Error("Illegal svg");var n=new r;this._root=n;var o=i.getAttribute("viewBox")||"",a=parseFloat(i.getAttribute("width")||e.width),l=parseFloat(i.getAttribute("height")||e.height);isNaN(a)&&(a=null),isNaN(l)&&(l=null),k(i,n,null,!0);for(var h,c,u=i.firstChild;u;)this._parseNode(u,n),u=u.nextSibling;if(o){var p=x(o).split(S);4<=p.length&&(h={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(h&&null!=a&&null!=l&&(c=B(h,a,l),!e.ignoreViewBox)){var f=n;(n=new r).add(f),f.scale=c.scale.slice(),f.position=c.position.slice()}return e.ignoreRootClip||null==a||null==l||n.setClipPath(new s({shape:{x:0,y:0,width:a,height:l}})),{root:n,width:a,height:l,viewBoxRect:h,viewBoxTransform:c}},O.prototype._parseNode=function(t,e){var i,r,n=t.nodeName.toLowerCase();if("defs"===n?this._isDefine=!0:"text"===n&&(this._isText=!0),this._isDefine){if(r=L[n]){var o=r.call(this,t),a=t.getAttribute("id");a&&(this._defs[a]=o)}}else(r=P[n])&&(i=r.call(this,t,e),e.add(i));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,i),3===s.nodeType&&this._isText&&this._parseText(s,i),s=s.nextSibling;"defs"===n?this._isDefine=!1:"text"===n&&(this._isText=!1)},O.prototype._parseText=function(t,e){if(1===t.nodeType){var i=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0;this._textX+=parseFloat(i),this._textY+=parseFloat(r)}var n=new o({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});T(e,n),k(t,n,this._defs);var a=n.style.fontSize;a&&a<9&&(n.style.fontSize=9,n.scale=n.scale||[1,1],n.scale[0]*=a/9,n.scale[1]*=a/9);var s=n.getBoundingRect();return this._textX+=s.width,e.add(n),n};var P={g:function(t,e){var i=new r;return T(e,i),k(t,i,this._defs),i},rect:function(t,e){var i=new s;return T(e,i),k(t,i,this._defs),i.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),i},circle:function(t,e){var i=new a;return T(e,i),k(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),i},line:function(t,e){var i=new h;return T(e,i),k(t,i,this._defs),i.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),i},ellipse:function(t,e){var i=new l;return T(e,i),k(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),i},polygon:function(t,e){var i=t.getAttribute("points");i&&(i=A(i));var r=new u({shape:{points:i||[]}});return T(e,r),k(t,r,this._defs),r},polyline:function(t,e){var i=new c;T(e,i),k(t,i,this._defs);var r=t.getAttribute("points");return r&&(r=A(r)),new p({shape:{points:r||[]}})},image:function(t,e){var i=new n;return T(e,i),k(t,i,this._defs),i.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),i},text:function(t,e){var i=t.getAttribute("x")||0,n=t.getAttribute("y")||0,o=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(n)+parseFloat(a);var s=new r;return T(e,s),k(t,s,this._defs),s},tspan:function(t,e){var i=t.getAttribute("x"),n=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=n&&(this._textY=parseFloat(n));var o=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0,s=new r;return T(e,s),k(t,s,this._defs),this._textX+=o,this._textY+=a,s},path:function(t,e){var i=t.getAttribute("d")||"",r=v(i);return T(e,r),k(t,r,this._defs),r}},L={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),i=parseInt(t.getAttribute("y1")||0,10),r=parseInt(t.getAttribute("x2")||10,10),n=parseInt(t.getAttribute("y2")||0,10),o=new f(e,i,r,n);return function(t,e){for(var i=t.firstChild;i;){if(1===i.nodeType){var r=i.getAttribute("offset");r=0<r.indexOf("%")?parseInt(r,10)/100:r?parseFloat(r):0;var n=i.getAttribute("stop-color")||"#000000";e.addColorStop(r,n)}i=i.nextSibling}}(t,o),o},radialgradient:function(t){}};function T(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),b(e.__inheritedStyle,t.__inheritedStyle))}function A(t){for(var e=x(t).split(S),i=[],r=0;r<e.length;r+=2){var n=parseFloat(e[r]),o=parseFloat(e[r+1]);i.push([n,o])}return i}var M={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function k(t,e,i,r){var n=e.__inheritedStyle||{},o="text"===e.type;if(1===t.nodeType&&(function(t,e){var i=t.getAttribute("transform");if(i){i=i.replace(/,/g," ");var r=null,n=[];i.replace(z,function(t,e,i){n.push(e,i)});for(var o=n.length-1;0<o;o-=2){var a=n[o],s=n[o-1];switch(r=r||d.create(),s){case"translate":a=x(a).split(S),d.translate(r,r,[parseFloat(a[0]),parseFloat(a[1]||0)]);break;case"scale":a=x(a).split(S),d.scale(r,r,[parseFloat(a[0]),parseFloat(a[1]||a[0])]);break;case"rotate":a=x(a).split(S),d.rotate(r,r,parseFloat(a[0]));break;case"skew":a=x(a).split(S),console.warn("Skew transform is not supported yet");break;case"matrix":a=x(a).split(S);r[0]=parseFloat(a[0]),r[1]=parseFloat(a[1]),r[2]=parseFloat(a[2]),r[3]=parseFloat(a[3]),r[4]=parseFloat(a[4]),r[5]=parseFloat(a[5])}}e.setLocalTransform(r)}}(t,e),_(n,function(t){var e=t.getAttribute("style"),i={};if(!e)return i;var r,n={};for(j.lastIndex=0;null!=(r=j.exec(e));)n[r[1]]=r[2];for(var o in M)M.hasOwnProperty(o)&&null!=n[o]&&(i[M[o]]=n[o]);return i}(t)),!r))for(var a in M)if(M.hasOwnProperty(a)){var s=t.getAttribute(a);null!=s&&(n[M[a]]=s)}var l=o?"textFill":"fill",h=o?"textStroke":"stroke";e.style=e.style||new y;var c=e.style;null!=n.fill&&c.set(l,D(n.fill,i)),null!=n.stroke&&c.set(h,D(n.stroke,i)),w(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){var e="lineWidth"===t&&o?"textStrokeWidth":t;null!=n[t]&&c.set(e,parseFloat(n[t]))}),n.textBaseline&&"auto"!==n.textBaseline||(n.textBaseline="alphabetic"),"alphabetic"===n.textBaseline&&(n.textBaseline="bottom"),"start"===n.textAlign&&(n.textAlign="left"),"end"===n.textAlign&&(n.textAlign="right"),w(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=n[t]&&c.set(t,n[t])}),n.lineDash&&(e.style.lineDash=x(n.lineDash).split(S)),c[h]&&"none"!==c[h]&&(e[h]=!0),e.__inheritedStyle=n}var E=/url\(\s*#(.*?)\)/;function D(t,e){var i=e&&t&&t.match(E);return i?e[x(i[1])]:t}var z=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,j=/([^\s:;]+)\s*:\s*([^:;]+)/g;function B(t,e,i){var r=e/t.width,n=i/t.height,o=Math.min(r,n);return{scale:[o,o],position:[-(t.x+t.width/2)*o+e/2,-(t.y+t.height/2)*o+i/2]}}e.parseXML=C,e.makeViewBoxTransform=B,e.parseSVG=function(t,e){return(new O).parse(t,e)}},function(t,e,i){var r=i(9).distance;function n(t,e,i,r,n,o,a){var s=.5*(i-t),l=.5*(r-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*o+s*n+e}t.exports=function(t,e){for(var i=t.length,o=[],a=0,s=1;s<i;s++)a+=r(t[s-1],t[s]);var l=a/2;for(l=l<i?i:l,s=0;s<l;s++){var h,c,u,p=s/(l-1)*(e?i:i-1),f=Math.floor(p),y=p-f,d=t[f%i];u=e?(h=t[(f-1+i)%i],c=t[(f+1)%i],t[(f+2)%i]):(h=t[0===f?f:f-1],c=t[i-2<f?i-1:f+1],t[i-3<f?i-1:f+2]);var v=y*y,g=y*v;o.push([n(h[0],d[0],c[0],u[0],y,v,g),n(h[1],d[1],c[1],u[1],y,v,g)])}return o}},function(t,e,i){var r=i(9),n=r.min,o=r.max,a=r.scale,s=r.distance,l=r.add,h=r.clone,c=r.sub;t.exports=function(t,e,i,r){var u,p,f,y,d=[],v=[],g=[],m=[];if(r){f=[1/0,1/0],y=[-1/0,-1/0];for(var _=0,b=t.length;_<b;_++)n(f,f,t[_]),o(y,y,t[_]);n(f,f,r[0]),o(y,y,r[1])}for(_=0,b=t.length;_<b;_++){var x=t[_];if(i)u=t[_?_-1:b-1],p=t[(_+1)%b];else{if(0===_||_===b-1){d.push(h(t[_]));continue}u=t[_-1],p=t[_+1]}c(v,p,u),a(v,v,e);var w=s(x,u),S=s(x,p),C=w+S;0!==C&&(w/=C,S/=C),a(g,v,-w),a(m,v,S);var O=l([],x,g),P=l([],x,m);r&&(o(O,O,f),n(O,O,y),o(P,P,f),n(P,P,y)),d.push(O),d.push(P)}return i&&d.push(d.shift()),d}},function(t,e,i){var r=i(4),n=r.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var i=e.paths||[],r=0;r<i.length;r++)i[r].buildPath(t,i[r].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),r.prototype.getBoundingRect.call(this)}});t.exports=n},function(t,e,i){var r=i(3).inherits,n=i(33),o=i(10);function a(t){n.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}a.prototype.incremental=!0,a.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},a.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},a.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},a.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},a.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},a.prototype.brush=function(t,e){for(var i=this._cursor;i<this._displayables.length;i++)(r=this._displayables[i]).beforeBrush&&r.beforeBrush(t),r.brush(t,i===this._cursor?null:this._displayables[i-1]),r.afterBrush&&r.afterBrush(t);for(this._cursor=i,i=0;i<this._temporaryDisplayables.length;i++){var r;(r=this._temporaryDisplayables[i]).beforeBrush&&r.beforeBrush(t),r.brush(t,0===i?null:this._temporaryDisplayables[i-1]),r.afterBrush&&r.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var s=[];a.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new o(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],r=i.getBoundingRect().clone();i.needLocalTransform()&&r.applyTransform(i.getLocalTransform(s)),t.union(r)}this._rect=t}return this._rect},a.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var r=0;r<this._displayables.length;r++)if(this._displayables[r].contain(t,e))return!0;return!1},r(a,n);var l=a;t.exports=l},function(t,e,i){var r=i(4).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,r=e.cy,n=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),h=Math.sin(o);t.moveTo(l*n+i,h*n+r),t.arc(i,r,n,o,a,!s)}});t.exports=r},function(t,e,i){var r=i(4),n=i(9),o=i(27),a=o.quadraticSubdivide,s=o.cubicSubdivide,l=o.quadraticAt,h=o.cubicAt,c=o.quadraticDerivativeAt,u=o.cubicDerivativeAt,p=[];function f(t,e,i){var r=t.cpx2,n=t.cpy2;return null===r||null===n?[(i?u:h)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?u:h)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?c:l)(t.x1,t.cpx1,t.x2,e),(i?c:l)(t.y1,t.cpy1,t.y2,e)]}var y=r.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,r=e.y1,n=e.x2,o=e.y2,l=e.cpx1,h=e.cpy1,c=e.cpx2,u=e.cpy2,f=e.percent;0!==f&&(t.moveTo(i,r),null==c||null==u?(f<1&&(a(i,l,n,f,p),l=p[1],n=p[2],a(r,h,o,f,p),h=p[1],o=p[2]),t.quadraticCurveTo(l,h,n,o)):(f<1&&(s(i,l,c,n,f,p),l=p[1],c=p[2],n=p[3],s(r,h,u,o,f,p),h=p[1],u=p[2],o=p[3]),t.bezierCurveTo(l,h,c,u,n,o)))},pointAt:function(t){return f(this.shape,t,!1)},tangentAt:function(t){var e=f(this.shape,t,!0);return n.normalize(e,e)}});t.exports=y},function(t,e,i){var r=i(4).extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,r=e.cy,n=e.width,o=e.height;t.moveTo(i,r+n),t.bezierCurveTo(i+n,r+n,i+3*n/2,r-n/3,i,r-o),t.bezierCurveTo(i-3*n/2,r-n/3,i-n,r+n,i,r+n),t.closePath()}});t.exports=r},function(t,e,i){var r=i(4).extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,r=e.cy,n=e.width,o=e.height;t.moveTo(i,r),t.bezierCurveTo(i+n/2,r-2*o/3,i+2*n,r+o/3,i,r+o),t.bezierCurveTo(i-2*n,r+o/3,i-n/2,r-2*o/3,i,r)}});t.exports=r},function(t,e,i){var r=i(4),n=Math.PI,o=Math.sin,a=Math.cos,s=r.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(t,e){var i=e.n;if(i&&!(i<2)){var r=e.x,s=e.y,l=e.r,h=2*n/i,c=-n/2;t.moveTo(r+l*a(c),s+l*o(c));for(var u=0,p=i-1;u<p;u++)c+=h,t.lineTo(r+l*a(c),s+l*o(c));t.closePath()}}});t.exports=s},function(t,e,i){var r=i(4).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,r=e.cy,n=2*Math.PI;t.moveTo(i+e.r,r),t.arc(i,r,e.r,0,n,!1),t.moveTo(i+e.r0,r),t.arc(i,r,e.r0,0,n,!0)}});t.exports=r},function(t,e,i){var r=i(4),n=Math.sin,o=Math.cos,a=Math.PI/180,s=r.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i,r,s,l=e.r,h=e.k,c=e.n,u=e.cx,p=e.cy;t.moveTo(u,p);for(var f=0,y=l.length;f<y;f++){s=l[f];for(var d=0;d<=360*c;d++)i=s*n(h/c*d%360*a)*o(d*a)+u,r=s*n(h/c*d%360*a)*n(d*a)+p,t.lineTo(i,r)}}});t.exports=s},function(t,e,i){var r=i(4),n=i(200),o=r.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:n(r.prototype.brush),buildPath:function(t,e){var i=e.cx,r=e.cy,n=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(a),c=Math.sin(a);t.moveTo(h*n+i,c*n+r),t.lineTo(h*o+i,c*o+r),t.arc(i,r,o,a,s,!l),t.lineTo(Math.cos(s)*n+i,Math.sin(s)*n+r),0!==n&&t.arc(i,r,n,s,a,l),t.closePath()}});t.exports=o},function(t,e,i){var r=i(14),n=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];t.exports=function(t){return r.browser.ie&&11<=r.browser.version?function(){var e,i=this.__clipPaths,r=this.style;if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a&&a.shape,l=a&&a.type;if(s&&("sector"===l&&s.startAngle===s.endAngle||"rect"===l&&(!s.width||!s.height))){for(var h=0;h<n.length;h++)n[h][2]=r[n[h][0]],r[n[h][0]]=n[h][1];e=!0;break}}if(t.apply(this,arguments),e)for(h=0;h<n.length;h++)r[n[h][0]]=n[h][2]}:t}},function(t,e,i){var r=i(4),n=Math.PI,o=Math.cos,a=Math.sin,s=r.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(t,e){var i=e.n;if(i&&!(i<2)){var r=e.cx,s=e.cy,l=e.r,h=e.r0;null==h&&(h=4<i?l*o(2*n/i)/o(n/i):l/3);var c=n/i,u=-n/2,p=r+l*o(u),f=s+l*a(u);u+=c,t.moveTo(p,f);for(var y,d=0,v=2*i-1;d<v;d++)y=d%2==0?h:l,t.lineTo(r+y*o(u),s+y*a(u)),u+=c;t.closePath()}}});t.exports=s},function(t,e,i){var r=i(4),n=Math.cos,o=Math.sin,a=r.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i,r,a,s,l=e.r,h=e.r0,c=e.d,u=e.cx,p=e.cy,f="out"===e.location?1:-1;if(!(e.location&&l<=h)){var y,d=0,v=1;for(i=(l+f*h)*n(0)-f*c*n(0)+u,r=(l+f*h)*o(0)-c*o(0)+p,t.moveTo(i,r);h*++d%(l+f*h)!=0;);for(;y=Math.PI/180*v,a=(l+f*h)*n(y)-f*c*n((l/h+f)*y)+u,s=(l+f*h)*o(y)-c*o((l/h+f)*y)+p,t.lineTo(a,s),++v<=h*d/(l+f*h)*360;);}}});t.exports=a},function(t,e,i){var r=i(3),n=i(69),o=function(t,e,i,r,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=o||!1,n.call(this,r)};o.prototype={constructor:o},r.inherits(o,n);var a=o;t.exports=a},function(t,e,i){i(70),(0,i(64).registerPainter)("svg",i(205))},function(t,e,i){var r=i(71).createElement,n=i(3),o=i(32),a=i(4),s=i(25),l=i(28),h=i(206),c=i(207),u=i(208),p=i(209),f=i(70),y=f.path,d=f.image,v=f.text;function g(t){return parseInt(t,10)}function m(t,e){return e&&t&&e.parentNode!==t}function _(t,e,i){if(m(t,e)&&i){var r=i.nextSibling;r?t.insertBefore(e,r):t.appendChild(e)}}function b(t,e){if(m(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function x(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function w(t){return t.__textSvgEl}function S(t){return t.__svgEl}var C=function(t,e,i,o){this.root=t,this.storage=e,this._opts=i=n.extend({},i||{});var a=r("svg");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("version","1.1"),a.setAttribute("baseProfile","full"),a.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new c(o,a),this.clipPathManager=new u(o,a),this.shadowManager=new p(o,a);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative",this._svgRoot=a,this._viewport=s,t.appendChild(s),s.appendChild(a),this.resize(i.width,i.height),this._visibleList=[]};C.prototype={constructor:C,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,i,r=this._svgRoot,n=this._visibleList,o=t.length,c=[];for(e=0;e<o;e++){var u=t[e],p=(i=u)instanceof a?y:i instanceof s?d:i instanceof l?v:y,f=S(u)||w(u);u.invisible||(u.__dirty&&(p&&p.brush(u),this.clipPathManager.update(u),u.style&&(this.gradientManager.update(u.style.fill),this.gradientManager.update(u.style.stroke),this.shadowManager.update(f,u)),u.__dirty=!1),c.push(u))}var g,m=h(n,c);for(e=0;e<m.length;e++)if((P=m[e]).removed)for(var C=0;C<P.count;C++){f=S(u=n[P.indices[C]]);var O=w(u);x(r,f),x(r,O)}for(e=0;e<m.length;e++){var P;if((P=m[e]).added)for(C=0;C<P.count;C++)f=S(u=c[P.indices[C]]),O=w(u),g?_(r,f,g):b(r,f),f?_(r,O,f):g?_(r,O,g):b(r,O),_(r,O,f),g=O||f||g,this.gradientManager.addWithoutUpdate(f,u),this.shadowManager.addWithoutUpdate(g,u),this.clipPathManager.markUsed(u);else if(!P.removed)for(C=0;C<P.count;C++)g=f=w(u=c[P.indices[C]])||S(u)||g,this.gradientManager.markUsed(u),this.gradientManager.addWithoutUpdate(f,u),this.shadowManager.markUsed(u),this.shadowManager.addWithoutUpdate(f,u),this.clipPathManager.markUsed(u)}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=c},_getDefs:function(t){var e,i=this._svgRoot;return 0!==(e=this._svgRoot.getElementsByTagName("defs")).length?e[0]:t?((e=i.insertBefore(r("defs"),i.firstChild)).contains||(e.contains=function(t){var i=e.children;if(!i)return!1;for(var r=i.length-1;0<=r;--r)if(i[r]===t)return!0;return!1}),e):null},resize:function(t,e){var i=this._viewport;i.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var n=i.style;n.width=t+"px",n.height=e+"px";var o=this._svgRoot;o.setAttribute("width",t),o.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],r=["clientWidth","clientHeight"][t],n=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||g(s[i])||g(a.style[i]))-(g(s[n])||0)-(g(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},n.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;C.prototype[t]=(e=t,function(){o('In SVG mode painter not support method "'+e+'"')})});var O=C;t.exports=O},function(t,e){function i(){}function r(t,e,i,r){for(var n=0,o=e.length,a=0,s=0;n<o;n++){var l=e[n];if(l.removed){for(h=[],c=s;c<s+l.count;c++)h.push(c);l.indices=h,s+=l.count}else{for(var h=[],c=a;c<a+l.count;c++)h.push(c);l.indices=h,a+=l.count,l.added||(s+=l.count)}}return e}i.prototype={diff:function(t,e,i){i||(i=function(t,e){return t===e}),this.equals=i;var n=this;t=t.slice();var o=(e=e.slice()).length,a=t.length,s=1,l=o+a,h=[{newPos:-1,components:[]}],c=this.extractCommon(h[0],e,t,0);if(h[0].newPos+1>=o&&a<=c+1){for(var u=[],p=0;p<e.length;p++)u.push(p);return[{indices:u,count:e.length}]}function f(){for(var i=-1*s;i<=s;i+=2){var l,c=h[i-1],u=h[i+1],p=(u?u.newPos:0)-i;c&&(h[i-1]=void 0);var f=c&&c.newPos+1<o,y=u&&0<=p&&p<a;if(f||y){if(!f||y&&c.newPos<u.newPos?(l={newPos:(d=u).newPos,components:d.components.slice(0)},n.pushComponent(l.components,void 0,!0)):((l=c).newPos++,n.pushComponent(l.components,!0,void 0)),p=n.extractCommon(l,e,t,i),l.newPos+1>=o&&a<=p+1)return r(0,l.components);h[i]=l}else h[i]=void 0}var d;s++}for(;s<=l;){var y=f();if(y)return y}},pushComponent:function(t,e,i){var r=t[t.length-1];r&&r.added===e&&r.removed===i?t[t.length-1]={count:r.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,r){for(var n=e.length,o=i.length,a=t.newPos,s=a-r,l=0;a+1<n&&s+1<o&&this.equals(e[a+1],i[s+1]);)a++,s++,l++;return l&&t.components.push({count:l}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var n=new i;t.exports=function(t,e,i){return n.diff(t,e,i)}},function(t,e,i){var r=i(72),n=i(3),o=i(32),a=i(46);function s(t,e){r.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}n.inherits(s,r),s.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var i=this;n.each(["fill","stroke"],function(r){if(e.style[r]&&("linear"===e.style[r].type||"radial"===e.style[r].type)){var n,o=e.style[r],a=i.getDefs(!0);o._dom?(n=o._dom,a.contains(o._dom)||i.addDom(n)):n=i.add(o),i.markUsed(e);var s=n.getAttribute("id");t.setAttribute(r,"url(#"+s+")")}})}},s.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return o("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},s.prototype.update=function(t){var e=this;r.prototype.update.call(this,t,function(){var i=t.type,r=t._dom.tagName;"linear"===i&&"linearGradient"===r||"radial"===i&&"radialGradient"===r?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},s.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void o("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var i=t.colorStops,r=0,n=i.length;r<n;++r){var s=this.createElement("stop");s.setAttribute("offset",100*i[r].offset+"%");var l=i[r].color;if(l.indexOf(!1)){var h=a.parse(l)[3],c=a.toHex(l);s.setAttribute("stop-color","#"+c),s.setAttribute("stop-opacity",h)}else s.setAttribute("stop-color",i[r].color);e.appendChild(s)}t._dom=e},s.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&r.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&r.prototype.markUsed.call(this,e._dom)}};var l=s;t.exports=l},function(t,e,i){var r=i(72),n=i(3),o=i(24);function a(t,e){r.call(this,t,e,"clipPath","__clippath_in_use__")}n.inherits(a,r),a.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var i=this.getTextSvgElement(t);i&&this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},a.prototype.updateDom=function(t,e,i){if(e&&0<e.length){var r,n,a=this.getDefs(!0),s=e[0],l=i?"_textDom":"_dom";s[l]?(n=s[l].getAttribute("id"),r=s[l],a.contains(r)||a.appendChild(r)):(n="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(r=this.createElement("clipPath")).setAttribute("id",n),a.appendChild(r),s[l]=r);var h=this.getSvgProxy(s);if(s.transform&&s.parent.invTransform&&!i){var c=Array.prototype.slice.call(s.transform);o.mul(s.transform,s.parent.invTransform,s.transform),h.brush(s),s.transform=c}else h.brush(s);var u=this.getSvgElement(s);r.innerHTML="",r.appendChild(u.cloneNode()),t.setAttribute("clip-path","url(#"+n+")"),1<e.length&&this.updateDom(r,e.slice(1),i)}else t&&t.setAttribute("clip-path","none")},a.prototype.markUsed=function(t){var e=this;t.__clipPaths&&0<t.__clipPaths.length&&n.each(t.__clipPaths,function(t){t._dom&&r.prototype.markUsed.call(e,t._dom),t._textDom&&r.prototype.markUsed.call(e,t._textDom)})};var s=a;t.exports=s},function(t,e,i){var r=i(72);function n(t,e){r.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function o(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}i(3).inherits(n,r),n.prototype.addWithoutUpdate=function(t,e){if(e&&o(e.style)){var i,r=e.style;r._shadowDom?(i=r._shadowDom,this.getDefs(!0).contains(r._shadowDom)||this.addDom(i)):i=this.add(e),this.markUsed(e);var n=i.getAttribute("id");t.style.filter="url(#"+n+")"}},n.prototype.add=function(t){var e=this.createElement("filter"),i=t.style;return i._shadowDomId=i._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+i._shadowDomId),this.updateDom(t,e),this.addDom(e),e},n.prototype.update=function(t,e){var i=e.style;if(o(i)){var n=this;r.prototype.update.call(this,e,function(t){n.updateDom(e,t._shadowDom)})}else this.remove(t,i)},n.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},n.prototype.updateDom=function(t,e){var i=e.getElementsByTagName("feDropShadow");i=0===i.length?this.createElement("feDropShadow"):i[0];var r,n,o,a,s=t.style,l=t.scale&&t.scale[0]||1,h=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)r=s.shadowOffsetX||0,n=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);r=s.textShadowOffsetX||0,n=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}i.setAttribute("dx",r/l),i.setAttribute("dy",n/h),i.setAttribute("flood-color",a);var c=o/2/l+" "+o/2/h;i.setAttribute("stdDeviation",c),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(o/2*200)+"%"),e.setAttribute("height",Math.ceil(o/2*200)+"%"),e.appendChild(i),s._shadowDom=e},n.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&r.prototype.markUsed.call(this,e._shadowDom)};var a=n;t.exports=a},function(t,e,i){i(211),(0,i(64).registerPainter)("vml",i(212))},function(t,e,i){var r=i(14),n=i(9).applyTransform,o=i(10),a=i(46),s=i(50),l=i(49),h=i(104),c=i(33),u=i(25),p=i(28),f=i(4),y=i(26),d=i(69),v=i(117),g=y.CMD,m=Math.round,_=Math.sqrt,b=Math.abs,x=Math.cos,w=Math.sin,S=Math.max;if(!r.canvasSupported){var C="progid:DXImageTransform.Microsoft",O=21600,P=10800,L=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=O+","+O,t.coordorigin="0,0"},T=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},A=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},M=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},k=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},E=function(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t},D=function(t,e,i){var r=a.parse(e);i=+i,isNaN(i)&&(i=1),r&&(t.color=T(r[0],r[1],r[2]),t.opacity=i*r[3])},z=function(t,e,i,r){var o,s,l="fill"===e,h=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(l||!l&&i.lineWidth)?(t[l?"filled":"stroked"]="true",i[e]instanceof d&&M(t,h),h||(h=v.createNode(e)),l?function(t,e,i){var r,o,s=e.fill;if(null!=s)if(s instanceof d){var l,h=0,c=[0,0],u=0,p=1,f=i.getBoundingRect(),y=f.width,v=f.height;if("linear"===s.type){l="gradient";var g=i.transform,m=[s.x*y,s.y*v],_=[s.x2*y,s.y2*v];g&&(n(m,m,g),n(_,_,g));var b=_[0]-m[0],x=_[1]-m[1];(h=180*Math.atan2(b,x)/Math.PI)<0&&(h+=360),h<1e-6&&(h=0)}else{l="gradientradial",m=[s.x*y,s.y*v],g=i.transform;var w=i.scale,C=y,P=v;c=[(m[0]-f.x)/C,(m[1]-f.y)/P],g&&n(m,m,g),C/=w[0]*O,P/=w[1]*O;var L=S(C,P);u=0/L,p=2*s.r/L-u}var A=s.colorStops.slice();A.sort(function(t,e){return t.offset-e.offset});for(var M=A.length,k=[],E=[],z=0;z<M;z++){var j=A[z],B=(r=j.color,o=a.parse(r),[T(o[0],o[1],o[2]),o[3]]);E.push(j.offset*p+u+" "+B[0]),0!==z&&z!==M-1||k.push(B)}if(2<=M){var F=k[0][0],R=k[1][0],I=k[0][1]*e.opacity,N=k[1][1]*e.opacity;t.type=l,t.method="none",t.focus="100%",t.angle=h,t.color=F,t.color2=R,t.colors=E.join(","),t.opacity=N,t.opacity2=I}"radial"===l&&(t.focusposition=c.join(","))}else D(t,s,e.opacity)}(h,i,r):(o=h,null!=(s=i).lineDash&&(o.dashstyle=s.lineDash.join(" ")),null==s.stroke||s.stroke instanceof d||D(o,s.stroke,s.opacity)),A(t,h)):(t[l?"filled":"stroked"]="false",M(t,h))},j=[[],[],[]];f.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=v.createNode("shape"),L(i),this._vmlEl=i),z(i,"fill",e,this),z(i,"stroke",e,this);var r=this.transform,o=null!=r,a=i.getElementsByTagName("stroke")[0];if(a){var s=e.lineWidth;if(o&&!e.strokeNoScale){var l=r[0]*r[3]-r[1]*r[2];s*=_(b(l))}a.weight=s+"px"}var h=this.path||(this.path=new y);this.__dirtyPath&&(h.beginPath(),h.subPixelOptimize=!1,this.buildPath(h,this.shape),h.toStatic(),this.__dirtyPath=!1),i.path=function(t,e){var i,r,o,a,s,l,h=g.M,c=g.C,u=g.L,p=g.A,f=g.Q,y=[],d=t.data,v=t.len();for(a=0;a<v;){switch(r="",i=0,o=d[a++]){case h:r=" m ",i=1,s=d[a++],l=d[a++],j[0][0]=s,j[0][1]=l;break;case u:r=" l ",i=1,s=d[a++],l=d[a++],j[0][0]=s,j[0][1]=l;break;case f:case c:r=" c ",i=3;var b,S,C=d[a++],L=d[a++],T=d[a++],A=d[a++];o===f?(T=((b=T)+2*C)/3,A=((S=A)+2*L)/3,C=(s+2*C)/3,L=(l+2*L)/3):(b=d[a++],S=d[a++]),j[0][0]=C,j[0][1]=L,j[1][0]=T,j[1][1]=A,s=j[2][0]=b,l=j[2][1]=S;break;case p:var M=0,k=0,E=1,D=1,z=0;e&&(M=e[4],k=e[5],E=_(e[0]*e[0]+e[1]*e[1]),D=_(e[2]*e[2]+e[3]*e[3]),z=Math.atan2(-e[1]/D,e[0]/E));var B=d[a++],F=d[a++],R=d[a++],I=d[a++],N=d[a++]+z,W=d[a++]+N+z;a++;var G=d[a++],V=B+x(N)*R,H=F+w(N)*I,q=(C=B+x(W)*R,L=F+w(W)*I,G?" wa ":" at ");Math.abs(V-C)<1e-4&&(.01<Math.abs(W-N)?G&&(V+=.0125):Math.abs(H-F)<1e-4?G&&V<B||!G&&B<V?L-=.0125:L+=.0125:G&&H<F||!G&&F<H?C+=.0125:C-=.0125),y.push(q,m(((B-R)*E+M)*O-P),",",m(((F-I)*D+k)*O-P),",",m(((B+R)*E+M)*O-P),",",m(((F+I)*D+k)*O-P),",",m((V*E+M)*O-P),",",m((H*D+k)*O-P),",",m((C*E+M)*O-P),",",m((L*D+k)*O-P)),s=C,l=L;break;case g.R:var U=j[0],Z=j[1];U[0]=d[a++],U[1]=d[a++],Z[0]=U[0]+d[a++],Z[1]=U[1]+d[a++],e&&(n(U,U,e),n(Z,Z,e)),U[0]=m(U[0]*O-P),Z[0]=m(Z[0]*O-P),U[1]=m(U[1]*O-P),Z[1]=m(Z[1]*O-P),y.push(" m ",U[0],",",U[1]," l ",Z[0],",",U[1]," l ",Z[0],",",Z[1]," l ",U[0],",",Z[1]);break;case g.Z:y.push(" x ")}if(0<i){y.push(r);for(var X=0;X<i;X++){var Y=j[X];e&&n(Y,Y,e),y.push(m(Y[0]*O-P),",",m(Y[1]*O-P),X<i-1?",":"")}}}return y.join("")}(h,this.transform),i.style.zIndex=k(this.zlevel,this.z,this.z2),A(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},f.prototype.onRemove=function(t){M(t,this._vmlEl),this.removeRectText(t)},f.prototype.onAdd=function(t){A(t,this._vmlEl),this.appendRectText(t)},u.prototype.brushVML=function(t){var e,i,r,o=this.style,a=o.image;if("object"==typeof(r=a)&&r.tagName&&"IMG"===r.tagName.toUpperCase()){var s=a.src;if(s===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var l=a.runtimeStyle,h=l.width,c=l.height;l.width="auto",l.height="auto",e=a.width,i=a.height,l.width=h,l.height=c,this._imageSrc=s,this._imageWidth=e,this._imageHeight=i}a=s}else a===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(a){var u=o.x||0,p=o.y||0,f=o.width,y=o.height,d=o.sWidth,g=o.sHeight,b=o.sx||0,x=o.sy||0,w=d&&g,O=this._vmlEl;O||(O=v.doc.createElement("div"),L(O),this._vmlEl=O);var P,T=O.style,M=!1,E=1,D=1;if(this.transform&&(P=this.transform,E=_(P[0]*P[0]+P[1]*P[1]),D=_(P[2]*P[2]+P[3]*P[3]),M=P[1]||P[2]),M){var z=[u,p],j=[u+f,p],B=[u,p+y],F=[u+f,p+y];n(z,z,P),n(j,j,P),n(B,B,P),n(F,F,P);var R=S(z[0],j[0],B[0],F[0]),I=S(z[1],j[1],B[1],F[1]),N=[];N.push("M11=",P[0]/E,",","M12=",P[2]/D,",","M21=",P[1]/E,",","M22=",P[3]/D,",","Dx=",m(u*E+P[4]),",","Dy=",m(p*D+P[5])),T.padding="0 "+m(R)+"px "+m(I)+"px 0",T.filter=C+".Matrix("+N.join("")+", SizingMethod=clip)"}else P&&(u=u*E+P[4],p=p*D+P[5]),T.filter="",T.left=m(u)+"px",T.top=m(p)+"px";var W=this._imageEl,G=this._cropEl;W||(W=v.doc.createElement("div"),this._imageEl=W);var V=W.style;if(w){if(e&&i)V.width=m(E*e*f/d)+"px",V.height=m(D*i*y/g)+"px";else{var H=new Image,q=this;H.onload=function(){H.onload=null,e=H.width,i=H.height,V.width=m(E*e*f/d)+"px",V.height=m(D*i*y/g)+"px",q._imageWidth=e,q._imageHeight=i,q._imageSrc=a},H.src=a}G||((G=v.doc.createElement("div")).style.overflow="hidden",this._cropEl=G);var U=G.style;U.width=m((f+b*f/d)*E),U.height=m((y+x*y/g)*D),U.filter=C+".Matrix(Dx="+-b*f/d*E+",Dy="+-x*y/g*D+")",G.parentNode||O.appendChild(G),W.parentNode!==G&&G.appendChild(W)}else V.width=m(E*f)+"px",V.height=m(D*y)+"px",O.appendChild(W),G&&G.parentNode&&(O.removeChild(G),this._cropEl=null);var Z="",X=o.opacity;X<1&&(Z+=".Alpha(opacity="+m(100*X)+") "),Z+=C+".AlphaImageLoader(src="+a+", SizingMethod=scale)",V.filter=Z,O.style.zIndex=k(this.zlevel,this.z,this.z2),A(t,O),null!=o.text&&this.drawRectText(t,this.getBoundingRect())}},u.prototype.onRemove=function(t){M(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},u.prototype.onAdd=function(t){A(t,this._vmlEl),this.appendRectText(t)};var B,F="normal",R={},I=0,N=document.createElement("div");s.$override("measureText",function(t,e){var i=v.doc;B||((B=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",v.doc.body.appendChild(B));try{B.style.font=e}catch(t){}return B.innerHTML="",B.appendChild(i.createTextNode(t)),{width:B.offsetWidth}});for(var W=new o,G=function(t,e,i,r){var o=this.style;this.__dirty&&l.normalizeTextStyle(o,!0);var a=o.text;if(null!=a&&(a+=""),a){if(o.rich){var h=s.parseRichText(a,o);a=[];for(var c=0;c<h.lines.length;c++){for(var u=h.lines[c].tokens,p=[],f=0;f<u.length;f++)p.push(u[f].text);a.push(p.join(""))}a=a.join("\n")}var y,d,g=o.textAlign,_=o.textVerticalAlign,b=function(t){var e=R[t];if(!e){100<I&&(I=0,R={});var i,r=N.style;try{r.font=t,i=r.fontFamily.split(",")[0]}catch(t){}e={style:r.fontStyle||F,variant:r.fontVariant||F,weight:r.fontWeight||F,size:0|parseFloat(r.fontSize||12),family:i||"Microsoft YaHei"},R[t]=e,I++}return e}(o.font),x=b.style+" "+b.variant+" "+b.weight+" "+b.size+'px "'+b.family+'"';i=i||s.getBoundingRect(a,x,g,_,o.textPadding,o.textLineHeight);var w=this.transform;if(w&&!r&&(W.copy(e),W.applyTransform(w),e=W),r)y=e.x,d=e.y;else{var S=o.textPosition,C=o.textDistance;if(S instanceof Array)y=e.x+E(S[0],e.width),d=e.y+E(S[1],e.height),g=g||"left";else{var O=s.adjustTextPositionOnRect(S,e,C);y=O.x,d=O.y,g=g||O.textAlign,_=_||O.textVerticalAlign}}y=s.adjustTextX(y,i.width,g),d=s.adjustTextY(d,i.height,_),d+=i.height/2;var P,T,M,D=v.createNode,j=this._textVmlEl;j?T=(P=(M=j.firstChild).nextSibling).nextSibling:(j=D("line"),P=D("path"),T=D("textpath"),M=D("skew"),T.style["v-text-align"]="left",L(j),P.textpathok=!0,T.on=!0,j.from="0 0",j.to="1000 0.05",A(j,M),A(j,P),A(j,T),this._textVmlEl=j);var B=[y,d],G=j.style;w&&r?(n(B,B,w),M.on=!0,M.matrix=w[0].toFixed(3)+","+w[2].toFixed(3)+","+w[1].toFixed(3)+","+w[3].toFixed(3)+",0,0",M.offset=(m(B[0])||0)+","+(m(B[1])||0),M.origin="0 0",G.left="0px",G.top="0px"):(M.on=!1,G.left=m(y)+"px",G.top=m(d)+"px"),T.string=String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{T.style.font=x}catch(t){}z(j,"fill",{fill:o.textFill,opacity:o.opacity},this),z(j,"stroke",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this),j.style.zIndex=k(this.zlevel,this.z,this.z2),A(t,j)}},V=function(t){M(t,this._textVmlEl),this._textVmlEl=null},H=function(t){A(t,this._textVmlEl)},q=[h,c,u,f,p],U=0;U<q.length;U++){var Z=q[U].prototype;Z.drawRectText=G,Z.removeRectText=V,Z.appendRectText=H}p.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},p.prototype.onRemove=function(t){this.removeRectText(t)},p.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,i){var r=i(32),n=i(117),o=i(3).each;function a(t){return parseInt(t,10)}function s(t,e){n.initVML(),this.root=t,this.storage=e;var i=document.createElement("div"),r=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",r.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=r,this._vmlViewport=i,this.resize();var o=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t&&t.onRemove&&t.onRemove(r)},e.addToStorage=function(t){t.onAdd&&t.onAdd(r),a.call(e,t)},this._firstPaint=!0}s.prototype={constructor:s,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var r=t[i];r.invisible||r.ignore?(r.__alreadyNotVisible||r.onRemove(e),r.__alreadyNotVisible=!0):(r.__alreadyNotVisible&&r.onAdd(e),r.__alreadyNotVisible=!1,r.__dirty&&(r.beforeBrush&&r.beforeBrush(),(r.brushVML||r.brush).call(r,e),r.afterBrush&&r.afterBrush())),r.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){if(t=null==t?this._getWidth():t,e=null==e?this._getHeight():e,this._width!==t||this._height!==e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||a(e.width))-a(e.paddingLeft)-a(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||a(e.height))-a(e.paddingTop)-a(e.paddingBottom)|0}},o(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;s.prototype[t]=(e=t,function(){r('In IE8.0 VML mode painter not support method "'+e+'"')})});var l=s;t.exports=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(63),a=i(7),s=function(t){function e(e,i,r,n,a){void 0===i&&(i=1e3),void 0===r&&(r=15),void 0===n&&(n=2),void 0===a&&(a="#fff");var s=t.call(this,e)||this;return s.zrender=new o.Zrender(e).getData(),s.width=s.zrender.getWidth(),s.height=s.zrender.getHeight(),s.radius=r,s.timeOut=i,s.color=a,s.lineWidth=n,s}return n(e,t),e.prototype.setTime=function(t){this.timeOut=t},e.prototype.setRadius=function(t){this.radius=t},e.prototype.setLineWidth=function(t){this.lineWidth=t},e.prototype.setColor=function(t){this.color=t},e.prototype.animate=function(){var t=[],e=new a.Circle({scale:[.5,.5],shape:{cx:this.width,cy:this.height,r:this.radius},style:{fill:this.color,stroke:"none"}});this.zrender.add(e);for(var i=0;i<2;i++){var r=new a.Circle({scale:[.5,.5],shape:{cx:this.width,cy:this.height,r:this.radius},style:{fill:"none",stroke:this.color,lineWidth:this.lineWidth}});this.zrender.add(r),t.push(r)}t[0].animate("shape",!0).when(this.timeOut,{r:3*this.radius}).start(),t[0].animate("style",!0).when(this.timeOut,{opacity:0}).start(),t[1].animate("shape",!0).delay(this.timeOut/2).when(this.timeOut,{r:3*this.radius}).start(),t[1].animate("style",!0).delay(this.timeOut/2).when(this.timeOut,{opacity:0}).start()},e}(o.Zrender);e.PointEffectScatter=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(63),a=i(7),s=function(t){function e(e,i,r,n){void 0===i&&(i=.96),void 0===r&&(r=1),void 0===n&&(n=["#FFFFFF","#00FFFF"]);var a=t.call(this,e)||this;return a.zrender=new o.Zrender(e).getData(),a.width=a.zrender.getWidth(),a.height=a.zrender.getHeight(),a.trialLen=i,a.lineWidth=r,a.color=n,a}return n(e,t),e.prototype.setTrialLen=function(t){this.trialLen=t},e.prototype.setLineWidth=function(t){this.lineWidth=t},e.prototype.setColor=function(t){"object"==typeof t&&t.constructor==Array?this.color=t:this.color.push(t)},e.prototype.deawLine=function(t,e,i){var r=this.locate(t,e),n=r[0],o=r[1],s=r[2],l=r[3],h=new a.BezierCurve({shape:{x1:n,y1:s,x2:o,y2:l,cpx1:o/4,cpy1:0},style:{stroke:i,lineWidth:this.lineWidth}});this.zrender.add(h)},e.prototype.drawTrial=function(t,e,i,r){var n=this.locate(t,e),o=n[0],s=n[1],l=n[2],h=n[3],c=new a.BezierCurve({shape:{x1:o,y1:l,x2:s,y2:h,cpx1:s/4,cpy1:0},style:{stroke:i,lineWidth:this.lineWidth+1,shadowBlur:this.lineWidth,shadowColor:i,opacity:.6,lineDash:[10,this.width+this.height],lineDashOffset:10},zlevel:3});this.zrender.add(c),c.animate("style",!0).when(5e3,{lineDashOffset:-(this.width+this.height)}).start(),this.zrender.configLayer(3,{motionBlur:!0,lastFrameAlpha:r})},e.prototype.locate=function(t,e){var i,r,n=new Array,o=0,a=0;return i=t[0]<e[0]?(o=0,this.width):(o=this.width,0),r=t[1]<e[1]?(a=0,this.height):(a=this.height,0),n.push(o),n.push(i),n.push(a),n.push(r),n},e.prototype.animate=function(t,e){this.deawLine(t,e,this.color[0]),1<this.color.length?this.drawTrial(t,e,this.color[1],this.trialLen):this.drawTrial(t,e,this.color[0],this.trialLen)},e}(o.Zrender);e.LinesTrailEffect=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("grid",[{left:"10%",width:"35%"},{right:"10%",width:"35%"}]),this.config("xAxis",[{type:"value",inverse:!0,position:"top"},{type:"value",gridIndex:1,position:"top"}]),this.config("yAxis",[{type:"category",position:"right"},{type:"category",gridIndex:1,axisLabel:{show:!1}}]),this.config("series[1]",{type:"bar",myType:!0,xAxisIndex:1,yAxisIndex:1})},e}(i(0).EChart);e.DoubleBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.foShanStyle(),r}return n(e,t),e.prototype.foShanStyle=function(){this.config("tooltip",{trigger:"axis",textStyle:{color:"#fff",fontSize:10}}),this.config("xAxis",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#eee"}},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}}),this.config("yAxis",{nameTextStyle:{color:"#fff",fontSize:14},splitNumber:3,splitLine:{lineStyle:{color:"#eee"}},axisLine:{show:!1},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}});var t=this.findAll().series[0];t.hasOwnProperty("myType")&&(t.myType=void 0),this.config("series[0]",JSON.parse(JSON.stringify(t))),this.config("series",[{type:"bar",itemStyle:{borderColor:"rgb(0,255,255)",shadowColor:"rgb(0,255,255)",shadowBlur:10,barBorderRadius:5,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(0,255,255)"},{offset:1,color:"rgba(0,255,255,0)"}]}}},{type:"bar",itemStyle:{borderColor:"rgb(11,213,144)",shadowColor:"rgb(11,213,144)",shadowBlur:10,barBorderRadius:5,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(11,213,144)"},{offset:1,color:"rgba(11,213,144,0)"}]}}},{type:"bar",itemStyle:{borderColor:"rgb(255,127,0)",shadowColor:"rgb(255,127,0)",shadowBlur:10,barBorderRadius:5,color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(255,127,0)"},{offset:1,color:"rgb(255,127,0)"}]}}}])},e}(i(0).EChart);e.MultiBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("grid",[{top:"10%",height:"40%"},{bottom:"10%",height:"40%"}]),this.config("xAxis",[{type:"category",axisLabel:{show:!1}},{type:"category",gridIndex:1}]),this.config("yAxis",[{},{type:"value",gridIndex:1,inverse:!0}]),this.config("series[1]",{type:"bar",myType:!0,xAxisIndex:1,yAxisIndex:1})},e}(i(0).EChart);e.OppositeBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.indexData=[],r.nameData=[],r.color=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category"),this.config("series[0]",{myType:!0,barWidth:3,barGap:2,label:{show:!0,position:"right",offset:[10,0]},itemStyle:{borderWidth:2},markPoint:{symbol:"circle",symbolSize:8,itemStyle:{symbolOffset:["50%",0],color:"white",borderWidth:1,shadowBlur:10}}})},e.prototype.foShanStyle=function(){this.config("xAxis",{splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),this.config("yAxis",{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"white"}},axisTick:{show:!1}}),this.config("series[0].itemStyle.color","rgb(1,255,255)")},e.prototype.setHighLightBar=function(t){this.indexData[t]=t},e.prototype.setHighLightBarByName=function(t){this.nameData.push(t)},e.prototype.setData=function(e){var i=this.markPointData(e),r=e.get(0).getCount();-1<this.getCategoryIndex(e)&&(r-=1);var n=this.setIndexData(e);this.setUniqueConfig(n,i,r),t.prototype.setData.call(this,e)},e.prototype.markPointData=function(t){for(var e="category"==this.findAll().xAxis.type,i=this.getCategoryIndex(t),r=[],n=[],o=0;o<t.getCount();o++)e?n.push({xAxis:o}):n.push({yAxis:o});var a=t.get(0).getCount();for(0<=i&&(a-=1),o=0;o<a;o++)r.push(JSON.parse(JSON.stringify(n)));for(o=0;o<t.getCount();o++)for(var s=t.get(o),l=0,h=0;h<s.getCount();h++)i!=h&&(e?r[l][o].yAxis=s.get(h).value:r[l][o].xAxis=s.get(h).value,l++);return r},e.prototype.setIndexData=function(t){var e=this,i=-1,r=this.indexData;return this.nameData.forEach(function(n){-1<(i=e.getHighLightIndex(n,t))&&(r[i]=i)}),r},e.prototype.getHighLightIndex=function(t,e){for(var i=-1,r=this.getCategoryIndex(e),n=0;n<e.getCount();n++)if(e.get(n).get(r).value===t){i=n;break}return i},e.prototype.getCategoryIndex=function(t){for(var e=0;e<t.get(0).getCount();e++)if("string"==typeof t.get(0).get(e).value)return e;return-1},e.prototype.setUniqueConfig=function(t,e,i){var r=this.color,n=this.findAll();n.hasOwnProperty("color")&&(this.color=n.color),Array.isArray(this.color)||(r=[this.color]),0<t.length&&this.config("series[0].label.formatter",function(e){t[e.dataIndex]==e.dataIndex&&(e.data.itemStyle={borderWidth:3*n.series[0].itemStyle.borderWidth})});for(var o=0;o<i;o++){this.config("series["+o+"].markPoint.data",e[o]);var a=n.series[o];a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")||this.config("series["+o+"].itemStyle.color",r[o%r.length]),a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("borderColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].itemStyle.borderColor",a.itemStyle.color):this.config("series["+o+"].itemStyle.borderColor",r[o%r.length])),a.markPoint.hasOwnProperty("itemStyle")&&a.markPoint.itemStyle.hasOwnProperty("borderColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].markPoint.itemStyle.borderColor",a.itemStyle.color):this.config("series["+o+"].markPoint.itemStyle.borderColor",r[o%r.length])),a.markPoint.hasOwnProperty("itemStyle")&&a.markPoint.itemStyle.hasOwnProperty("shadowColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].markPoint.itemStyle.shadowColor",a.itemStyle.color):this.config("series["+o+"].markPoint.itemStyle.shadowColor",r[o%r.length]))}},e}(i(0).EChart);e.PointBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.setBorderLength=function(t){this.length=t},e.prototype.setBarWidth=function(t,e){this.barWidth=t,this.borderWidth=e},e.prototype.setData=function(e){this.setBorderSeries(e),t.prototype.setData.call(this,e)},e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category");var t=this.findAll().yAxis;this.config("yAxis[0]",JSON.parse(JSON.stringify(t))),this.config("yAxis[1]",JSON.parse(JSON.stringify(t))),this.config("yAxis[1].show",!1),this.config("series[1]",{type:"bar",myType:!1,yAxisIndex:1,z:0,silent:!0})},e.prototype.foShanStyle=function(){this.config("tooltip",{trigger:"axis",textStyle:{color:"#fff",fontSize:10}}),this.config("xAxis",{splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),this.config("yAxis",[{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"white"}},axisTick:{show:!1}},{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}]),this.config("series[0].itemStyle",{borderWidth:1,borderColor:"rgb(15,25,64)",color:{type:"linear",x:1,y:0,x2:0,y2:0,colorStops:[{offset:0,color:"rgb(1,241,241)"},{offset:1,color:"rgba(1,241,241,0)"}]}}),this.config("series[1].itemStyle",{borderColor:"rgb(0, 255, 255)",color:"rgba(0,0,0,0)",borderWidth:2})},e.prototype.setBorderSeries=function(t){this.barWidth&&this.config("series[0].barWidth",this.barWidth),this.borderWidth&&this.config("series[1].barWidth",this.borderWidth);for(var e=this.getDataSeriesCount(t),i=this.getBorderSeriesData(t),r=this.findAll().series[1],n=0;n<e;n++)this.config("series["+(2*n+1)+"]",JSON.parse(JSON.stringify(r))),this.config("series["+(2*n+1)+"].data",i)},e.prototype.getBorderSeriesData=function(t){var e,i=[];e=this.length?this.length:this.getMaxValue(t);for(var r=0;r<t.getCount();r++)for(var n=0;n<t.get(r).getCount();n++){var o=t.get(r).get(n);"string"==typeof o.value&&i.push({name:o.value,value:e})}return i},e.prototype.getMaxValue=function(t){for(var e=-1,i=0,r=0;r<t.getCount();r++)for(var n=0;n<t.get(r).getCount();n++){var o=t.get(r).get(n);"number"==typeof o.value&&(-1==e&&(e=r,i=o.value),i<o.value&&(i=o.value))}return i},e.prototype.getDataSeriesCount=function(t){for(var e=0,i=0;i<t.get(0).getCount();i++)"number"==typeof t.get(0).get(i).value&&e++;return e},e}(i(0).EChart);e.VBorderBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category"),this.config("series[0].stack","a")},e.prototype.foShanStyle=function(){this.config("xAxis",{axisLine:{lineStyle:{color:"rgb(18,96,148)"}},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:10},splitLine:{show:!1}}),this.config("yAxis",{axisLine:{lineStyle:{color:"rgb(18,96,148)"}},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:10}}),this.config("legend",{textStyle:{color:"white"}}),this.config("series[0]",{barWidth:15,itemStyle:{barBorderRadius:[10,10,10,10]}})},e}(i(0).EChart);e.VStackBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.setData=function(e){this.config("series[0].data",this.setBgData(e)),t.prototype.setData.call(this,e)},e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category");var t=this.findAll().yAxis;this.config("yAxis[0]",JSON.parse(JSON.stringify(t))),this.config("yAxis[1]",JSON.parse(JSON.stringify(t))),this.config("yAxis[1].show",!1),this.config("series[0]",{myType:!1,silent:!0,yAxisIndex:1,barWidth:16,itemStyle:{color:"rgba(0,0,0,0)",borderColor:"#c23531",borderWidth:2}}),this.config("series[1]",{type:"bar",myType:!0,stack:"a",barWidth:12})},e.prototype.foShanStyle=function(){this.config("xAxis",{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}}),this.config("yAxis[0]",{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:10}}),this.config("legend",{textStyle:{color:"white"}}),this.config("series[0].itemStyle.borderColor","rgb(0,255,255)"),this.config("series[1].itemStyle",{borderWidth:1,borderColor:"rgb(15,25,64)"})},e.prototype.setBgData=function(t){for(var e=[],i=0;i<t.getCount();i++){for(var r=0,n=t.get(i),o=0;o<n.getCount();o++){var a=n.get(o);"number"==typeof a.value&&(r+=a.value)}e.push(r)}return e},e}(i(0).EChart);e.VStackBorderBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category")},e}(i(0).EChart);e.VBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].stack","a")},e.prototype.setData=function(e){var i=this.getSum(e);this.setUniqueConfig(i),t.prototype.setData.call(this,e)},e.prototype.getSum=function(t){for(var e=0,i=0;i<t.getCount();i++)for(var r=t.get(i),n=0;n<r.getCount();n++){var o=r.get(n).value;"number"==typeof o&&(e+=o)}return e},e.prototype.setUniqueConfig=function(t){var e=this.findAll().title;if(e&&e.hasOwnProperty("text")){var i=e.text;"string"==typeof i&&(i=i.replace(/{sum}/g,t),this.config("title.text",i))}},e}(i(0).EChart);e.StackBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"pictorialBar",symbol:"rect",symbolRepeat:!0,symbolSize:14,barGap:0})},e}(i(0).EChart);e.PicBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("grid",[{left:"10%",width:"40%"},{right:"10%",width:"40%"}]),this.config("xAxis",[{type:"value",inverse:!0},{type:"value",gridIndex:1}]),this.config("yAxis",[{type:"category"},{type:"category",gridIndex:1,axisLabel:{show:!1}}]),this.config("series[1]",{type:"bar",myType:!0,xAxisIndex:1,yAxisIndex:1})},e}(i(0).EChart);e.VOppositeBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.indexData=[],r.nameData=[],r.color=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category"),this.config("series[0]",{myType:!0,barWidth:3,barGap:2,label:{show:!0,position:"right",offset:[10,0]},itemStyle:{borderWidth:2},markPoint:{symbol:"circle",symbolSize:8,itemStyle:{symbolOffset:["50%",0],color:"white",borderWidth:1,shadowBlur:10}}})},e.prototype.foShanStyle=function(){this.config("xAxis",{splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),this.config("yAxis",{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{textStyle:{color:"white"}},axisTick:{show:!1}}),this.config("series[0].itemStyle.color","rgb(1,255,255)")},e.prototype.setHighLightBar=function(t){this.indexData[t]=t},e.prototype.setHighLightBarByName=function(t){this.nameData.push(t)},e.prototype.setData=function(e){var i=this.markPointData(e),r=e.get(0).getCount();-1<this.getCategoryIndex(e)&&(r-=1);var n=this.setIndexData(e);this.setUniqueConfig(n,i,r),t.prototype.setData.call(this,e)},e.prototype.markPointData=function(t){for(var e="category"==this.findAll().xAxis.type,i=this.getCategoryIndex(t),r=[],n=[],o=0;o<t.getCount();o++)e?n.push({xAxis:o}):n.push({yAxis:o});var a=t.get(0).getCount();for(0<=i&&(a-=1),o=0;o<a;o++)r.push(JSON.parse(JSON.stringify(n)));for(o=0;o<t.getCount();o++)for(var s=t.get(o),l=0,h=0;h<s.getCount();h++)i!=h&&(e?r[l][o].yAxis=s.get(h).value:r[l][o].xAxis=s.get(h).value,l++);return r},e.prototype.setIndexData=function(t){var e=this,i=-1,r=this.indexData;return this.nameData.forEach(function(n){-1<(i=e.getHighLightIndex(n,t))&&(r[i]=i)}),r},e.prototype.getHighLightIndex=function(t,e){for(var i=-1,r=this.getCategoryIndex(e),n=0;n<e.getCount();n++)if(e.get(n).get(r).value===t){i=n;break}return i},e.prototype.getCategoryIndex=function(t){for(var e=0;e<t.get(0).getCount();e++)if("string"==typeof t.get(0).get(e).value)return e;return-1},e.prototype.setUniqueConfig=function(t,e,i){var r=this.color,n=this.findAll();n.hasOwnProperty("color")&&(this.color=n.color),Array.isArray(this.color)||(r=[this.color]),0<t.length&&this.config("series[0].label.formatter",function(e){t[e.dataIndex]==e.dataIndex&&(e.data.itemStyle={borderWidth:3*n.series[0].itemStyle.borderWidth})});for(var o=0;o<i;o++){this.config("series["+o+"].markPoint.data",e[o]);var a=n.series[o];a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")||this.config("series["+o+"].itemStyle.color",r[o%r.length]),a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("borderColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].itemStyle.borderColor",a.itemStyle.color):this.config("series["+o+"].itemStyle.borderColor",r[o%r.length])),a.markPoint.hasOwnProperty("itemStyle")&&a.markPoint.itemStyle.hasOwnProperty("borderColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].markPoint.itemStyle.borderColor",a.itemStyle.color):this.config("series["+o+"].markPoint.itemStyle.borderColor",r[o%r.length])),a.markPoint.hasOwnProperty("itemStyle")&&a.markPoint.itemStyle.hasOwnProperty("shadowColor")||(a.hasOwnProperty("itemStyle")&&a.itemStyle.hasOwnProperty("color")?this.config("series["+o+"].markPoint.itemStyle.shadowColor",a.itemStyle.color):this.config("series["+o+"].markPoint.itemStyle.shadowColor",r[o%r.length]))}},e}(i(0).EChart);e.VPointBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0);i(73);var a=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("xAxis",void 0),this.config("yAxis",void 0),this.config("grid3D",{}),this.config("xAxis3D.type","category"),this.config("yAxis3D.type","category"),this.config("zAxis3D",{}),this.config("series[0]",{type:"bar3D",myType:!0,shading:"realistic"})},e.prototype.setData=function(e){this.setUniqueConfig(this.getSeriesData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){for(var e=0;e<t.name.length;e++)this.config("series["+e+"]",{data:t.value[e],name:t.name[e]})},e.prototype.getSeriesData=function(t){for(var e=[],i=[],r=0;r<t.getCount();r++)for(var n=t.get(r),o=[],a=0;a<n.getCount();a++){var s=t.get(r).get(a);a<2?o.push(s.value):(e.hasOwnProperty(a-2)||(e[a-2]=[]),i.hasOwnProperty(a-2)||(null!=s.alias?i.push(s.alias):i.push(s.name)),e[a-2].push([o[0],o[1],s.value]))}return{name:i,value:e}},e}(o.EChart);e.ThreeDBarChart=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category"),this.config("series[0]",{type:"pictorialBar",symbol:"rect",symbolRepeat:!0,symbolSize:14,symbolClip:!0})},e.prototype.setData=function(e){this.setUniqueConfig(e.get(0).getCount()-1),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){for(var e=0;e<t;e++)this.config("series["+e+"].z",t-e)},e}(i(0).EChart);e.VUnstackPicBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("legend",{show:!1}),this.config("series[0].myType",void 0),this.config("series[0]",{symbol:"path://M0 0,L5 0.5,L10 0,L10 9.5,L5 10,L0 9.5",type:"pictorialBar"}),this.config("series[1]",{type:"pictorialBar",symbol:"diamond",symbolSize:["100%","10%"],symbolPosition:"end",symbolOffset:["0%","-50%"]})},e}(i(0).EChart);e.BasicThreeDBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("legend",{show:!1}),this.config("series[0]",{myType:!1,type:"pictorialBar",symbol:"diamond",symbolSize:["100%","11%"],symbolPosition:"end",symbolOffset:["0%","-50%"]}),this.config("series[1]",{myType:!0,symbol:"path://M0 0,L5 0.5,L10 0,L10 9.5,L5 10,L0 9.5",type:"pictorialBar",symbolSize:["100%","100%"]})},e.prototype.setBarWidth=function(t){this.config("series[0].symbolSize[0]",t),this.config("series[1].symbolSize[0]",t)},e.prototype.setData=function(e){for(var i=0;i<e.getCount();i++)for(var r=1;r<e.get(i).getCount();r++)r<e.get(i).getCount()-1&&(e.get(i).get(r+1).value=e.get(i).get(r).value+e.get(i).get(r+1).value);var n=e.get(0).getCount();for(i=1;i<n;i++)this.config("series["+i+"]",{encode:{y:i}}),this.config("series["+i+"].z",n-i),i==n-1&&this.config("series[0]",{encode:{y:i}});t.prototype.setData.call(this,e)},e}(i(0).EChart);e.StackThreeDBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=i(22),s=i(42),l=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("legend.show",!1),this.config("xAxis",{type:"value",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),this.config("yAxis",{type:"category",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),this.config("series[0]",{myType:void 0,barWidth:3,barGap:2,stack:"barChart",z:3,label:{show:!0,position:"insideLeft",offset:[-5,-17],color:"white",fontSize:14,formatter:function(t){return t.name}},itemStyle:{color:"rgb(67,210,220)"}}),this.config("series[1]",{type:"bar",stack:"barChart",itemStyle:{color:"rgb(0,52,72)"}})},e.prototype.setData=function(e){var i=this.setNewData(e);t.prototype.setData.call(this,i)},e.prototype.setNewData=function(t){for(var e=[],i=new a.ChartData,r=0;r<t.getCount();r++)e.push(t.get(r).get(1).value);for(var n=Array.from(new Set(e)),o=n.sort(function(t,e){return t-e}),l=0;l<n.length;l++)for(r=0;r<t.getCount();r++)o[l]==t.get(r).get(1).value&&(t.get(r).get(0).value="NO."+(n.length-l)+" "+t.get(r).get(0).value,i.addItem(t.get(r)));var h=i.getCount(),c=i.get(h-1).get(1).value;for(r=0;r<i.getCount();r++){var u=new s.ChartEntry;u.name="newName",u.value=c-i.get(r).get(1).value,i.get(r).addEntry(u)}return i},e}(o.EChart);e.VCarouselBarChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("legend",{right:"20%",color:"white"}),this.config("grid",[{left:"10%",width:"32%"},{right:"10%",width:"32%"}]),this.config("xAxis",[{type:"value",inverse:!0,position:"top",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{color:"rgb(124,126,135)"},axisTick:{show:!1}},{type:"value",gridIndex:1,position:"top",splitLine:{show:!1},axisLine:{show:!1},axisLabel:{color:"rgb(124,126,135)"},axisTick:{show:!1}}]),this.config("yAxis",[{type:"category",position:"right",axisLabel:{align:"center",margin:40,color:"rgb(124,126,135)",fontSize:14},splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},{type:"category",gridIndex:1,axisLabel:{show:!1},splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1}}]),this.config("series[0]",{type:"bar",itemStyle:{color:"rgb(101,159,131)"}}),this.config("series[1]",{type:"bar",myType:!0,xAxisIndex:1,yAxisIndex:1,itemStyle:{color:"rgb(246,137,137)"}})},e}(i(0).EChart);e.VTwoWayBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"LineChart",i)||this;return r.foShanStyle(),r}return n(e,t),e.prototype.foShanStyle=function(){this.config("xAxis",{boundaryGap:!1,splitLine:{show:!0,lineStyle:{type:"dashed"}},axisTick:{lineStyle:{color:"white"}},axisLine:{lineStyle:{color:"#CCCCCC"}},axisLabel:{color:"white"}}),this.config("yAxis",{splitLine:{show:!0,lineStyle:{type:"dashed"}},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"white"}}),this.config("series[0]",{type:"line",smooth:.3,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,0,255,1)"},{offset:1,color:"rgba(0,0,255,0)"}]},opacity:.1},symbol:"circle",symbolSize:8,itemStyle:{color:"black",borderColor:"rgb(0,255,255)",shadowBlur:20,shadowColor:"rgba(0,0,255,1)"},lineStyle:{color:"rgb(0,255,255)"}})},e}(i(0).EChart);e.LineAreaBlurChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"LineChart",i)||this;return r.foShanStyle(),r}return n(e,t),e.prototype.foShanStyle=function(){this.config("legend",{top:"bottom",textStyle:{color:"white"}}),this.config("xAxis",{boundaryGap:!1,splitLine:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"rgb(20,96,147)"}},axisLabel:{color:"white"}}),this.config("yAxis",{splitNumber:3,splitLine:{show:!0,lineStyle:{color:"rgb(20,96,147)"}},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"white"}}),this.config("series[0]",{smooth:.3,areaStyle:{opacity:.1},symbol:"circle",symbolSize:10})},e}(i(0).EChart);e.LineAreaChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){return t.call(this,e,"LineChart",i)||this}return n(e,t),e}(i(0).EChart);e.BasicLineChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"LineChart",i)||this;return r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].areaStyle",{}),this.config("xAxis.boundaryGap",!1)},e.prototype.foShanStyle=function(){this.config("legend",{top:"bottom",textStyle:{color:"white"}}),this.config("xAxis",{boundaryGap:!1,splitLine:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"rgb(20,96,147)"}},axisLabel:{color:"white"}}),this.config("yAxis",{splitNumber:3,splitLine:{show:!0,lineStyle:{color:"rgb(20,96,147)"}},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"white"}}),this.config("series[0]",{smooth:.3,areaStyle:{opacity:.1},symbol:"circle",symbolSize:10})},e}(i(0).EChart);e.AreaLineChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"LineChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{areaStyle:{},stack:"a"}),this.config("xAxis.boundaryGap",!1)},e}(i(0).EChart);e.StackAreaLineChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"LineChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{step:"start"})},e}(i(0).EChart);e.StepLineChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"pictorialBar",myType:!0,symbol:"roundRect",symbolRepeat:!0,symbolSize:[40,8]})},e.prototype.foShanStyle=function(){this.config("xAxis",{axisLine:{lineStyle:{color:"rgb(18,96,148)"}},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:10}}),this.config("yAxis",{axisLine:{lineStyle:{color:"rgb(18,96,148)"}},axisTick:{show:!1},axisLabel:{color:"#ccc",fontSize:10}})},e.prototype.setData=function(e){var i=this.setNewData(e),r=e.get(0).getCount()-1;this.setUniqueConfig(r),t.prototype.setData.call(this,i)},e.prototype.setNewData=function(t){for(var e=0;e<t.getCount();e++)for(var i=0;i<t.get(0).getCount();i++)1<i&&(t.get(e).get(i).value+=t.get(e).get(i-1).value);return t},e.prototype.setUniqueConfig=function(t){var e=this;this.config("tooltip.formatter",function(t){var i="";if(Array.isArray(t)){i+=t[0].name;var r=e.setParamsData(t[0].data);t.forEach(function(t,e){i+="<br>"+t.marker+t.seriesName+":"+r[e]})}else{var n=0,o=t.componentIndex,a=t.data,s=Object.keys(t.data);0<o?n=a[s[o+1]]-a[s[o]]:0==o&&(n=a[s[o+1]]),i=t.seriesName+"<br>"+t.marker+t.name+":"+n}return i});for(var i=0;i<t;i++)this.config("series["+i+"].z",t-i)},e.prototype.setParamsData=function(t){for(var e=[],i=Object.keys(t),r=i.length-2,n=i.length-1;0<n;n--)e[r]=1==n?t[i[n]]:t[i[n]]-t[i[n-1]],r--;return e},e}(i(0).EChart);e.StackPicBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"PieChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].myType",!0)},e.prototype.setData=function(e){var i=e.get(0).getCount();-1<this.getCategoryIndex(e)&&(i-=1),this.setUniqueConfig(i),t.prototype.setData.call(this,e)},e.prototype.getCategoryIndex=function(t){for(var e=0;e<t.get(0).getCount();e++)if("string"==typeof t.get(0).get(e).value)return e;return-1},e.prototype.setUniqueConfig=function(t){for(var e=Math.floor(100/(t+3)+.5),i=0,r=[],n=this.findAll().series;i<t;)this.config("series["+i+"].encode",{value:i+1,itemName:0}),r=n[i].hasOwnProperty("radius")?n[i].radius:0==i?["0%",(i+2)*e+"%"]:[(i+1.5)*e+"%",(i+2)*e+"%"],this.config("series["+i+"].radius",r),i++},e}(i(0).EChart);e.RingCakePieChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"ScatterChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].myType",!0)},e}(i(0).EChart);e.BasicScatterChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"ComChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].type","scatter"),this.config("series[1]",{areaStyle:{},label:{show:!0,position:"top"}})},e}(i(0).EChart);e.AreaScatterChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"ScatterChart",i)||this;return r.colorName=null,r.sizeName=null,r.rate=null,r.infoName=null,r}return n(e,t),e.prototype.setColorByName=function(t){this.colorName=t},e.prototype.setSizeByName=function(t,e){this.sizeName=t,this.rate=e},e.prototype.setInfoByName=function(t){this.infoName=t},e.prototype.setData=function(e){this.setColorRange(e),this.setUniqueConfig(),t.prototype.setData.call(this,e)},e.prototype.setColorRange=function(t){if(this.colorName){var e=!0,i=0,r=0,n=0,o=this.getDataIndexByName(this.colorName,t);this.config("visualMap.dimension",o);for(var a=JSON.parse(JSON.stringify(this.findAll())),s=0;s<t.getCount();s++)for(var l=t.get(s),h=0;l.getCount();h++){var c=l.get(h);if(c.name==this.colorName){n=c.value,e?(e=!1,r=i=n):(i<n&&(i=n),n<r&&(r=n));break}}a.visualMap.hasOwnProperty("show")||this.config("visualMap.show",!1),a.visualMap.hasOwnProperty("min")||this.config("visualMap.min",r),a.visualMap.hasOwnProperty("max")||this.config("visualMap.max",i)}},e.prototype.setUniqueConfig=function(){var t=JSON.parse(JSON.stringify(this.findAll())),e=this;if(this.sizeName){var i=1;this.rate&&(i=this.rate),t.series[0].hasOwnProperty("symbolSize")||this.config("series[0].symbolSize",function(t){return t[e.sizeName]*i})}this.infoName&&(!t.series[0].hasOwnProperty("label")||t.series[0].hasOwnProperty("label")&&!t.series[0].label.hasOwnProperty("formatter"))&&this.config("series[0].label.formatter",function(t){return t.data[e.infoName]})},e.prototype.getDataIndexByName=function(t,e){for(var i=-1,r=0;r<e.get(0).getCount();r++)if(e.get(0).get(r).name==t){i=r;break}return i},e}(i(0).EChart);e.ComplexScatterChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0);i(73);var a=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("xAxis",void 0),this.config("yAxis",void 0),this.config("grid3D",{}),this.config("xAxis3D.type","category"),this.config("yAxis3D.type","category"),this.config("zAxis3D",{}),this.config("series[0]",{type:"scatter3D",myType:!0,shading:"realistic"})},e.prototype.setData=function(e){this.setUniqueConfig(this.getSeriesData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){for(var e=0;e<t.name.length;e++)this.config("series["+e+"]",{data:t.value[e],name:t.name[e]})},e.prototype.getSeriesData=function(t){for(var e=[],i=[],r=0;r<t.getCount();r++)for(var n=t.get(r),o=[],a=0;a<n.getCount();a++){var s=t.get(r).get(a);a<2?o.push(s.value):(e.hasOwnProperty(a-2)||(e[a-2]=[]),i.hasOwnProperty(a-2)||(null!=s.alias?i.push(s.alias):i.push(s.name)),e[a-2].push([o[0],o[1],s.value]))}return{name:i,value:e}},e}(o.EChart);e.ThreeDScatterChart=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"ComChart",i)||this;return r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].label",{show:!0,position:"top"})},e.prototype.foShanStyle=function(){this.config("tooltip",{trigger:"axis",textStyle:{color:"#fff",fontSize:10}}),this.config("xAxis",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{show:!0,lineStyle:{color:"#eee"}},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}}),this.config("yAxis[0]",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{color:"#eee"},axisLine:{show:!1},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}}),this.config("yAxis[1]",{nameTextStyle:{color:"#fff",fontSize:14},splitLine:{color:"#eee"},axisLine:{show:!1},axisLabel:{color:"#ccc",fontSize:10},axisTick:{show:!1}}),this.config("series[1].symbol","circle")},e}(i(0).EChart);e.LineBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"ComChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[1].areaStyle",{}),this.config("series[0].label",{show:!0,position:"top"})},e}(i(0).EChart);e.AreaBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"ComChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].type","line"),this.config("series[1]",{type:"pictorialBar",symbol:"rect",symbolRepeat:!0,symbolSize:14,barGap:0,label:{show:!0,position:"top"}})},e}(i(0).EChart);e.LinePicBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].type","heatmap"),this.config("xAxis.type","category"),this.config("yAxis.type","category"),this.config("visualMap",{})},e}(i(0).EChart);e.BasicHeatmapChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].type","funnel"),this.config("legend",{})},e}(i(0).EChart);e.BasicFunnelChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"bar",myType:!0,coordinateSystem:"polar"}),this.config("legend",{}),this.config("angleAxis.type","category"),this.config("radiusAxis",{z:10}),this.config("polar",{})},e}(i(0).EChart);e.BasicPolarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"bar",myType:!0,coordinateSystem:"polar",stack:"a"}),this.config("legend",{}),this.config("angleAxis.type","category"),this.config("radiusAxis",{z:10}),this.config("polar",{})},e}(i(0).EChart);e.StackPolarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"bar",myType:!0,coordinateSystem:"polar"}),this.config("legend",{}),this.config("angleAxis",{}),this.config("radiusAxis",{z:10,type:"category"}),this.config("polar",{})},e}(i(0).EChart);e.VPolarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"bar",myType:!0,coordinateSystem:"polar",stack:"a"}),this.config("legend",{}),this.config("angleAxis",{}),this.config("radiusAxis",{z:10,type:"category"}),this.config("polar",{})},e}(i(0).EChart);e.VStackPolarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.foShanStyle(),r}return n(e,t),e.prototype.foShanStyle=function(){this.config("series[0]",{startAngle:180,endAngle:0,radius:"60%",title:{show:!1},detail:{color:"white"},axisTick:{length:20,lineStyle:{width:2,color:"rgb(15,25,64)"}},splitLine:{show:!1},axisLabel:{color:"whtie"},pointer:{width:3},itemStyle:{color:"rgb(17,197,203)"},axisLine:{lineStyle:{width:20,color:[[1,{type:"linear",x:0,y:0,x1:1,y1:0,colorStops:[{offset:0,color:"green"},{offset:1,color:"red"}]}]]}}})},e.prototype.setData=function(e){var i=[{name:e.get(0).get(0).value,value:e.get(0).get(1).value}];this.config("series[0].data",i),t.prototype.setData.call(this,e)},e}(i(0).EChart);e.BasicGaugeChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=i(22),s=i(41),l=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r.foShanStyle(),r}return n(e,t),e.prototype.init=function(){this.config("radar",{}),this.config("series[0]",{type:"radar",myType:!0})},e.prototype.foShanStyle=function(){this.config("backgroundColor","#084483"),this.config("radar",{splitNumber:4,name:{color:"white"},axisLine:{show:!1},splitLine:{lineStyle:{color:"#537289"}},splitArea:{areaStyle:{color:["#105477","#012E58"]}}}),this.config("series[0]",{lineStyle:{color:"rgb(1,241,241)",width:2,shadowBlur:10,shadowColor:"white"},label:{show:!0,color:"rgb(1,241,241)"},itemStyle:{color:"rgba(0,0,0,0)"},areaStyle:{color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:"rgba(1,241,241,0)"},{offset:1,color:"rgba(1,241,241,0.8)"}]}}})},e.prototype.setData=function(e){this.setUniqueConfig(e);var i=this.setNewData(e);t.prototype.setData.call(this,i)},e.prototype.setNewData=function(t){for(var e=new a.ChartData,i=0;i<t.getCount();i++){for(var r=new s.ChartItem,n=0;n<t.get(0).getCount()-1;n++)r.addEntry(t.get(i).get(n));e.addItem(r)}return e},e.prototype.setUniqueConfig=function(t){for(var e=this,i=[],r=[],n=0;n<t.getCount();n++)for(var o=0,a=t.get(n),s=0;s<a.getCount();s++){var l=a.get(s);0==s?i.push({name:l.value}):s==a.getCount()-1?i[n].max=l.value:(r[o]||(r[o]={},r[o].value=[],l.alias&&(r[o].name=l.alias)),r[o].value[n]=l.value,o++)}this.config("radar.indicator",i),r.forEach(function(t,i){e.config("series["+i+"].data",[r[i]])})},e}(o.EChart);e.BasicRadarChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0);i(51);var a=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0].type","liquidFill")},e.prototype.setData=function(e){this.setUniqueConfig(e),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){var e=[],i=this.getSum(t),r=!1;1<t.get(0).get(1).value&&(r=!0);for(var n=0;n<t.getCount();n++){var o=t.get(n);e.push({name:o.get(0).value,value:o.get(1).value}),r&&(e[n].value=o.get(1).value/i)}this.config("series[0].data",e)},e.prototype.getSum=function(t){for(var e=0,i=0;i<t.getCount();i++)e+=t.get(i).get(1).value;return e},e}(o.EChart);e.BasicLiquidFillChart=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("legend",{}),this.config("series[0]",{type:"graph",layout:"circular",roam:!0,focusNodeAdjacency:!0})},e.prototype.setCategroyById=function(t,e){this.id=t,this.categoryValue=e},e.prototype.setData=function(e){this.setUniqueConfig(e),this.setLegend(e),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){for(var e=[],i=[],r=null,n=null,o=null,a=null,s=0;s<t.getCount();s++){var l=t.get(s);r=l.get(0).value,n=l.get(2).value,o=l.get(3).value,e.push({name:r,value:l.get(1).value}),Array.isArray(n)?(a={source:r},n.forEach(function(t,e){a.target=t,Array.isArray(o)?a.value=o[e%o.length]:a.value=o,i.push(JSON.parse(JSON.stringify(a)))})):i.push({source:r,target:n,value:o})}this.nodes=e,this.config("series[0]",{data:e,links:i})},e.prototype.setLegend=function(t){var e=this.id,i=JSON.parse(JSON.stringify(this.nodes)),r=this.categoryValue,n=[],o=-1,a=-1,s=-1;if(e<t.get(0).getCount()){for(var l=0;l<t.getCount();l++)a<(s=t.get(l).get(e).value)&&(a=s);for(l=0;l<t.getCount();l++)o=t.get(l).get(e).value,i[l].category=o;r.forEach(function(t){n.push({name:t})}),this.config("series[0].data",i),this.config("series[0].categories",n)}},e}(i(0).EChart);e.BasicGraphChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=i(7);i(51);var s=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.color="rgba(194,53,49,",r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"liquidFill",radius:"80%",silent:!0,outline:{show:!0,borderDistance:0,itemStyle:{borderWidth:20,shadowBlur:5}},backgroundStyle:{itemStyle:{shadowBlur:10}},wavelength:"150%",amplitude:"4%",itemStyle:{shadowBlur:0}}),this.config("animationDurationUpdate",500),this.config("period",1500)},e.prototype.setColorByRGBA=function(t){this.color=t.replace(")",",")},e.prototype.setData=function(e){var i=this.color,r=this.setNewData(e,i);this.configLiquidSeries(i),this.configBubble(r),t.prototype.setData.call(this,e)},e.prototype.setNewData=function(t,e){var i=t.asArray()[0],r=i[Object.keys(i)[0]],n=i[Object.keys(i)[1]];1<n&&(n/=100);var o=[{name:r,value:n,phase:Math.PI/2,silent:!0,itemStyle:{color:e+"0.5)"}},{name:r,value:n-.05,phase:0,amplitude:"2%",silent:!1,itemStyle:{color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:e+"1)"},{offset:.3,color:e+"1)"},{offset:1,color:"rgba(0,0,0,0)"}]}}}];return this.config("series[0].data",o),n},e.prototype.configBubble=function(t){for(var e=this.findAll().series[0].radius,i=this.getZr(),r=i.getWidth(),n=i.getHeight(),o=Math.min(r,n),s=e.includes("%")?e.replace("%","")/100*o/2:e,l=r/2,h=0,c=0,u=0;u<7;u++){h=4*Math.random()+1,c=1e3*Math.random()+1500;var p=new a.Circle({shape:{cx:r/2,cy:n/2+s-5,r:h},style:{stroke:"#CCC",fill:"none",lineWidth:1},zlevel:1});i.add(p),p.animate("style",!0).delay(c).when(1500,{opacity:.2,lineWidth:.5}).start(),0!=u&&(l=u%2==0?r/2-s/10*(u-3):r/2+s/10*u),p.animate("shape",!0).delay(c).when(1500,{cx:l,cy:n/2+s-t*s*2,r:2*h}).start()}},e.prototype.configLiquidSeries=function(t){var e=this.findAll().series[0];e.outline.itemStyle.hasOwnProperty("borderColor")||this.config("series[0].outline.itemStyle.borderColor",t+"0.1)"),e.outline.itemStyle.hasOwnProperty("shadowColor")||this.config("series[0].outline.itemStyle.shadowColor",t+"1)"),e.backgroundStyle.hasOwnProperty("color")||this.config("series[0].backgroundStyle.color",{type:"radial",x:.2,y:.2,r:.5,colorStops:[{offset:1,color:t+"0.3)"},{offset:0,color:"rgba(0,0,0,0)"}]}),e.backgroundStyle.hasOwnProperty("itemStyle")?(e.backgroundStyle.itemStyle.hasOwnProperty("borderColor")||this.config("series[0].backgroundStyle.itemStyle.borderColor",t+"1)"),e.backgroundStyle.itemStyle.hasOwnProperty("shadowColor")||this.config("series[0].backgroundStyle.itemStyle.shadowColor",t+"1)")):this.config("series[0].backgroundStyle.itemStyle",{borderColor:t+"1)",shadowColor:t+"1)"}),e.hasOwnProperty("label")?this.config("series[0].label.color",t+"1)"):this.config("series[0].label",{color:t+"1)"})},e}(o.EChart);e.ThreeDLiquidFillChart=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),a=i(7);i(51);var s=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.color="rgba(226,145,47,",r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"liquidFill",radius:"80%",silent:!0,outline:{show:!0,borderDistance:20,itemStyle:{borderWidth:4,shadowBlur:20}},shape:"path://m388.7848,528.526528c0,52.333726 44.15627,94.763705 98.62708,94.763705c54.47433,0 89.62854,-40.5872 91.62854,-91.077862c1,-23.883614 -14.55446,-52.363775 -22.69254,-68.568422c-7,-11.056672 -48.48373,-73.706236 -70.52771,-121.65578l-0.46369,0.921389c-20.0472,47.949535 -68.85746,119.160833 -68.85746,119.160833c-12.14921,17.975293 -27.71451,40.87121 -27.71451,66.456423l0.00029,-0.000286z",backgroundStyle:{shadowBlur:20,shadowOffsetY:5,borderWidth:3},wavelength:"150%",amplitude:"4%",itemStyle:{shadowBlur:0},label:{normal:{formatter:function(t){return(100*t.value).toFixed(0)+"%"},fontSize:50}}}),this.config("animationDurationUpdate",500),this.config("period",1500)},e.prototype.setColorByRGBA=function(t){this.color=t.replace(")",",")},e.prototype.setData=function(e){var i=this.color,r=this.setNewData(e,i);this.configLiquidSeries(i),this.configBubble(r),t.prototype.setData.call(this,e)},e.prototype.setNewData=function(t,e){var i=t.asArray()[0],r=i[Object.keys(i)[0]],n=i[Object.keys(i)[1]];1<n&&(n/=100);var o=[{name:r,value:n,phase:Math.PI/2,silent:!0,itemStyle:{color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:.6,color:e+"1)"},{offset:1,color:e+"1)"}]}}},{name:r,value:n-.05,phase:0,amplitude:"2%",silent:!1,itemStyle:{color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:e+"1)"},{offset:.3,color:e+"1)"},{offset:1,color:"rgba(0,0,0,0.7)"}]}}}];return this.config("series[0].data",o),n},e.prototype.configBubble=function(t){for(var e=this.findAll().series[0].radius,i=this.getZr(),r=i.getWidth(),n=i.getHeight(),o=Math.min(r,n),s=e.includes("%")?e.replace("%","")/100*o/2:e,l=r/2,h=0,c=0,u=0;u<7;u++){h=4*Math.random()+1,c=1e3*Math.random()+1500;var p=new a.Circle({shape:{cx:r/2,cy:n/2+s-5,r:h},style:{stroke:"#CCC",fill:"none",lineWidth:1},zlevel:1});i.add(p),p.animate("style",!0).delay(c).when(1500,{opacity:.2,lineWidth:.5}).start(),0!=u&&(l=u%2==0?r/2-s/10*(u-3):r/2+s/10*u),p.animate("shape",!0).delay(c).when(1500,{cx:l,cy:n/2+s-t*s*2,r:2*h}).start()}},e.prototype.configLiquidSeries=function(t){var e=this.findAll().series[0];e.outline.itemStyle.hasOwnProperty("borderColor")||this.config("series[0].outline.itemStyle.borderColor",{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:t+"1)"},{offset:.05,color:t+"0.1)"},{offset:.95,color:t+"0.01)"},{offset:1,color:t+"1)"}]}),e.outline.itemStyle.hasOwnProperty("shadowColor")||this.config("series[0].outline.itemStyle.shadowColor",t+"1)"),e.hasOwnProperty("backgroundStyle")||this.config("series[0].backgroundStyle",{borderColor:t+"1)",shadowColor:t+"1)"}),e.backgroundStyle.hasOwnProperty("color")||this.config("series[0].backgroundStyle.color",{type:"radial",x:.2,y:.2,r:.5,colorStops:[{offset:1,color:t+"0.01)"}]}),e.backgroundStyle.hasOwnProperty("borderColor")||this.config("series[0].backgroundStyle.borderColor",{type:"radial",x:.5,y:0,r:.5,colorStops:[{offset:0,color:t+"0.5)"},{offset:1,color:t+"0.1)"}]}),e.backgroundStyle.hasOwnProperty("shadowColor")||this.config("series[0].backgroundStyle.shadowColor",t+"1)"),e.hasOwnProperty("label")?this.config("series[0].label.color",t+"1)"):this.config("series[0].label",{color:t+"1)"})},e}(o.EChart);e.ThreeDWaterDropChart=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0);i(51);var a=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.color="rgb(194,53,49)",r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"liquidFill",radius:"80%",silent:!0,wavelength:"150%",amplitude:"4%"}),this.config("animationDurationUpdate",500),this.config("period",1500)},e.prototype.setColor=function(t){this.color=t},e.prototype.setData=function(e){var i=this.color;this.setNewData(e,i),this.configLiquidSeries(i),t.prototype.setData.call(this,e)},e.prototype.setNewData=function(t,e){var i=t.asArray()[0],r=i[Object.keys(i)[0]],n=i[Object.keys(i)[1]];1<n&&(n/=100);var o=[{name:r,value:n,phase:Math.PI/2,silent:!0,itemStyle:{color:e,opacity:.5}},{name:r,value:n-.05,phase:0,amplitude:"2%",silent:!1,itemStyle:{color:{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:e},{offset:.3,color:e},{offset:1,color:"rgba(0,0,0,0)"}]}}}];this.config("series[0].data",o),this.config("color",e)},e.prototype.configLiquidSeries=function(t){var e=this.findAll().series[0];e.hasOwnProperty("outline")?e.outline.hasOwnProperty("itemStyle")?e.outline.itemStyle.hasOwnProperty("borderColor")||this.config("series[0].outline.itemStyle.borderColor",t):this.config("series[0].outline.itemStyle",{borderColor:t}):this.config("series[0].outline",{itemStyle:{borderColor:t}}),e.hasOwnProperty("label")?e.label.hasOwnProperty("color")||this.config("series[0].label.color",t):this.config("series[0].label",{color:t})},e}(o.EChart);e.LiquidFillWaveChart=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{silent:!1,type:"graph",force:{initLayout:"none",repulsion:15,gravity:.01,layoutAnimation:!0},layout:"force",label:{show:!0},itemStyle:{opacity:.8},emphasis:{itemStyle:{opacity:1}},roam:!0,draggable:!0,focusNodeAdjacency:!1,symbolSize:30})},e.prototype.setData=function(e){this.setNewData(e),t.prototype.setData.call(this,e)},e.prototype.setNewData=function(t){for(var e=[],i=[],r=0;r<t.getCount();r++){var n=t.get(r);e.push({name:n.get(0).value,value:n.get(1).value,category:r}),i.push(r)}this.config("series[0].data",e),this.config("series[0].categories",i)},e}(i(0).EChart);e.BubbleCloudChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("legend",{}),this.config("series[0]",{type:"graph",layout:"force",roam:!0,focusNodeAdjacency:!0})},e.prototype.setCategroyById=function(t,e){this.id=t,this.categoryValue=e},e.prototype.setData=function(e){this.setUniqueConfig(e),this.setLegend(e),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){for(var e=[],i=[],r=null,n=null,o=null,a=null,s=0;s<t.getCount();s++){var l=t.get(s);r=l.get(0).value,n=l.get(2).value,o=l.get(3).value,e.push({name:r,value:l.get(1).value}),Array.isArray(n)?(a={source:r},n.forEach(function(t,e){a.target=t,Array.isArray(o)?a.value=o[e%o.length]:a.value=o,i.push(JSON.parse(JSON.stringify(a)))})):i.push({source:r,target:n,value:o})}this.nodes=e,this.config("series[0]",{data:e,links:i})},e.prototype.setLegend=function(t){var e=this.id,i=JSON.parse(JSON.stringify(this.nodes)),r=this.categoryValue,n=[],o=-1,a=-1,s=-1;if(e<t.get(0).getCount()){for(var l=0;l<t.getCount();l++)a<(s=t.get(l).get(e).value)&&(a=s);for(l=0;l<t.getCount();l++)o=t.get(l).get(e).value,i[l].category=o;r.forEach(function(t){n.push({name:t})}),this.config("series[0].data",i),this.config("series[0].categories",n)}},e}(i(0).EChart);e.ForceGraphChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"tree",orient:"vertical",label:{position:"top",align:"right"},leaves:{label:{position:"bottom",align:"left"}}})},e.prototype.setData=function(e){this.setUniqueConfig(this.selfUnpackTreeData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){this.config("series[0].data",t)},e.prototype.selfUnpackTreeData=function(t){for(var e=[],i=0;i<t.getCount();i++){var r=t.get(i);e[i]={};for(var n=0;n<r.getCount();n++){var o=r.get(n);"string"==typeof o.value?e[i].name=o.value:"number"==typeof o.value?e[i].value=o.value:e[i].children=this.selfUnpackTreeData(o.value)}}return e},e}(i(0).EChart);e.BasicTreeChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"tree",label:{position:"left",align:"right"},leaves:{label:{position:"right",align:"left"}}})},e.prototype.setData=function(e){this.setUniqueConfig(this.selfUnpackTreeData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){this.config("series[0].data",t)},e.prototype.selfUnpackTreeData=function(t){for(var e=[],i=0;i<t.getCount();i++){var r=t.get(i);e[i]={};for(var n=0;n<r.getCount();n++){var o=r.get(n);"string"==typeof o.value?e[i].name=o.value:"number"==typeof o.value?e[i].value=o.value:e[i].children=this.selfUnpackTreeData(o.value)}}return e},e}(i(0).EChart);e.VTreeChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"tree",layout:"radial"})},e.prototype.setData=function(e){this.setUniqueConfig(this.selfUnpackTreeData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){this.config("series[0].data",t)},e.prototype.selfUnpackTreeData=function(t){for(var e=[],i=0;i<t.getCount();i++){var r=t.get(i);e[i]={};for(var n=0;n<r.getCount();n++){var o=r.get(n);"string"==typeof o.value?e[i].name=o.value:"number"==typeof o.value?e[i].value=o.value:e[i].children=this.selfUnpackTreeData(o.value)}}return e},e}(i(0).EChart);e.CTreeChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"sunburst"})},e.prototype.setData=function(e){this.setUniqueConfig(this.selfUnpackTreeData(e)),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){this.config("series[0].data",t)},e.prototype.selfUnpackTreeData=function(t){for(var e=[],i=0;i<t.getCount();i++){var r=t.get(i);e[i]={};for(var n=0;n<r.getCount();n++){var o=r.get(n);"string"==typeof o.value?e[i].name=o.value:"number"==typeof o.value?e[i].value=o.value:e[i].children=this.selfUnpackTreeData(o.value)}}return e},e}(i(0).EChart);e.BasicSunburstChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(74),a=i(34),s=function(t){function e(e,i){var r=t.call(this,e,"TextChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"beehive",itemStyle:{default:{stroke:"#EEE",fill:"#AAA",len:19,z2:0,cursor:"default",silent:!0},normal:{stroke:"#FFFFFF",lineWidth:6,fill:"#2FC25B",fontSize:18,textFill:"#444",text:"",z2:1,cursor:"pointer",silent:!1},emphasis:{fill:"#F88",textFill:"#0FF"}}})},e.prototype.setData=function(t){this.setBeeHive(t)},e.prototype.setBeeHive=function(t){for(var e=this.findAll().series[0].itemStyle,i=this.getWidth(),r=this.getHeight(),n=e.default.len,o=3*n,a=o,s=3*n,l=0,h=0;s+2*n<r;)if(a+2*n*Math.sqrt(3)<i){var c=JSON.parse(JSON.stringify(e));h<t.getCount()&&(c.normal.text=t.get(h).get(0).value,h++);var u=this.hiveShape(a,s,n,c).getElement();this.add(u),a+=2*n*Math.sqrt(3)}else s+=3*n,a=l%2==0?o+n*Math.sqrt(3):o,l++},e.prototype.hiveShape=function(t,e,i,r){var n;n=0<r.normal.text.length?r.normal:r.default;var o=new a.RegularSix(t,e,i);o.setAttr("style",n),o.setAttr("cursor",n.cursor),o.setAttr("silent",n.silent),o.setAttr("z2",n.z2);var s=o.getElement(),l=this;return o.on("mouseover",function(){l.addHover(s,r.emphasis)}),o.on("mouseout",function(){l.removeHover(s)}),o},e}(o.Zrender);e.BeeHiveChart=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(22),a=i(7),s=function(t){function e(e,i){var r=t.call(this,e,"UniqueChart",i)||this;return r.color=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],r.init(),r}return n(e,t),e.prototype.init=function(){this.config("legend",{show:!0,top:"20",left:"23",right:23,bottom:23,orient:"horizontal",align:"left",itemGap:"10",itemWidth:25,itemHeight:14,textStyle:{color:"#333",fontFamily:"Microsoft YaHei",fontSize:12,fontWeight:"normal"}}),this.config("series[0]",{type:"funnel"})},e.prototype.setColorByArray=function(t){this.color=t},e.prototype.setData=function(e){var i=this.color;t.prototype.setData.call(this,e);var r=this.sortData(e),n=this.packLegendData(r);this.CreateLegend(n,i);var o=this.CreateFunnelData(e);this.CreateFunnel(o,i)},e.prototype.CreateFunnel=function(t,e){for(var i=this.createGroup({gvId:"series_0"}),r=0;r<t.length;r++)this.CreateFunnelItem(t[r],i,e)},e.prototype.CreateFunnelItem=function(t,e,i){var r=t.cx,n=t.cy,o=t.rx,s=t.ry,l=t.rx1,h=t.ry1,c=t.depth,u=t.i,p=(this.CreateTooltip(),new a.LinearGradient(0,0,1,0));p.addColorStop(0,i[u]),p.addColorStop(.1,i[u]),p.addColorStop(.3,"#FFF"),p.addColorStop(.3,"#FFF"),p.addColorStop(.7,i[u]),p.addColorStop(1,i[u]);var f=new a.Group({gvId:"funnel_"+u}),y=new a.Ellipse({shape:{cx:r,cy:n,rx:o,ry:s},style:{fill:i[u],opacity:.8,lineWidth:0},z2:1});f.add(y);var d=new a.Ellipse({shape:{cx:r,cy:n+c,rx:l,ry:h},style:{fill:i[u],opacity:.8,lineWidth:0}});f.add(d);var v=new new a.Path.extend({type:"SideEllipseArea",buildPath:function(t,e){var i=e.depth,r=.5522848,n=e.cx,o=e.cy,a=e.rx,s=e.ry,l=e.cy+i,h=e.rx1,c=e.ry1;t.moveTo(n-a,o),t.bezierCurveTo(n-a,o+r*s,n-r*a,o+s,n,o+s),t.bezierCurveTo(n+r*a,o+s,n+a,o+r*s,n+a,o),t.lineTo(n+h,l),t.bezierCurveTo(n+h,l+r*c,n+r*h,l+c,n,l+c),t.bezierCurveTo(n-r*h,l+c,n-h,l+r*c,n-h,l),t.closePath()}})({shape:{cx:r,cy:n,rx:o,ry:s,rx1:l,ry1:h,depth:c},style:{fill:p,lineWidth:0,stroke:i[u]},z2:2,onmouseover:function(){this.animateStyle().when(200,{opacity:.8}).start()},onmouseout:function(){this.animateStyle().when(200,{opacity:1}).start()}});f.add(v),e.add(f),this.add(e)},e.prototype.CreateTitle=function(){var t=this.getZr(),e=t.getWidth(),i=t.getHeight(),r=this.findAll().title,n=new a.Text({gvId:"title",invisible:!r.show,style:{text:r.text,textFill:r.textStyle.color,fontFamily:r.textStyle.fontFamily,fontWeight:r.textStyle.fontWeight,fontSize:r.textStyle.fontSize,textVerticalAlign:"top"},z:6,z2:10,silent:r.silent,position:[this.toNumber(e,r.left),this.toNumber(i,r.top)]});t.add(n)},e.prototype.CreateLegend=function(t,e){var i=this,r=this.findAll().legend,n=this.getZr(),o=n.getWidth(),s=n.getHeight(),l=new a.Group({gvId:"legend"}),h=0,c=this.toNumber(s,r.top),u=this.toNumber(o,r.itemWidth),p=this.toNumber(s,r.itemHeight);t.forEach(function(t,n){var o=new a.Group({gvId:"legend_"+n,legendClick:!0}),s=new a.Rect({shape:{x:h,y:c,width:u,height:p,r:5},style:{fill:e[n],lineWidth:0},z:4,z2:0});o.add(s),h+=u+5;var f=new a.Text({invisible:!r.show,style:{text:t,textAlign:"left",textFill:r.textStyle.color,fontFamily:r.textStyle.fontFamily,fontWeight:r.textStyle.fontWeight,fontSize:r.textStyle.fontSize,x:h,y:c},z:6,z2:10});o.add(f),l.add(o),h+=f.getBoundingRect().width,i.defaultLegendAnimatin(o,n,e)}),n.add(l)},e.prototype.CreateTooltip=function(){var t=this.getZr().getHeight(),e=new a.Group({style:{invisible:!0}}),i=new a.Circle({shape:{cx:10,cy:11,r:4},style:{stroke:"#FF00FF",lineWidth:0,fill:"none"},position:[20,t/3],z2:4});e.add(i);var r=new a.Text({style:{textBackgroundColor:"rgba(50,50,50,0.7)",fontSize:14,textFill:"#0ff",cursor:"default",textPadding:[5,5,5,20],textBorderRadius:5,silent:!0},position:[20,t/3],z2:3});return e.add(r),this.add(e),e},e.prototype.CreateLabel=function(t){new a.Group({gvId:"label"});var e=new a.Text({style:{text:"\nhello",textAlign:"left",textVerticalAlign:"middle",fontSize:34,textStroke:"#00FF00",textLineWidth:4,textBackgroundColor:"rgba(50,50,50,0.7)",textPadding:5,textFill:"#FF0033",textBorderRadius:5},position:[100,300],z2:3});this.add(e)},e.prototype.sortData=function(t){for(var e=[],i=new o.ChartData,r=0;r<t.getCount();r++)e.push(t.get(r).get(1).value);for(var n=Array.from(new Set(e)).sort(function(t,e){return e-t}),a=0;a<e.length;a++)for(r=0;r<t.getCount();r++)n[a]==t.get(r).get(1).value&&i.addItem(t.get(r));return i},e.prototype.toLength=function(t,e,i){return t-(this.toNumber(t,e)+this.toNumber(t,i))},e.prototype.toNumber=function(t,e){return"string"==typeof e?e.includes("%")?Number(e.replace("%",""))*t/100:"left"===e||"top"===e?0:"right"===e||"bottom"===e?t-20:"middle"===e||"center"===e?t/2:Number(e)/1:"number"==typeof e?e:void 0},e.prototype.CreateFunnelData=function(t){for(var e=this.getZr(),i=e.getWidth(),r=e.getHeight(),n=[],o=this.toLength(i,"10%","10%"),a=this.toLength(r,60,60),s=t.getCount(),l=o/2,h=l/10,c=(a-h)/s,u=o/2+this.toNumber(o,"10%"),p=this.toNumber(a,60)+h,f=[],y=0;y<t.getCount();y++)f.push(t.get(y).get(1).value);var d=Array.from(new Set(f)).sort(function(t,e){return e-t}),v=this.sortData(t);for(y=0;y<v.getCount();y++){var g={cx:0,cy:0,rx:0,ry:0,depth:0,rx1:0,ry1:0,i:-1},m=d[0];g.cx=u,g.cy=p+c*y,g.rx=l*d[y]/m,g.ry=g.rx/10,g.depth=c,y<s-1?(g.rx1=l*d[y+1]/m,g.ry1=g.rx1/10):(g.rx1=0,g.ry1=0),g.i=y,n.push(g)}return n},e.prototype.packLegendData=function(t){for(var e=[],i=0;i<t.getCount();i++)e.push(t.get(i).get(0).value);return e},e.prototype.defaultLegendAnimatin=function(t,e,i){var r=this.getZr();t.on("click",function(){if(t.legendClick){for(var n=0;n<t.childCount();n++)t.childAt(n).attr("style",{fill:"#CCC",textFill:"#CCC"});r.storage.traverse(function(t){if(t.gvId==="funnel_"+e)for(var i=0;i<t.childCount();i++)t.childAt(i).attr("invisible",!0)})}else{for(n=0;n<t.childCount();n++)t.childAt(n).attr("style",{fill:i[e],textFill:"#000"});r.storage.traverse(function(t){if(t.gvId==="funnel_"+e)for(var i=0;i<t.childCount();i++)t.childAt(i).attr("invisible",!1)})}var o=t.legendClick;t.attr("legendClick",!o)})},e}(i(74).Zrender);e.ThreeDFunnelChart=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(0);i(270);var a=function(t){function e(e,i){var r=t.call(this,e,"TextChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("tooltip",{}),this.config("series[0].type","wordCloud"),this.config("visualMap",{})},e.prototype.setData=function(e){this.setUniqueConfig(e),t.prototype.setData.call(this,e)},e.prototype.setUniqueConfig=function(t){var e;e=t.get(0).get(1).alias?t.get(0).get(1).alias:t.get(0).get(1).name,this.findAll().series[0].hasOwnProperty("name")||this.config("series[0].name",e);for(var i=[],r=0;r<t.getCount();r++){var n=t.get(r);i.push({name:n.get(0).value,value:n.get(1).value})}this.config("series[0].data",i)},e}(o.EChart);e.WordCloudChart=a},function(t,e){t.exports=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){var r=t.call(this,e,"BarChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("xAxis.type","value"),this.config("yAxis.type","category")},e.prototype.setData=function(e){this.setShadow(e),t.prototype.setData.call(this,e)},e.prototype.setShadow=function(t){for(var e=t.get(0).getCount()-1,i=0;i<e;i++)this.config("series["+i+"]",{stack:"sum"+i});var r=[];for(i=0;i<t.get(0).getCount()-1;i++)for(var n=0;n<t.getCount();n++)r.push(t.get(n).get(i+1).value);var o=Array.from(new Set(r)).sort(function(t,e){return e-t})[0],a=o+o/20,s=[];for(i=0;i<e;i++){var l=[];for(n=0;n<t.getCount();n++)l.push(a-t.get(n).get(i+1).value);s.push(l)}for(i=e;i<2*e;i++)this.config("series["+i+"]",{type:"bar",stack:"sum"+(i-e),itemStyle:{color:"rgba(18,41,64,0.4)"},data:s[i-e]})},e}(i(0).EChart);e.VShadowBarChart=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(74),a=i(34),s=function(t){function e(e,i){var r=t.call(this,e,"TextChart",i)||this;return r.init(),r}return n(e,t),e.prototype.init=function(){this.config("series[0]",{type:"beehive",itemStyle:{default:{stroke:"#EEE",fill:"#AAA",len:19,z2:0,cursor:"default",silent:!0},normal:{stroke:"#FFFFFF",lineWidth:6,fill:"#2FC25B",fontSize:18,textFill:"#444",text:"",z2:1,cursor:"pointer",silent:!1},emphasis:{fill:"#F88",textFill:"#0FF"}}})},e.prototype.setData=function(t){this.setBeeHive(t)},e.prototype.setBeeHive=function(t){for(var e=this.findAll().series[0].itemStyle,i=0;i<t.getCount();i++){var r=JSON.parse(JSON.stringify(e)),n=t.get(i).get(0).value,o=t.get(i).get(1).value,a=t.get(i).get(2).value,s=t.get(i).get(3).value;r.normal.text=s;var l=this.hiveShape(n,o,a,r).getElement();this.add(l)}},e.prototype.hiveShape=function(t,e,i,r){var n;n=0<r.normal.text.length?r.normal:r.default;var o=new a.RegularSix(t,e,i);o.setAttr("style",n),o.setAttr("cursor",n.cursor),o.setAttr("silent",n.silent),o.setAttr("z2",n.z2);var s=o.getElement(),l=this;return o.on("mouseover",function(){l.addHover(s,r.emphasis)}),o.on("mouseout",function(){l.removeHover(s)}),o},e}(o.Zrender);e.BeeHiveMapChart=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,r,n,o,a){void 0===n&&(n=0),void 0===o&&(o=Math.PI/2),void 0===a&&(a=!0);var s=t.call(this,"Arc",e,i,r,n,o,a)||this;return s.cx=e,s.cy=i,s.r=r,s}return n(e,t),e.prototype.create=function(t){return{shape:{cx:t[0],cy:t[1],r:t[2],startAngle:t[3],endAngle:t[4],clockwise:t[5]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Arc=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,r,n){var o=t.call(this,"Ellipse",e,i,r,n)||this;return o.cx=e,o.cy=i,o.rx=r,o.ry=n,o}return n(e,t),e.prototype.create=function(t){return{shape:{cx:t[0],cy:t[1],rx:t[2],ry:t[3]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Ellipse=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,r,n){var o=t.call(this,"Isogon",e,i,r,n)||this;return o.x=e,o.y=i,o.r=r,o.n=n,o}return n(e,t),e.prototype.create=function(t){return{shape:{x:t[0],y:t[1],r:t[2],n:t[3]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Isogon=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,r,n,o){void 0===o&&(o=1);var a=t.call(this,"Line",e,i,r,n,o)||this;return a.x1=e,a.y1=i,a.x2=r,a.y2=n,a}return n(e,t),e.prototype.create=function(t){return{shape:{x1:t[0],y1:t[1],x2:t[2],y2:t[3],percent:t[4]},style:{stroke:"#000",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Line=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){void 0===i&&(i=0);var r=t.call(this,"Polygon",e,i)||this;return r.points=e,r.smooth=i,r}return n(e,t),e.prototype.create=function(t){return{shape:{points:t[0],smooth:t[1]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Polygon=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i){void 0===i&&(i=0);var r=t.call(this,"Polyline",e,i)||this;return r.points=e,r.smooth=i,r}return n(e,t),e.prototype.create=function(t){return{shape:{points:t[0],smooth:t[1]},style:{stroke:"#000",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Polyline=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,r,n){var o=t.call(this,"Rect",e,i,r,n)||this;return o.x=e,o.y=i,o.width=r,o.height=n,o}return n(e,t),e.prototype.create=function(t){return{shape:{x:t[0],y:t[1],width:t[2],height:t[3]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Rect=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){var i=t.call(this,"Text",e)||this;return i.text=e,i}return n(e,t),e.prototype.create=function(t){return{style:{text:t[0],fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Text=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,r,n,o,a,s){void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=Math.PI/2),void 0===s&&(s=!0);var l=t.call(this,"Sector",e,i,r,n,o,a,s)||this;return l.cx=e,l.cy=i,l.r=r,l}return n(e,t),e.prototype.create=function(t){return{shape:{cx:t[0],cy:t[1],r:t[2],r0:t[3],startAngle:t[4],endAngle:t[5],clockwise:t[6]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Sector=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,i,r,n){var o=t.call(this,"Droplet",e,i,r,n)||this;return o.cx=e,o.cy=i,o.width=r,o.height=n,o}return n(e,t),e.prototype.create=function(t){return{shape:{cx:t[0],cy:t[1],width:t[2],height:t[3]},style:{stroke:"none",fill:"#c23531",fontSize:12,textFill:"#000"}}},e}(i(8).GraphicZrender);e.Droplet=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(37),a=i(1),s=function(t){function e(e,i,r,n){void 0===n&&(n="4326");var o=t.call(this)||this;return o.srid=n,o.g2map=new a.carto.Globe({defaultExtent:e,fullExtent:i,srid:n}),o.g2map.init({targetId:r}),o}return n(e,t),e.prototype.addLayer=function(t){this.g2map.addLayer(t.getLayer())},e.prototype.pan=function(t){var e=new a.sfs.Point({x:t[0],y:t[1],spatialReference:this.srid});this.g2map.setCenter(e)},e.prototype.getMap=function(){return this.g2map},e.prototype.getLayers=function(){return this.g2map.getLayers()},e.prototype.getPixelFromCoordinate=function(t){return this.g2map.getPixelFromCoordinate(t)},e.prototype.getViewer=function(){return this.g2map._cesiumWidget},e.prototype.on=function(t,e){this.g2map.on(t,e)},e.prototype.un=function(t,e){this.g2map.un(t,e)},e}(o.MapChart);e.TSGlobeMapChart=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=function(t){function e(e,i){void 0===e&&(e="4326"),void 0===i&&(i="http://172.18.7.60/proxy/proxy/mapTiledProxy.ashx");for(var r=t.call(this)||this,n=[],a=1;a<22;++a)n.push(a);return r.tianditu=new o.carto.TileLayer3D({id:"satellite",name:"",layers:"img",matrixIds:n,matrix:18,matrixSet:"c",matrixPrefix:"",levelShift:0,format:"tiles",projection:"EPSG:"+e,layerType:1,tileType:102,opacity:1,visible:!0,style:"default",proxy:i,url:"http://{s}.tianditu.gov.cn/img_c/wmts?tk=4f62e1d82bd46e2ff470b291c2260156",subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"]}),r}return n(e,t),e.prototype.getLayer=function(){return this.tianditu},e.prototype.setSource=function(){},e.prototype.render=function(t,e,i){},e}(i(12).Layer);e.Tianditu=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=function(t){function e(e,i){void 0===e&&(e="4326"),void 0===i&&(i="http://172.18.7.60/proxy/proxy/mapTiledProxy.ashx");for(var r=t.call(this)||this,n=[],a=1;a<22;++a)n.push(a);return r.tiandituLabel=new o.carto.TileLayer3D({id:"tianditulabel",name:"",matrixIds:n,layers:"cta",matrix:22,matrixSet:"c",matrixPrefix:"",levelShift:0,format:"tiles",projection:"EPSG:"+e,layerType:1,tileType:102,opacity:1,visible:!0,style:"default",proxy:i,url:"http://{s}.tianditu.gov.cn/cta_c/wmts?tk=4f62e1d82bd46e2ff470b291c2260156",subdomains:["t0","t1","t2","t3","t4","t5","t6","t7"]}),r}return n(e,t),e.prototype.getLayer=function(){return this.tiandituLabel},e.prototype.setSource=function(){},e.prototype.render=function(t,e,i){},e}(i(12).Layer);e.TiandituLabel=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(29),n=i(18),o=i(13),a=function(){function t(t,e,i){this.map=e,this.dom=i,this._config=new o.ChartConfig({animation:!1,visualMap:{},CesiumMap:{},series:[{type:"heatmap",coordinateSystem:"CesiumMap"}]});var r=t.asArray();this.setData(r)}return t.prototype.findAll=function(){return this._config.findAll()},t.prototype.config=function(t,e){var i=this._config.findAll();"CesiumMap"==t&&i.hasOwnProperty("G2Map")&&(this._config.config("G2Map",void 0),this.updateCoordinateSystem(i,"CesiumMap","G2Map")),"G2Map"==t&&i.hasOwnProperty("CesiumMap")&&(this._config.config("CesiumMap",void 0),this.updateCoordinateSystem(i,"G2Map","CesiumMap")),this._config.config(t,e),this._overlay&&this._overlay.updateOverlay(this._config.findAll())},t.prototype.render=function(){var t=this.map,e=(this.dom,this._config.findAll());e.hasOwnProperty("CesiumMap")&&(this._overlay=new r.default(t,e)),e.hasOwnProperty("G2Map")&&(this._overlay=new n.default(t,e))},t.prototype.setData=function(t){for(var e=Object.keys(t[0]),i=[],r=0;r<t.length;r++){for(var n=t[r],o="",a=[],s=0;s<e.length;s++)o=n[e[0]],a=n[e[1]],1<s&&a.push(n[e[s]]);i.push({name:o,value:a})}this._config.config("series[0].data",i)},t.prototype.updateCoordinateSystem=function(t,e,i){for(var r=t.series,n=0;n<r.length;n++)r[n].hasOwnProperty("coordinateSystem")&&t.series[n].coordinateSystem==i&&this._config.config("series["+n+"].coordinateSystem",e)},t}();e.HeatmapChartMap=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=function(t){function e(e){void 0===e&&(e="4326");for(var i=t.call(this)||this,r=[],n=1;n<21;++n)r.push(n);return i.tianditu=new o.carto.TileLayer({name:"",layers:"vec",matrix:21,matrixSet:"c",matrixPrefix:"",format:"tiles",projection:"EPSG:"+e,layerType:1,tileType:102,opacity:1,visible:!0,crossOrigin:"anonymous",style:"default",extent:{minx:-180,miny:-90,maxx:180,maxy:90},url:"http://172.18.7.60/proxy/mapTiledProxy.ashx?http://t0.tianditu.gov.cn/vec_c/wmts?tk=4f62e1d82bd46e2ff470b291c2260156"}),i}return n(e,t),e.prototype.getLayer=function(){return this.tianditu},e.prototype.setSource=function(){},e.prototype.render=function(t,e,i){},e}(i(12).Layer);e.G2Tianditu=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=function(t){function e(e){void 0===e&&(e="4326");for(var i=t.call(this)||this,r=[],n=1;n<21;++n)r.push(n);return i.tiandituLabel=new o.carto.TileLayer({name:"",layers:"cva",matrixSet:"c",format:"tiles",projection:"EPSG:"+e,extent:{minx:-180,miny:-90,maxx:180,maxy:90},matrixPrefix:"",matrix:21,tileType:102,opacity:1,visible:!0,url:"http://172.18.7.60/proxy/mapTiledProxy.ashx?http://t0.tianditu.gov.cn/cva_c/wmts?tk=4f62e1d82bd46e2ff470b291c2260156"}),i}return n(e,t),e.prototype.getLayer=function(){return this.tiandituLabel},e.prototype.setSource=function(){},e.prototype.render=function(t,e,i){},e}(i(12).Layer);e.G2TiandituLabel=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(29),n=i(18),o=i(13),a=function(){function t(t,e,i){this.viewer=e,this.dom=i,this._config=new o.ChartConfig({animation:!1,CesiumMap:{},series:[{type:"scatter",itemStyle:{color:"rgba(0,44,251,0.7)",borderWidth:4,borderColor:"rgba(0,22,120,0.4)"}}]});var r=t.asArray();this.setData(r)}return t.prototype.findAll=function(){return this._config.findAll()},t.prototype.config=function(t,e){var i=this._config.findAll();"CesiumMap"==t&&i.hasOwnProperty("G2Map")&&(this._config.config("G2Map",void 0),this.updateCoordinateSystem(i,"CesiumMap","G2Map")),"G2Map"==t&&i.hasOwnProperty("CesiumMap")&&(this._config.config("CesiumMap",void 0),this.updateCoordinateSystem(i,"G2Map","CesiumMap")),this._config.config(t,e),this._overlay&&this._overlay.updateOverlay(this._config.findAll())},t.prototype.render=function(){var t=this.viewer,e=(this.dom,this._config.findAll());e.hasOwnProperty("CesiumMap")&&(this._overlay=new r.default(t,e)),e.hasOwnProperty("G2Map")&&(this._overlay=new n.default(t,e))},t.prototype.setData=function(t){for(var e=Object.keys(t[0]),i=[],r=0;r<t.length;r++){for(var n=t[r],o="",a=[],s=0;s<e.length;s++)o=n[e[0]],a=n[e[1]],1<s&&a.push(n[e[s]]);i.push({name:o,value:a})}this._config.config("series[0].data",i)},t.prototype.updateCoordinateSystem=function(t,e,i){for(var r=t.series,n=0;n<r.length;n++)r[n].hasOwnProperty("coordinateSystem")&&t.series[n].coordinateSystem==i&&this._config.config("series["+n+"].coordinateSystem",e)},t}();e.ScatterChartMap=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(29),n=i(18),o=i(13),a=function(){function t(t,e,i){this.map=e,this.dom=i,this._config=new o.ChartConfig({animation:!1,CesiumMap:{},tooltip:{},series:[{type:"lines",effect:{show:!0,period:4,trailLength:0,symbol:"arrow",symbolSize:5},lineStyle:{curveness:.3},coordinateSystem:"CesiumMap"},{type:"scatter",coordinateSystem:"CesiumMap"}]});var r=t.asArray();this.setData(r)}return t.prototype.findAll=function(){return this._config.findAll()},t.prototype.config=function(t,e){var i=this._config.findAll();"CesiumMap"==t&&i.hasOwnProperty("G2Map")&&(this._config.config("G2Map",void 0),this.updateCoordinateSystem(i,"CesiumMap","G2Map")),"G2Map"==t&&i.hasOwnProperty("CesiumMap")&&(this._config.config("CesiumMap",void 0),this.updateCoordinateSystem(i,"G2Map","CesiumMap")),this._config.config(t,e),this._overlay&&this._overlay.updateOverlay(this._config.findAll())},t.prototype.render=function(){var t=this.map,e=(this.dom,this._config.findAll());e.hasOwnProperty("CesiumMap")&&(this._overlay=new r.default(t,e)),e.hasOwnProperty("G2Map")&&(this._overlay=new n.default(t,e))},t.prototype.setData=function(t){for(var e=[],i=[],r={},n=0;n<t.length;n++){var o=t[n],a=o.name,s=o.value[2],l=[o.value[0],o.value[1]],h=o.value[3];e.push({fromName:a,toName:s,coords:[l,h]}),r.hasOwnProperty(a)||(r[a]=l),r.hasOwnProperty(s)||(r[s]=h)}for(var c in r)i.push({name:c,value:r[c]});this._config.config("series[0].data",e),this._config.config("series[1].data",i)},t.prototype.updateCoordinateSystem=function(t,e,i){for(var r=t.series,n=0;n<r.length;n++)r[n].hasOwnProperty("coordinateSystem")&&t.series[n].coordinateSystem==i&&this._config.config("series["+n+"].coordinateSystem",e)},t}();e.LinesScatterChartMap=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(29),n=i(18),o=i(13),a=function(){function t(t,e,i){this.map=e,this.dom=i,this._config=new o.ChartConfig({animation:!1,CesiumMap:{},series:[{type:"effectScatter",coordinateSystem:"CesiumMap",hoverAnimation:!0,showEffectOn:"render",rippleEffect:{brushType:"stroke"}}]});var r=t.asArray();this.setData(r)}return t.prototype.findAll=function(){return this._config.findAll()},t.prototype.config=function(t,e){var i=this._config.findAll();"CesiumMap"==t&&i.hasOwnProperty("G2Map")&&(this._config.config("G2Map",void 0),this.updateCoordinateSystem(i,"CesiumMap","G2Map")),"G2Map"==t&&i.hasOwnProperty("CesiumMap")&&(this._config.config("CesiumMap",void 0),this.updateCoordinateSystem(i,"G2Map","CesiumMap")),this._config.config(t,e),this._overlay&&this._overlay.updateOverlay(this._config.findAll())},t.prototype.render=function(){var t=this.map,e=(this.dom,this._config.findAll());e.hasOwnProperty("CesiumMap")&&(this._overlay=new r.default(t,e)),e.hasOwnProperty("G2Map")&&(this._overlay=new n.default(t,e))},t.prototype.setData=function(t){for(var e=Object.keys(t[0]),i=[],r=0;r<t.length;r++){for(var n=t[r],o="",a=[],s=0;s<e.length;s++)o=n[e[0]],a=n[e[1]],1<s&&a.push(n[e[s]]);i.push({name:o,value:a})}this._config.config("series[0].data",i)},t.prototype.updateCoordinateSystem=function(t,e,i){for(var r=t.series,n=0;n<r.length;n++)r[n].hasOwnProperty("coordinateSystem")&&t.series[n].coordinateSystem==i&&this._config.config("series["+n+"].coordinateSystem",e)},t}();e.EffectScatterChartMap=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(34),n=i(7),o=i(16),a=function(){function t(t,e,i,r,n,o){this.map=t,this.extent=e,this.geoPoints=i,this.distance=r,this.options=n,this.style=o,this.dom=document.createElement("canvas"),this.size=t.getViewSize(),this.createDom(t),this.bindEvent()}return t.prototype.drawCanvas=function(){var t=this.map.getResolution(),e=this.map.getExtent();0<this.extent.length&&(this.extent=[],this.extent.push(e.minx),this.extent.push(e.miny),this.extent.push(e.maxx),this.extent.push(e.maxy));var i=this.getNewData(this.geoPoints,this.distance,t);this.draw(this.extent,i,this.distance,t,this.style)},t.prototype.getCanvas=function(){return this.dom},t.prototype.bindEvent=function(){var t=this.map,e=this;t.getMap().map.on("pointerdrag",function(){e.drawCanvas()}),t.getMap().map.getView().on("change:resolution",function(){e.drawCanvas()}),t.getMap().map.on("moveend",function(){e.drawCanvas()})},t.prototype.getNewData=function(t,e,i){for(var r={},n=e*i,o=n*Math.sqrt(3),a=1.5*n,s=0;s<t.length;s++){var l=t[s],h=(l[1]-0)/a,c=Math.round(h),u=(l[0]-0)/o-(1&c?.5:0),p=Math.round(u),f=h-c;if(1<3*Math.abs(f)){var y=u-p,d=p+(u<p?-1:1)/2,v=c+(h<c?-1:1),g=u-d,m=h-v;g*g+m*m<y*y+f*f&&(p=d+(1&c?1:-1)/2,c=v)}var _=p+"-"+c,b=r[_];b?b.count++:((b=r[_]={}).count=1,b.i=p,b.j=c,b.x=(p+(1&c?.5:0))*o,b.y=c*a)}return r},t.prototype.getCountRange=function(t){var e=0,i=0,r=0;for(var n in t){var o=t[n].count;0==e&&(r=i=o),i<o&&(i=o),o<r&&(r=o),e++}return[r,i]},t.prototype.getColorByValue=function(t,e,i){var r=i[0];return e[1]!=e[0]&&(r=n.color.lerp((e[1]-t)/(e[1]-e[0]),i)),r},t.prototype.draw=function(t,e,i,a,s){var l=t[0]<t[2]?t[2]:t[0],h=t[0]<t[2]?t[0]:t[2],c=t[1]<t[3]?t[3]:t[1],u=t[1]<t[3]?t[1]:t[3],p=this.dom;p.getContext("2d").clearRect(0,0,p.width,p.height),p.height=(c-u)/a,p.width=(l-h)/a;var f=n.init(p);for(var y in e){var d=(e[y].x-h)/a,v=(c-e[y].y)/a,g=i*a,m=i/2,_=new r.RegularSix(d,v,m);null==s&&(s={}),s.text=e[y].count;var b=new o.Intensity({maxSize:g,gradient:this.options.gradient,max:this.options.max||100});s.fill=b.getColor(e[y].count),_.setAttr("style",s),f.add(_.getElement())}this.dom=p},t.prototype.createDom=function(t){var e=document.createElement("div"),i=t.getViewSize(),r=t.getMap().map.getViewport();e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width=i[0]+"px",e.style.height=i[1]+"px",e.setAttribute("class","echartMap"),r.appendChild(e),e.appendChild(this.dom);var n=new o.Intensity(this.options);this.legend=n.getLegend(this.options)},t}();e.HoneyCombChartMap=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ColorRange=function(){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(17),n=i(6),o=i(76),a=i(15),s=i(53),l=i(11),h=function(){function t(){}return t.creator=function(t){switch(t.mapType){case r.MapType.TSMap:return this.TSMapLayer(t);case r.MapType.TSGlobe:return this.TSGlobeLayer(t)}},t.TSMapLayer=function(t){var e=null;if(!t.chartType)return new o.TSMapLayer(t).createImageLayer();switch(t.chartType.layer){case 0:e=this.createTSLayer(t);break;case 1:e=this.createMapvLayer(t);break;case 2:e=this.createEchartsLayer(t)}return e},t.TSGlobeLayer=function(t){var e=null;if(!t.chartType)return new o.TSMapLayer(t).createImageLayer();switch(t.chartType.layer){case 0:e=this.createTSLayer(t);break;case 1:e=this.createMapvLayer(t);break;case 2:e=this.createEchartsLayer(t)}return e},t.createTSLayer=function(t){var e=null;switch(t.chartType.type){case n.MapVChartType.Boundary.type:e=new o.TSMapLayer(t).createFeatureLayer();break;case n.MapVChartType.Heat.type:e=new o.TSMapLayer(t).createHeatMapLayer();break;default:e=new o.TSMapLayer(t).createFeatureLayer()}return e},t.createMapvLayer=function(t){var e=null;switch(t.chartType.type){case n.MapVChartType.LineAnimation.type:var i=new s.CompositeLayer;i.add("line",new a.MapVLayer({map:t.map,mapType:t.mapType})),i.add("flowAnimation",new a.MapVLayer({map:t.map,mapType:t.mapType})),e=i;break;case n.MapVChartType.DynamicPoint.type:e=new a.MapVLayer({map:t.map,mapType:t.mapType});break;case n.MapVChartType.QianXi.type:var r=new s.CompositeLayer;r.add("line",new a.MapVLayer({map:t.map,mapType:t.mapType})),r.add("flowAnimation",new a.MapVLayer({map:t.map,mapType:t.mapType})),r.add("text",new a.MapVLayer({map:t.map,mapType:t.mapType})),e=r;break;default:e=new a.MapVLayer({map:t.map,mapType:t.mapType})}return e},t.createEchartsLayer=function(t){return t.chartType.type,new l.EChartsLayer({map:t.map,mapType:t.mapType})},t}();e.LayerCreator=h},function(t,e,i){(function(t){!function(e){"use strict";var i=function(t){t&&t.clearRect&&t.clearRect(0,0,t.canvas.width,t.canvas.height)};function r(){this._subscribers={}}r.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},r.prototype.off=function(t,e){var i=this._subscribers[t];if(i)for(var r=0;r<i.length;r++)i[r].callback==e&&(i.splice(r,1),r--)},r.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var r=[];t in this._subscribers&&(r=r.concat(this._subscribers[t])),"*"in this._subscribers&&(r=r.concat(this._subscribers["*"]));for(var n=0,o=r.length;n<o;n++){var a=r[n];a.callback&&a.callback(t,e,i||null)}};var n={municipalities:[{n:"",g:"116.395645,39.929986|12"},{n:"",g:"121.487899,31.249162|12"},{n:"",g:"117.210813,39.14393|12"},{n:"",g:"106.530635,29.544606|12"}],provinces:[{n:"",g:"117.216005,31.859252|8",cities:[{n:"",g:"117.282699,31.866942|12"},{n:"",g:"117.058739,30.537898|13"},{n:"",g:"117.35708,32.929499|13"},{n:"",g:"115.787928,33.871211|13"},{n:"",g:"117.88049,31.608733|13"},{n:"",g:"117.494477,30.660019|14"},{n:"",g:"118.32457,32.317351|13"},{n:"",g:"115.820932,32.901211|13"},{n:"",g:"116.791447,33.960023|13"},{n:"",g:"117.018639,32.642812|13"},{n:"",g:"118.29357,29.734435|13"},{n:"",g:"116.505253,31.755558|13"},{n:"",g:"118.515882,31.688528|13"},{n:"",g:"116.988692,33.636772|13"},{n:"",g:"117.819429,30.94093|14"},{n:"",g:"118.384108,31.36602|12"},{n:"",g:"118.752096,30.951642|13"}]},{n:"",g:"117.984943,26.050118|8",cities:[{n:"",g:"119.330221,26.047125|12"},{n:"",g:"117.017997,25.078685|13"},{n:"",g:"118.181883,26.643626|13"},{n:"",g:"119.542082,26.656527|14"},{n:"",g:"119.077731,25.44845|13"},{n:"",g:"118.600362,24.901652|12"},{n:"",g:"117.642194,26.270835|14"},{n:"",g:"118.103886,24.489231|12"},{n:"",g:"117.676205,24.517065|12"}]},{n:"",g:"102.457625,38.103267|6",cities:[{n:"",g:"103.823305,36.064226|12"},{n:"",g:"104.171241,36.546682|13"},{n:"",g:"104.626638,35.586056|13"},{n:"",g:"102.917442,34.992211|14"},{n:"",g:"98.281635,39.802397|13"},{n:"",g:"102.208126,38.516072|13"},{n:"",g:"98.508415,39.741474|13"},{n:"",g:"103.215249,35.598514|13"},{n:"",g:"104.934573,33.39448|14"},{n:"",g:"106.688911,35.55011|13"},{n:"",g:"107.644227,35.726801|13"},{n:"",g:"105.736932,34.584319|13"},{n:"",g:"102.640147,37.933172|13"},{n:"",g:"100.459892,38.93932|13"}]},{n:"",g:"113.394818,23.408004|8",cities:[{n:"",g:"113.30765,23.120049|12"},{n:"",g:"116.630076,23.661812|13"},{n:"",g:"113.763434,23.043024|12"},{n:"",g:"113.134026,23.035095|13"},{n:"",g:"114.713721,23.757251|12"},{n:"",g:"114.410658,23.11354|12"},{n:"",g:"113.078125,22.575117|13"},{n:"",g:"116.379501,23.547999|13"},{n:"",g:"110.931245,21.668226|13"},{n:"",g:"116.126403,24.304571|13"},{n:"",g:"113.040773,23.698469|13"},{n:"",g:"116.72865,23.383908|13"},{n:"",g:"115.372924,22.778731|14"},{n:"",g:"113.594461,24.80296|13"},{n:"",g:"114.025974,22.546054|12"},{n:"",g:"111.97701,21.871517|14"},{n:"",g:"112.050946,22.937976|13"},{n:"",g:"110.365067,21.257463|13"},{n:"",g:"112.479653,23.078663|13"},{n:"",g:"113.42206,22.545178|12"},{n:"",g:"113.562447,22.256915|13"}]},{n:"",g:"108.924274,23.552255|7",cities:[{n:"",g:"108.297234,22.806493|12"},{n:"",g:"106.631821,23.901512|13"},{n:"",g:"109.122628,21.472718|13"},{n:"",g:"107.357322,22.415455|14"},{n:"",g:"108.351791,21.617398|15"},{n:"",g:"110.26092,25.262901|12"},{n:"",g:"109.613708,23.103373|13"},{n:"",g:"108.069948,24.699521|14"},{n:"",g:"111.552594,24.411054|14"},{n:"",g:"109.231817,23.741166|14"},{n:"",g:"109.422402,24.329053|12"},{n:"",g:"108.638798,21.97335|13"},{n:"",g:"111.305472,23.485395|13"},{n:"",g:"110.151676,22.643974|14"}]},{n:"",g:"106.734996,26.902826|8",cities:[{n:"",g:"106.709177,26.629907|12"},{n:"",g:"105.92827,26.228595|13"},{n:"",g:"105.300492,27.302612|14"},{n:"",g:"104.852087,26.591866|13"},{n:"",g:"109.196161,27.726271|14"},{n:"",g:"106.93126,27.699961|13"},{n:"",g:"104.900558,25.095148|11"},{n:"",g:"107.985353,26.583992|11"},{n:"",g:"107.523205,26.264536|11"}]},{n:"",g:"109.733755,19.180501|9",cities:[{n:"",g:"110.330802,20.022071|13"},{n:"",g:"109.358586,19.216056|12"},{n:"",g:"109.656113,18.597592|12"},{n:"",g:"109.0113,19.222483|12"},{n:"",g:"109.413973,19.571153|13"},{n:"",g:"109.996736,19.693135|13"},{n:"",g:"108.85101,18.998161|13"},{n:"",g:"110.32009,19.490991|13"},{n:"",g:"110.414359,19.21483|13"},{n:"",g:"109.861849,19.039771|12"},{n:"",g:"109.062698,18.658614|12"},{n:"",g:"109.724101,19.805922|13"},{n:"",g:"109.948661,18.575985|12"},{n:"",g:"109.522771,18.257776|12"},{n:"",g:"110.063364,19.347749|13"},{n:"",g:"110.292505,18.839886|13"},{n:"",g:"110.780909,19.750947|13"},{n:"",g:"109.51775,18.831306|13"}]},{n:"",g:"115.661434,38.61384|7",cities:[{n:"",g:"114.522082,38.048958|12"},{n:"",g:"115.49481,38.886565|13"},{n:"",g:"116.863806,38.297615|13"},{n:"",g:"117.933822,40.992521|14"},{n:"",g:"114.482694,36.609308|13"},{n:"",g:"115.686229,37.746929|13"},{n:"",g:"116.703602,39.518611|13"},{n:"",g:"119.604368,39.945462|12"},{n:"",g:"118.183451,39.650531|13"},{n:"",g:"114.520487,37.069531|13"},{n:"",g:"114.893782,40.811188|13"}]},{n:"",g:"113.486804,34.157184|7",cities:[{n:"",g:"113.649644,34.75661|12"},{n:"",g:"114.351807,36.110267|12"},{n:"",g:"114.29777,35.755426|13"},{n:"",g:"113.211836,35.234608|13"},{n:"",g:"114.351642,34.801854|13"},{n:"",g:"112.447525,34.657368|12"},{n:"",g:"114.046061,33.576279|13"},{n:"",g:"112.542842,33.01142|13"},{n:"",g:"113.300849,33.745301|13"},{n:"",g:"115.026627,35.753298|12"},{n:"",g:"111.181262,34.78332|13"},{n:"",g:"115.641886,34.438589|13"},{n:"",g:"113.91269,35.307258|13"},{n:"",g:"114.085491,32.128582|13"},{n:"",g:"113.835312,34.02674|13"},{n:"",g:"114.654102,33.623741|13"},{n:"",g:"114.049154,32.983158|13"}]},{n:"",g:"128.047414,47.356592|6",cities:[{n:"",g:"126.657717,45.773225|12"},{n:"",g:"125.02184,46.596709|12"},{n:"",g:"124.196104,51.991789|10"},{n:"",g:"130.292472,47.338666|13"},{n:"",g:"127.50083,50.25069|14"},{n:"",g:"130.941767,45.32154|13"},{n:"",g:"130.284735,46.81378|12"},{n:"",g:"129.608035,44.588521|13"},{n:"",g:"131.019048,45.775005|14"},{n:"",g:"123.987289,47.3477|13"},{n:"",g:"131.171402,46.655102|13"},{n:"",g:"126.989095,46.646064|13"},{n:"",g:"128.910766,47.734685|14"}]},{n:"",g:"112.410562,31.209316|8",cities:[{n:"",g:"114.3162,30.581084|12"},{n:"",g:"114.895594,30.384439|14"},{n:"",g:"109.517433,30.308978|14"},{n:"",g:"114.906618,30.446109|14"},{n:"",g:"115.050683,30.216127|13"},{n:"",g:"112.21733,31.042611|13"},{n:"",g:"112.241866,30.332591|12"},{n:"",g:"112.768768,30.343116|13"},{n:"",g:"110.487231,31.595768|13"},{n:"",g:"110.801229,32.636994|13"},{n:"",g:"113.379358,31.717858|13"},{n:"",g:"113.12623,30.649047|13"},{n:"",g:"113.387448,30.293966|13"},{n:"",g:"114.300061,29.880657|13"},{n:"",g:"112.176326,32.094934|12"},{n:"",g:"113.935734,30.927955|13"},{n:"",g:"111.310981,30.732758|13"}]},{n:"",g:"111.720664,27.695864|7",cities:[{n:"",g:"112.979353,28.213478|12"},{n:"",g:"111.653718,29.012149|12"},{n:"",g:"113.037704,25.782264|13"},{n:"",g:"112.583819,26.898164|13"},{n:"",g:"109.986959,27.557483|13"},{n:"",g:"111.996396,27.741073|13"},{n:"",g:"111.461525,27.236811|13"},{n:"",g:"112.935556,27.835095|13"},{n:"",g:"109.745746,28.317951|14"},{n:"",g:"112.366547,28.588088|13"},{n:"",g:"111.614648,26.435972|13"},{n:"",g:"113.146196,29.378007|13"},{n:"",g:"110.48162,29.124889|13"},{n:"",g:"113.131695,27.827433|13"}]},{n:"",g:"119.368489,33.013797|8",cities:[{n:"",g:"118.778074,32.057236|12"},{n:"",g:"119.981861,31.771397|12"},{n:"",g:"119.030186,33.606513|12"},{n:"",g:"119.173872,34.601549|12"},{n:"",g:"120.873801,32.014665|12"},{n:"",g:"120.619907,31.317987|12"},{n:"",g:"118.296893,33.95205|13"},{n:"",g:"119.919606,32.476053|13"},{n:"",g:"120.305456,31.570037|12"},{n:"",g:"117.188107,34.271553|12"},{n:"",g:"120.148872,33.379862|12"},{n:"",g:"119.427778,32.408505|13"},{n:"",g:"119.455835,32.204409|13"}]},{n:"",g:"115.676082,27.757258|7",cities:[{n:"",g:"115.893528,28.689578|12"},{n:"",g:"116.360919,27.954545|13"},{n:"",g:"114.935909,25.845296|13"},{n:"",g:"114.992039,27.113848|13"},{n:"",g:"117.186523,29.303563|12"},{n:"",g:"115.999848,29.71964|13"},{n:"",g:"113.859917,27.639544|13"},{n:"",g:"117.955464,28.457623|13"},{n:"",g:"114.947117,27.822322|13"},{n:"",g:"114.400039,27.81113|13"},{n:"",g:"117.03545,28.24131|13"}]},{n:"",g:"126.262876,43.678846|7",cities:[{n:"",g:"125.313642,43.898338|12"},{n:"",g:"122.840777,45.621086|13"},{n:"",g:"126.435798,41.945859|13"},{n:"",g:"126.564544,43.871988|12"},{n:"",g:"125.133686,42.923303|13"},{n:"",g:"124.391382,43.175525|12"},{n:"",g:"124.832995,45.136049|13"},{n:"",g:"125.94265,41.736397|13"},{n:"",g:"129.485902,42.896414|13"}]},{n:"",g:"122.753592,41.6216|8",cities:[{n:"",g:"123.432791,41.808645|12"},{n:"",g:"123.007763,41.118744|13"},{n:"",g:"123.778062,41.325838|12"},{n:"",g:"120.446163,41.571828|13"},{n:"",g:"121.593478,38.94871|12"},{n:"",g:"124.338543,40.129023|12"},{n:"",g:"123.92982,41.877304|12"},{n:"",g:"121.660822,42.01925|14"},{n:"",g:"120.860758,40.74303|13"},{n:"",g:"121.147749,41.130879|13"},{n:"",g:"123.172451,41.273339|14"},{n:"",g:"122.073228,41.141248|13"},{n:"",g:"123.85485,42.299757|13"},{n:"",g:"122.233391,40.668651|13"}]},{n:"",g:"114.415868,43.468238|5",cities:[{n:"",g:"111.660351,40.828319|12"},{n:"",g:"105.695683,38.843075|14"},{n:"",g:"109.846239,40.647119|12"},{n:"",g:"107.423807,40.76918|12"},{n:"",g:"118.930761,42.297112|12"},{n:"",g:"109.993706,39.81649|12"},{n:"",g:"119.760822,49.201636|12"},{n:"",g:"122.260363,43.633756|12"},{n:"",g:"106.831999,39.683177|13"},{n:"",g:"113.112846,41.022363|12"},{n:"",g:"116.02734,43.939705|11"},{n:"",g:"122.048167,46.083757|11"}]},{n:"",g:"106.155481,37.321323|8",cities:[{n:"",g:"106.206479,38.502621|12"},{n:"",g:"106.285268,36.021523|13"},{n:"",g:"106.379337,39.020223|13"},{n:"",g:"106.208254,37.993561|14"},{n:"",g:"105.196754,37.521124|14"}]},{n:"",g:"96.202544,35.499761|7",cities:[{n:"",g:"101.767921,36.640739|12"},{n:"",g:"100.223723,34.480485|11"},{n:"",g:"102.085207,36.51761|11"},{n:"",g:"100.879802,36.960654|11"},{n:"",g:"100.624066,36.284364|11"},{n:"",g:"97.342625,37.373799|11"},{n:"",g:"102.0076,35.522852|11"},{n:"",g:"97.013316,33.00624|14"}]},{n:"",g:"118.527663,36.09929|8",cities:[{n:"",g:"117.024967,36.682785|12"},{n:"",g:"117.968292,37.405314|12"},{n:"",g:"118.583926,37.487121|12"},{n:"",g:"116.328161,37.460826|12"},{n:"",g:"115.46336,35.26244|13"},{n:"",g:"116.600798,35.402122|13"},{n:"",g:"117.684667,36.233654|13"},{n:"",g:"115.986869,36.455829|12"},{n:"",g:"118.340768,35.072409|12"},{n:"",g:"120.384428,36.105215|12"},{n:"",g:"119.50718,35.420225|12"},{n:"",g:"117.089415,36.188078|13"},{n:"",g:"122.093958,37.528787|13"},{n:"",g:"119.142634,36.716115|12"},{n:"",g:"121.309555,37.536562|12"},{n:"",g:"117.279305,34.807883|13"},{n:"",g:"118.059134,36.804685|12"}]},{n:"",g:"112.515496,37.866566|7",cities:[{n:"",g:"112.550864,37.890277|12"},{n:"",g:"113.120292,36.201664|12"},{n:"",g:"113.290509,40.113744|12"},{n:"",g:"112.867333,35.499834|13"},{n:"",g:"112.738514,37.693362|13"},{n:"",g:"111.538788,36.099745|13"},{n:"",g:"111.143157,37.527316|14"},{n:"",g:"112.479928,39.337672|13"},{n:"",g:"112.727939,38.461031|12"},{n:"",g:"113.569238,37.869529|13"},{n:"",g:"111.006854,35.038859|13"}]},{n:"",g:"109.503789,35.860026|7",cities:[{n:"",g:"108.953098,34.2778|12"},{n:"",g:"109.038045,32.70437|13"},{n:"",g:"107.170645,34.364081|12"},{n:"",g:"107.045478,33.081569|13"},{n:"",g:"109.934208,33.873907|13"},{n:"",g:"108.968067,34.908368|13"},{n:"",g:"109.483933,34.502358|13"},{n:"",g:"108.707509,34.345373|13"},{n:"",g:"109.50051,36.60332|13"},{n:"",g:"109.745926,38.279439|12"}]},{n:"",g:"102.89916,30.367481|7",cities:[{n:"",g:"104.067923,30.679943|12"},{n:"",g:"102.228565,31.905763|15"},{n:"",g:"106.757916,31.869189|14"},{n:"",g:"107.494973,31.214199|14"},{n:"",g:"104.402398,31.13114|13"},{n:"",g:"101.969232,30.055144|15"},{n:"",g:"106.63572,30.463984|13"},{n:"",g:"105.819687,32.44104|13"},{n:"",g:"103.760824,29.600958|13"},{n:"",g:"102.259591,27.892393|14"},{n:"",g:"105.44397,28.89593|14"},{n:"",g:"106.105554,30.800965|13"},{n:"",g:"103.84143,30.061115|13"},{n:"",g:"104.705519,31.504701|12"},{n:"",g:"105.073056,29.599462|13"},{n:"",g:"101.722423,26.587571|14"},{n:"",g:"105.564888,30.557491|12"},{n:"",g:"103.009356,29.999716|13"},{n:"",g:"104.633019,28.769675|13"},{n:"",g:"104.63593,30.132191|13"},{n:"",g:"104.776071,29.359157|13"}]},{n:"",g:"89.137982,31.367315|6",cities:[{n:"",g:"91.111891,29.662557|13"},{n:"",g:"81.107669,30.404557|11"},{n:"",g:"97.185582,31.140576|15"},{n:"",g:"94.349985,29.666941|11"},{n:"",g:"92.067018,31.48068|14"},{n:"",g:"88.891486,29.269023|14"},{n:"",g:"91.750644,29.229027|11"}]},{n:"",g:"85.614899,42.127001|6",cities:[{n:"",g:"87.564988,43.84038|12"},{n:"",g:"81.291737,40.61568|13"},{n:"",g:"80.269846,41.171731|12"},{n:"",g:"88.137915,47.839744|13"},{n:"",g:"86.121688,41.771362|12"},{n:"",g:"82.052436,44.913651|11"},{n:"",g:"87.296038,44.007058|13"},{n:"",g:"93.528355,42.858596|13"},{n:"",g:"79.930239,37.116774|13"},{n:"",g:"75.992973,39.470627|12"},{n:"",g:"84.88118,45.594331|13"},{n:"",g:"76.137564,39.750346|11"},{n:"",g:"86.041865,44.308259|13"},{n:"",g:"82.974881,46.758684|12"},{n:"",g:"79.198155,39.889223|13"},{n:"",g:"89.181595,42.96047|13"},{n:"",g:"87.565449,44.368899|13"},{n:"",g:"81.297854,43.922248|11"}]},{n:"",g:"101.592952,24.864213|7",cities:[{n:"",g:"102.714601,25.049153|12"},{n:"",g:"99.177996,25.120489|13"},{n:"",g:"101.529382,25.066356|13"},{n:"",g:"100.223675,25.5969|14"},{n:"",g:"98.589434,24.44124|14"},{n:"",g:"99.713682,27.831029|14"},{n:"",g:"103.384065,23.367718|11"},{n:"",g:"100.229628,26.875351|13"},{n:"",g:"100.092613,23.887806|14"},{n:"",g:"98.859932,25.860677|14"},{n:"",g:"100.980058,22.788778|14"},{n:"",g:"103.782539,25.520758|12"},{n:"",g:"103.725021,27.340633|13"},{n:"",g:"104.089112,23.401781|14"},{n:"",g:"100.803038,22.009433|13"},{n:"",g:"102.545068,24.370447|13"}]},{n:"",g:"119.957202,29.159494|8",cities:[{n:"",g:"120.219375,30.259244|12"},{n:"",g:"120.137243,30.877925|12"},{n:"",g:"120.760428,30.773992|13"},{n:"",g:"119.652576,29.102899|12"},{n:"",g:"119.929576,28.4563|13"},{n:"",g:"121.579006,29.885259|12"},{n:"",g:"118.875842,28.95691|12"},{n:"",g:"120.592467,30.002365|13"},{n:"",g:"121.440613,28.668283|13"},{n:"",g:"120.690635,28.002838|12"},{n:"",g:"122.169872,30.03601|13"}]}],other:[{n:"",g:"114.186124,22.293586|11"},{n:"",g:"113.557519,22.204118|13"},{n:"",g:"120.961454,23.80406|8"}]};function o(t){var e=t.split("|");return e[0]=e[0].split(","),{lng:parseFloat(e[0][0]),lat:parseFloat(e[0][1])}}var a={getProvinceNameByCityName:function(t){for(var e=n.provinces,i=0;i<e.length;i++)for(var r=e[i].n,o=e[i].cities,a=0;a<o.length;a++)if(o[a].n==t)return r;return null},getCenterByCityName:function(t){t=t.replace("","");for(var e=0;e<n.municipalities.length;e++)if(n.municipalities[e].n==t)return o(n.municipalities[e].g);for(e=0;e<n.other.length;e++)if(n.other[e].n==t)return o(n.other[e].g);var i=n.provinces;for(e=0;e<i.length;e++){if(i[e].n==t)return o(i[e].g);for(var r=i[e].cities,a=0;a<r.length;a++)if(r[a].n==t)return o(r[a].g)}return null}},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),h=function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},c=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};function p(t,e){r.bind(this)(),this._options=e||{},this._data=[],t&&this.add(t)}(p.prototype=r.prototype).add=function(t,e){if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++){if(t[i].time&&14==t[i].time.length&&"20"==t[i].time.substr(0,2)){var n=t[i].time;t[i].time=new Date(n.substr(0,4)+"-"+n.substr(4,2)+"-"+n.substr(6,2)+" "+n.substr(8,2)+":"+n.substr(10,2)+":"+n.substr(12,2)).getTime()}this._data.push(t[i])}else{if(!(t instanceof Object))throw new Error("Unknown dataType");this._data.push(t)}this._dataCache=JSON.parse(JSON.stringify(this._data))},p.prototype.reset=function(){this._data=JSON.parse(JSON.stringify(this._dataCache))},p.prototype.get=function(t){t=t||{},new Date;var e=this._data;if(new Date,t.filter){for(var i=[],r=0;r<e.length;r++)t.filter(e[r])&&i.push(e[r]);e=i}return t.transferCoordinate&&(e=this.transferCoordinate(e,t.transferCoordinate,t.fromColumn,t.toColumn)),e},p.prototype.set=function(t){this._set(t),this._trigger("change")},p.prototype._set=function(t){this.clear(),this.add(t)},p.prototype.clear=function(t){this._data=[]},p.prototype.remove=function(t){},p.prototype.update=function(t,e){for(var i=this._data,r=0;r<i.length;r++)if(e){var n=!0;for(var o in e)i[r][o]!=e[o]&&(n=!1);n&&t&&t(i[r])}else t&&t(i[r]);this._dataCache=JSON.parse(JSON.stringify(this._data)),this._trigger("change")},p.prototype.transferCoordinate=function(t,e,i,r){r=r||"_coordinates",i=i||"coordinates";for(var n=0;n<t.length;n++){var o=t[n].geometry,a=o[i];switch(o.type){case"Point":o[r]=e(a);break;case"LineString":for(var s=[],l=0;l<a.length;l++)s.push(e(a[l]));o[r]=s;break;case"MultiLineString":case"Polygon":s=u(a);o[r]=s;break;case"MultiPolygon":s=[];for(var h=0;h<a.length;h++){var c=u(c=a[h]);s.push(c)}o[r]=s}}function u(t){for(var i=[],r=0;r<t.length;r++){for(var n=t[r],o=[],a=0;a<n.length;a++)o.push(e(n[a]));i.push(o)}return i}return t},p.prototype.initGeometry=function(t){t?this._data.forEach(function(e){e.geometry=t(e)}):this._data.forEach(function(t){if(!t.geometry)if(t.lng&&t.lat)t.geometry={type:"Point",coordinates:[t.lng,t.lat]};else if(t.city){var e=a.getCenterByCityName(t.city);e&&(t.geometry={type:"Point",coordinates:[e.lng,e.lat]})}})},p.prototype.getMax=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var i=parseFloat(e[0][t]),r=1;r<e.length;r++){var n=parseFloat(e[r][t]);i<n&&(i=n)}return i}},p.prototype.getSum=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var i=0,r=0;r<e.length;r++)e[r][t]&&(i+=parseFloat(e[r][t]));return i}},p.prototype.getMin=function(t){var e=this._data;if(e&&!(e.length<=0)){for(var i=parseFloat(e[0][t]),r=1;r<e.length;r++){var n=parseFloat(e[r][t]);n<i&&(i=n)}return i}},p.prototype.getUnique=function(t){if((r=this._data)&&!(r.length<=0)){for(var e={},i=1;i<r.length;i++)e[r[i][t]]=!0;var r=[];for(var n in e)r.push(n);return r}};var f={drawDataSet:function(t,e,i){for(var r=e instanceof p?e.get():e,n=0,o=r.length;n<o;n++){var a=r[n];this.draw(t,a,i)}},draw:function(t,e,i){var r=e.geometry.type,n=e.geometry._coordinates||e.geometry.coordinates,o=i.symbol||"circle";switch(r){case"Point":var a=e._size||e.size||i._size||i.size||5;"circle"===o?("Point"===i.bigData&&t.moveTo(n[0],n[1]),t.arc(n[0],n[1],a,0,2*Math.PI)):"rect"===o?t.rect(n[0]-a/2,n[1]-a/2,a,a):"honeycomb"===o&&function(t,e,i,r){for(var n=0;n<6;n++){var o=(a={x:e,y:i},s=r,l=60*n+30,h=Math.PI/180*l,[a.x+s*Math.cos(h),a.y+s*Math.sin(h)]);t.lineTo(o[0],o[1])}var a,s,l,h}(t,n[0],n[1],a);break;case"LineString":this.drawLineString(t,n);break;case"MultiLineString":for(var s=0;s<n.length;s++){var l=n[s];this.drawLineString(t,l)}break;case"Polygon":this.drawPolygon(t,n);break;case"MultiPolygon":for(s=0;s<n.length;s++){var h=n[s];this.drawPolygon(t,h),i.multiPolygonDraw&&i.multiPolygonDraw()}break;default:console.error("type"+r+"is not support now!")}},drawLineString:function(t,e){for(var i=0;i<e.length;i++){var r=e[i][0],n=e[i][1];0==i?t.moveTo(r,n):t.lineTo(r,n)}},drawPolygon:function(t,e){t.beginPath();for(var i=0;i<e.length;i++){var r=e[i];t.moveTo(r[0][0],r[0][1]);for(var n=1;n<r.length;n++)t.lineTo(r[n][0],r[n][1]);t.lineTo(r[0][0],r[0][1]),t.closePath()}}},y={draw:function(t,e,i){var r=e instanceof p?e.get():e;for(var n in t.save(),i)t[n]=i[n];if(i.bigData){t.save(),t.beginPath();for(var o=0,a=r.length;o<a;o++){var s=r[o];f.draw(t,s,i)}"Point"==(l=i.bigData)||"Polygon"==l||"MultiPolygon"==l?(t.fill(),t.lineDash&&t.setLineDash(t.lineDash),s.lineDash&&t.setLineDash(s.lineDash),(s.strokeStyle||i.strokeStyle)&&i.lineWidth&&t.stroke()):"LineString"!=l&&"MultiLineString"!=l||t.stroke(),t.restore()}else for(o=0,a=r.length;o<a;o++){s=r[o];t.save(),(s.fillStyle||s._fillStyle)&&(t.fillStyle=s.fillStyle||s._fillStyle),(s.strokeStyle||s._strokeStyle)&&(t.strokeStyle=s.strokeStyle||s._strokeStyle),t.lineDash&&t.setLineDash(t.lineDash),s.lineDash&&t.setLineDash(s.lineDash);var l=s.geometry.type;t.beginPath(),i.multiPolygonDraw=function(){t.fill(),(s.strokeStyle||i.strokeStyle)&&i.lineWidth&&t.stroke()},f.draw(t,s,i),"Point"==l||"Polygon"==l||"MultiPolygon"==l?(t.fill(),(s.strokeStyle||i.strokeStyle)&&i.lineWidth&&t.stroke()):"LineString"!=l&&"MultiLineString"!=l||((s.lineWidth||s._lineWidth)&&(t.lineWidth=s.lineWidth||s._lineWidth),t.stroke()),t.restore()}t.restore()}};function d(t,e){if("undefined"==typeof document);else{var i=document.createElement("canvas");t&&(i.width=t),e&&(i.height=e)}return i}function v(t){t=t||{},this.gradient=t.gradient||{.25:"rgba(0, 0, 255, 1)",.55:"rgba(0, 255, 0, 1)",.85:"rgba(255, 255, 0, 1)",1:"rgba(255, 0, 0, 1)"},this.maxSize=t.maxSize||35,this.minSize=t.minSize||0,this.max=t.max||100,this.min=t.min||0,this.initPalette()}v.prototype.setMax=function(t){this.max=t||100},v.prototype.setMin=function(t){this.min=t||0},v.prototype.setMaxSize=function(t){this.maxSize=t||35},v.prototype.setMinSize=function(t){this.minSize=t||0},v.prototype.initPalette=function(){var t=this.gradient,e=new d(256,1),i=this.paletteCtx=e.getContext("2d"),r=i.createLinearGradient(0,0,256,1);for(var n in t)r.addColorStop(parseFloat(n),t[n]);i.fillStyle=r,i.fillRect(0,0,256,1)},v.prototype.getColor=function(t){var e=this.getImageData(t);return"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]/256+")"},v.prototype.getImageData=function(t){var e=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===t)return e;var i=this.max,r=this.min;i<t&&(t=i),t<r&&(t=r);var n=4*Math.floor((t-r)/(i-r)*255)||1020;return[e[n],e[n+1],e[n+2],e[n+3]]},v.prototype.getSize=function(t){var e=this.max,i=this.min,r=this.maxSize,n=this.minSize;return e<t&&(t=e),t<i&&(t=i),i<e?n+(t-i)/(e-i)*(r-n):r},v.prototype.getLegend=function(t){var e=this.gradient,i=t.width||20,r=t.height||180,n=new d(i,r),o=n.getContext("2d"),a=o.createLinearGradient(0,r,0,0);for(var s in e)a.addColorStop(parseFloat(s),e[s]);return o.fillStyle=a,o.fillRect(0,0,i,r),n};var g=("undefined"==typeof window?{}:window).devicePixelRatio||1;function m(t){return t.max||100}function _(t){return t.min||0}var b={draw:function(t,e,i){if(!(t.canvas.width<=0||t.canvas.height<=0)){var r=i.strength||.3;t.strokeStyle="rgba(0,0,0,"+r+")";var n=new d(t.canvas.width,t.canvas.height),o=n.getContext("2d");o.scale(g,g),i=i||{};var a=e instanceof p?e.get():e;t.save();var s=new v({gradient:i.gradient});if(function(t,e,i){var r=m(i),n=_(i),o=i._size;null==o&&null==(o=i.size)&&(o=13);var a,s,l,h,c,u=new v({gradient:i.gradient,max:r,min:n}),p=((c=(h=new d(2*(l=(a=o)+(s=a/2)),2*l)).getContext("2d")).shadowBlur=s,c.shadowColor="black",c.shadowOffsetX=c.shadowOffsetY=1e4,c.beginPath(),c.arc(l-1e4,l-1e4,a,0,2*Math.PI,!0),c.closePath(),c.fill(),h),y=p.width/2,g=p.height/2,b=e,x={};for(var w in b.forEach(function(t,e){var i=void 0===t.count?1:t.count,n=Math.min(1,i/r).toFixed(2);x[n]=x[n]||[],x[n].push(t)}),x)if(!isNaN(w)){var S=x[w];t.beginPath(),i.withoutAlpha||(t.globalAlpha=w),t.strokeStyle=u.getColor(w*r),S.forEach(function(e,n){if(e.geometry){var o=e.geometry._coordinates||e.geometry.coordinates,a=e.geometry.type;if("Point"===a){var s=void 0===e.count?1:e.count;t.globalAlpha=s/r,t.drawImage(p,o[0]-y,o[1]-g)}else"LineString"===a&&(s=void 0===e.count?1:e.count,t.globalAlpha=s/r,t.beginPath(),f.draw(t,e,i),t.stroke())}})}}(o,a,i),!i.absolute){var l=o.getImageData(0,0,t.canvas.width,t.canvas.height);(function(t,e,i){var r=m(i),n=_(i),o=r-n,a=0,s=1024;(c=i.range||null)&&2===c.length&&(a=(c[0]-n)/o*1024),c&&2===c.length&&(s=(c[1]-n)/o*1024);for(var l,h=i.maxOpacity||.8,c=i.range,u=3,p=t.length;u<p;u+=4)l=4*t[u],t[u]/256>h&&(t[u]=256*h),l&&a<=l&&l<=s?(t[u-3]=e[l],t[u-2]=e[l+1],t[u-1]=e[l+2]):t[u]=0})(l.data,s.getImageData(),i),t.putImageData(l,0,0),t.restore()}n=s=null}}},x={draw:function(t,e,i){t.save();for(var r=e instanceof p?e.get():e,n={},o=i._size||i.size||50,a=i.offset||{x:0,y:0},s=0;s<r.length;s++){var l=r[s].geometry._coordinates||r[s].geometry.coordinates;n[c=Math.floor((l[0]-a.x)/o)+","+Math.floor((l[1]-a.y)/o)]||(n[c]=0),n[c]+=~~(r[s].count||1)}var h=new v({min:i.min||0,max:i.max||100,gradient:i.gradient});for(var c in n)c=c.split(","),t.beginPath(),t.rect(c[0]*o+.5+a.x,c[1]*o+.5+a.y,o,o),t.fillStyle=h.getColor(n[c]),t.fill(),i.strokeStyle&&i.lineWidth&&t.stroke();if(i.label&&!1!==i.label.show)for(var c in t.fillStyle=i.label.fillStyle||"white",i.label.font&&(t.font=i.label.font),i.label.shadowColor&&(t.shadowColor=i.label.shadowColor),i.label.shadowBlur&&(t.shadowBlur=i.label.shadowBlur),n){var u=n[c=c.split(",")],f=t.measureText(u).width;t.fillText(u,c[0]*o+.5+a.x+o/2-f/2,c[1]*o+.5+a.y+o/2+5)}t.restore()}},w={draw:function(t,e,i){t.save();var r=e instanceof p?e.get():e;for(var n in i)t[n]=i[n];for(var o=i.offset||{x:10,y:10},a=i._size||i.size||40,s=2*(a=a/2/Math.sin(Math.PI/3))*Math.sin(Math.PI/3),l=1.5*a,h={},c=0;c<r.length;c++){var u=r[c].geometry._coordinates||r[c].geometry.coordinates,f=(u[1]-o.y)/l,y=Math.round(f),d=(u[0]-o.x)/s-(1&y?.5:0),g=Math.round(d),m=f-y;if(1<3*Math.abs(m)){var _=d-g,b=g+(d<g?-1:1)/2,x=y+(f<y?-1:1),w=d-b,S=f-x;w*w+S*S<_*_+m*m&&(g=b+(1&y?1:-1)/2,y=x)}var C=g+"-"+y,O=h[C];O?O.push(r[c]):((O=h[C]=[r[c]]).i=g,O.j=y,O.x=(g+(1&y?.5:0))*s,O.y=y*l)}var P,L,T,A,M=new v({max:i.max||100,maxSize:a,gradient:i.gradient});for(var n in h){var k=h[n];t.beginPath();for(var E=0;E<6;E++){var D=(P={x:k.x+o.x,y:k.y+o.y},L=a,T=60*E+30,A=Math.PI/180*T,[P.x+L*Math.cos(A),P.y+L*Math.sin(A)]);t.lineTo(D[0],D[1])}t.closePath();var z=0;for(c=0;c<k.length;c++)z+=k[c].count||1;k.count=z,t.fillStyle=M.getColor(z),t.fill(),i.strokeStyle&&i.lineWidth&&t.stroke()}if(i.label&&!1!==i.label.show)for(var n in t.fillStyle=i.label.fillStyle||"white",i.label.font&&(t.font=i.label.font),i.label.shadowColor&&(t.shadowColor=i.label.shadowColor),i.label.shadowBlur&&(t.shadowBlur=i.label.shadowBlur),h){var j=(k=h[n]).count;j=j<0?j.toFixed(2):~~j;var B=t.measureText(j).width;t.fillText(j,k.x+o.x-B/2,k.y+o.y+5)}t.restore()}};function S(t,e,i){var r=t.createShader(i);return t.shaderSource(r,e),t.compileShader(r),r}function C(t,e,i){var r=S(t,e,t.VERTEX_SHADER),n=S(t,i,t.FRAGMENT_SHADER),o=t.createProgram();return t.attachShader(o,r),t.attachShader(o,n),t.linkProgram(o),t.useProgram(o),o}function O(t){var e=document.createElement("canvas"),i=e.getContext("2d");return e.width=1,e.height=1,i.fillStyle=t,i.fillRect(0,0,1,1),i.getImageData(0,0,1,1).data}var T=["attribute vec4 a_Position;","void main() {","gl_Position = a_Position;","gl_PointSize = 30.0;","}"].join(""),A=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join(""),M={draw:function(t,e,i){if(e){var r=C(t,T,A);t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE),t.clear(t.COLOR_BUFFER_BIT);var n=t.canvas.width/2,o=t.canvas.height/2,a=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,a);var s=t.getAttribLocation(r,"a_Position");t.vertexAttribPointer(s,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s);var l=t.getUniformLocation(r,"u_FragColor"),h=O(i.strokeStyle||"red");t.uniform4f(l,h[0]/255,h[1]/255,h[2]/255,h[3]/255),t.lineWidth(i.lineWidth||1);for(var c=0,u=e.length;c<u;c++){for(var p=e[c].geometry._coordinates,f=[],y=0;y<p.length;y++){var d=p[y],v=(d[0]-n)/n,g=(o-d[1])/o;f.push(v,g)}var m=new Float32Array(f);t.bufferData(t.ARRAY_BUFFER,m,t.STATIC_DRAW),t.drawArrays(t.LINE_STRIP,0,p.length)}}}},k=["attribute vec4 a_Position;","attribute float a_PointSize;","void main() {","gl_Position = a_Position;","gl_PointSize = a_PointSize;","}"].join(""),E=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join(""),D={draw:function(t,e,i){if(e){var r=C(t,k,E),n=t.getAttribLocation(r,"a_Position"),o=t.getAttribLocation(r,"a_PointSize"),a=t.getUniformLocation(r,"u_FragColor");t.clear(t.COLOR_BUFFER_BIT);var s=t.canvas.width/2,l=t.canvas.height/2;if(i.hasOwnProperty("splitList"))for(var h=Object.keys(i.splitList),c=0;c<h.length;c++){for(var u=0,p=[],f=0;f<e.length;f++){var y=((v=e[f].geometry._coordinates)[0]-s)/s,d=(l-v[1])/l;y<-1||1<y||d<-1||1<d||i.splitList[h[c]]==e[f]._fillStyle&&(g=O(e[f]._fillStyle),p.push(y,d),u++)}0<u&&m(p,u,g)}else{for(p=[],u=0,f=0;f<e.length;f++){var v;y=((v=e[f].geometry._coordinates)[0]-s)/s,d=(l-v[1])/l;y<-1||1<y||d<-1||1<d||(p.push(y,d),u++)}var g=O(i.fillStyle||"red");0<u&&m(p,u,g)}}function m(e,r,s){var l=new Float32Array(e),h=r,c=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,l,t.STATIC_DRAW),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.vertexAttrib1f(o,i._size||i.size||5),t.enableVertexAttribArray(n),t.uniform4f(a,s[0]/255,s[1]/255,s[2]/255,s[3]/255),t.drawArrays(t.POINTS,0,h)}}};function z(t,e,i){i=i||2;var r,n,o,a,s,l,h,c=e&&e.length,u=c?e[0]*i:t.length,p=j(t,0,u,i,!0),f=[];if(!p)return f;if(c&&(p=function(t,e,i,r){var n,o,a,s=[];for(n=0,o=e.length;n<o;n++)(a=j(t,e[n]*r,n<o-1?e[n+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(q(a));for(s.sort(G),n=0;n<s.length;n++)V(s[n],i),i=B(i,i.next);return i}(t,e,p,i)),t.length>80*i){r=o=t[0],n=a=t[1];for(var y=i;y<u;y+=i)(s=t[y])<r&&(r=s),(l=t[y+1])<n&&(n=l),o<s&&(o=s),a<l&&(a=l);h=Math.max(o-r,a-n)}return F(p,f,i,r,n,h),f}function j(t,e,i,r,n){var o,a;if(n===0<et(t,e,i,r))for(o=e;o<i;o+=r)a=Q(o,t[o],t[o+1],a);else for(o=i-r;e<=o;o-=r)a=Q(o,t[o],t[o+1],a);return a&&X(a,a.next)&&(K(a),a=a.next),a}function B(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!X(r,r.next)&&0!==Z(r.prev,r,r.next))r=r.next;else{if(K(r),(r=e=r.prev)===r.next)return null;i=!0}}while(i||r!==e);return e}function F(t,e,i,r,n,o,a){if(t){!a&&o&&function(t,e,i,r){for(var n=t;null===n.z&&(n.z=H(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,(n=n.next)!==t;);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,a,s,l,h=1;do{for(i=t,o=t=null,a=0;i;){for(a++,r=i,e=s=0;e<h&&(s++,r=r.nextZ);e++);for(l=h;0<s||0<l&&r;)0===s?(r=(n=r).nextZ,l--):0!==l&&r?i.z<=r.z?(i=(n=i).nextZ,s--):(r=(n=r).nextZ,l--):(i=(n=i).nextZ,s--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,h*=2}while(1<a)}(n)}(t,r,n,o);for(var s,l,h=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?I(t,r,n,o):R(t))e.push(s.i/i),e.push(t.i/i),e.push(l.i/i),K(t),t=l.next,h=l.next;else if((t=l)===h){a?1===a?F(t=N(t,e,i),e,i,r,n,o,2):2===a&&W(t,e,i,r,n,o):F(B(t),e,i,r,n,o,1);break}}}function R(t){var e=t.prev,i=t,r=t.next;if(0<=Z(e,i,r))return!1;for(var n=t.next.next;n!==t.prev;){if(U(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&0<=Z(n.prev,n,n.next))return!1;n=n.next}return!0}function I(t,e,i,r){var n=t.prev,o=t,a=t.next;if(0<=Z(n,o,a))return!1;for(var s=n.x<o.x?n.x<a.x?n.x:a.x:o.x<a.x?o.x:a.x,l=n.y<o.y?n.y<a.y?n.y:a.y:o.y<a.y?o.y:a.y,h=n.x>o.x?n.x>a.x?n.x:a.x:o.x>a.x?o.x:a.x,c=n.y>o.y?n.y>a.y?n.y:a.y:o.y>a.y?o.y:a.y,u=H(s,l,e,i,r),p=H(h,c,e,i,r),f=t.nextZ;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&U(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&0<=Z(f.prev,f,f.next))return!1;f=f.nextZ}for(f=t.prevZ;f&&f.z>=u;){if(f!==t.prev&&f!==t.next&&U(n.x,n.y,o.x,o.y,a.x,a.y,f.x,f.y)&&0<=Z(f.prev,f,f.next))return!1;f=f.prevZ}return!0}function N(t,e,i){var r=t;do{var n=r.prev,o=r.next.next;!X(n,o)&&Y(n,r,r.next,o)&&J(n,o)&&J(o,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(o.i/i),K(r),K(r.next),r=t=o),r=r.next}while(r!==t);return r}function W(t,e,i,r,n,o){var a,s,l=t;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&(s=h,(a=l).next.i!==s.i&&a.prev.i!==s.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Y(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(a,s)&&J(a,s)&&J(s,a)&&function(t,e){for(var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;i.y>o!=i.next.y>o&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),(i=i.next)!==t;);return r}(a,s))){var c=$(l,h);return l=B(l,l.next),c=B(c,c.next),F(l,e,i,r,n,o),void F(c,e,i,r,n,o)}h=h.next}l=l.next}while(l!==t)}function G(t,e){return t.x-e.x}function V(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&a<s){if((a=s)===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===a)return i.prev;var l,h=i,c=i.x,u=i.y,p=1/0;for(r=i.next;r!==h;)n>=r.x&&r.x>=c&&U(o<u?n:a,o,c,u,o<u?a:n,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(n-r.x))<p||l===p&&r.x>i.x)&&J(r,t)&&(i=r,p=l),r=r.next;return i}(t,e)){var i=$(e,t);B(i,i.next)}}function H(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)/n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)/n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function q(t){for(var e=t,i=t;e.x<i.x&&(i=e),(e=e.next)!==t;);return i}function U(t,e,i,r,n,o,a,s){return 0<=(n-a)*(e-s)-(t-a)*(o-s)&&0<=(t-a)*(r-s)-(i-a)*(e-s)&&0<=(i-a)*(o-s)-(n-a)*(r-s)}function Z(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function X(t,e){return t.x===e.x&&t.y===e.y}function Y(t,e,i,r){return!!(X(t,e)&&X(i,r)||X(t,r)&&X(i,e))||0<Z(t,e,i)!=0<Z(t,e,r)&&0<Z(i,r,t)!=0<Z(i,r,e)}function J(t,e){return Z(t.prev,t,t.next)<0?0<=Z(t,e,t.next)&&0<=Z(t,t.prev,e):Z(t,e,t.prev)<0||Z(t,t.next,e)<0}function $(t,e){var i=new tt(t.i,t.x,t.y),r=new tt(e.i,e.x,e.y),n=t.next,o=e.prev;return(t.next=e).prev=t,(i.next=n).prev=i,(r.next=i).prev=r,(o.next=r).prev=o,r}function Q(t,e,i,r){var n=new tt(t,e,i);return r?(n.next=r.next,(n.prev=r).next.prev=n,r.next=n):(n.prev=n).next=n,n}function K(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function tt(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function et(t,e,i,r){for(var n=0,o=e,a=i-r;o<i;o+=r)n+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return n}z.deviation=function(t,e,i,r){var n=e&&e.length,o=n?e[0]*i:t.length,a=Math.abs(et(t,0,o,i));if(n)for(var s=0,l=e.length;s<l;s++){var h=e[s]*i,c=s<l-1?e[s+1]*i:t.length;a-=Math.abs(et(t,h,c,i))}var u=0;for(s=0;s<r.length;s+=3){var p=r[s]*i,f=r[s+1]*i,y=r[s+2]*i;u+=Math.abs((t[p]-t[y])*(t[f+1]-t[p+1])-(t[p]-t[f])*(t[y+1]-t[p+1]))}return 0===a&&0===u?0:Math.abs((u-a)/a)},z.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var a=0;a<e;a++)i.vertices.push(t[n][o][a]);0<n&&(r+=t[n-1].length,i.holes.push(r))}return i};var it=["attribute vec4 a_Position;","void main() {","gl_Position = a_Position;","gl_PointSize = 30.0;","}"].join(""),rt=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join(""),nt={draw:function(t,e,i){if(e){t.clear(t.COLOR_BUFFER_BIT),t.viewport(0,0,t.canvas.width,t.canvas.height);var r=C(t,it,rt);t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE);var n=t.canvas.width/2,o=t.canvas.height/2;t.bindBuffer(t.ARRAY_BUFFER,t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,t.createBuffer());var a=t.getAttribLocation(r,"a_Position");t.vertexAttribPointer(a,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a);var s=t.getUniformLocation(r,"u_FragColor"),l=O(i.fillStyle||"red");t.uniform4f(s,l[0]/255,l[1]/255,l[2]/255,l[3]/255),t.lineWidth(i.lineWidth||1);for(var h=[],c=[],u=0,p=0,f=e.length;p<f;p++){var y=z.flatten(e[p].geometry._coordinates||e[p].geometry.coordinates),d=y.vertices;u=h.length/2;for(var v=0;v<d.length;v+=2)d[v]=(d[v]-n)/n,d[v+1]=(o-d[v+1])/o;65536<(h.length+d.length)/2&&(t.bufferData(t.ARRAY_BUFFER,new Float32Array(h),t.STATIC_DRAW),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),t.STATIC_DRAW),t.drawElements(t.TRIANGLES,c.length,t.UNSIGNED_SHORT,0),h.length=0,c.length=0,u=0);for(v=0;v<d.length;v++)h.push(d[v]);var g=z(d,y.holes,y.dimensions);for(v=0;v<g.length;v++)c.push(g[v]+u)}t.bufferData(t.ARRAY_BUFFER,new Float32Array(h),t.STATIC_DRAW),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),t.STATIC_DRAW),t.drawElements(t.TRIANGLES,c.length,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}}},ot={draw:function(t,e,i){var r=e instanceof p?e.get():e;0<r.length&&("LineString"==r[0].geometry.type?M.draw(t,r,i):"Polygon"==r[0].geometry.type||"MultiPolygon"==r[0].geometry.type?nt.draw(t,r,i):D.draw(t,r,i))}};function at(t,e,i){if(!t||!e)return null;var r,n,o,a,s,l,h=function(t){return 1-2*t+t*t},c=function(t){return 2*t-2*t*t},u=function(t){return t*t},p=[],f=(i=i||40,0),y=0;if(void 0!==e){var d=parseFloat(t.lat),v=parseFloat(e.lat),g=parseFloat(t.lng),m=parseFloat(e.lng);for(g<m&&180<parseFloat(m-g)&&g<0&&(g=parseFloat(360+g),m=parseFloat(360+m)),l=0,n=v==d?(r=0,g-m):m==g?(r=Math.PI/2,d-v):(r=Math.atan((v-d)/(m-g)),(v-d)/Math.sin(r)),0==l&&(l=r+Math.PI/5),s=(o=n/2)*Math.cos(l)+g,a=o*Math.sin(l)+d,f=0;f<i+1;f++){var _=g*h(y)+s*c(y)+m*u(y),b=d*h(y)+a*c(y)+v*u(y),x=t.lng,w=e.lng;p.push([x<0&&0<w?_-360:_,b]),y+=1/i}return p}void 0!==p&&(p=[])}var st={getPoints:function(t,e){e=e||{};for(var i=[],r=0;r<t.length-1;r++){var n=at(t[r],t[r+1],e.count);n&&0<n.length&&(i=i.concat(n))}return i}};function lt(t){this.splitList=t||{other:1}}function ht(t){this.splitList=t||[{start:0,value:"red"}]}lt.prototype.get=function(t){var e=this.splitList,i=e.other;for(var r in e)if(t==r){i=e[r];break}return i},lt.prototype.generateByDataSet=function(t,e){var i=e||["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],r=t.get();this.splitList={};for(var n=0,o=0;o<r.length;o++)if(void 0===this.splitList[r[o].count]){if(!(++n<=i.length)){this.splitList.other="#000";break}this.splitList[r[o].count]=i[n-1]}},lt.prototype.getLegend=function(t){var e=this.splitList,i=document.createElement("div");i.style.cssText="background:#fff; padding: 5px; border: 1px solid #ccc;";var r="";for(var n in e)r+='<div style="line-height: 19px;" value="'+n+'"><span style="vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:'+e[n]+';"></span><span style="margin-left: 3px;">'+n+"<span></div>";return i.innerHTML=r,i},ht.prototype.get=function(t){for(var e=this.splitList,i=!1,r=0;r<e.length;r++)if((void 0===e[r].start||void 0!==e[r].start&&t>=e[r].start)&&(void 0===e[r].end||void 0!==e[r].end&&t<e[r].end)){i=e[r].value;break}return i},ht.prototype.generateByDataSet=function(t){var e=t.getMin("count"),i=t.getMax("count");this.generateByMinMax(e,i)},ht.prototype.generateByMinMax=function(t,e){var i=["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],r=Number((e-t)/7);e=Number(e);var n=Number(t);this.splitList=[];for(var o=0;n<e;)this.splitList.push({start:n,end:n+r,value:i[o]}),o++,n+=r},ht.prototype.getLegend=function(t){this.splitList};var ct=function(){function t(e,i,r){if(s(this,t),!e||!i)return console.warn("id  type "),!1;if("baidu"==i){if(!BMap)return console.warn("JS API"),!1}else console.warn("");this.type=i;var n=r&&r.center?r.center:[106.962497,38.208726],o=r&&r.zoom?r.zoom:5,a=this.map=new BMap.Map(e,{enableMapClick:!1});a.centerAndZoom(new BMap.Point(n[0],n[1]),o),a.enableScrollWheelZoom(!0),a.setMapStyle({style:"light"})}return l(t,[{key:"addLayer",value:function(t,e){if("baidu"==this.type)return new mapv.baiduMapLayer(this.map,dataSet,e)}},{key:"getMap",value:function(){return this.map}}]),t}();function ut(t){this.options=t||{},this.paneName=this.options.paneName||"mapPane",this.context=this.options.context||"2d",this.zIndex=this.options.zIndex||0,this.mixBlendMode=this.options.mixBlendMode||null,this.enableMassClear=this.options.enableMassClear,this._map=t.map,this._lastDrawTime=null,this.show()}var pt="undefined"==typeof window?{}:window;pt.BMap&&((ut.prototype=new BMap.Overlay).initialize=function(t){this._map=t;var e=this.canvas=document.createElement("canvas");e.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex+";user-select:none;",e.style.mixBlendMode=this.mixBlendMode,this.adjustSize(),t.getPanes()[this.paneName].appendChild(e);var i=this;return t.addEventListener("resize",function(){i.adjustSize(),i._draw()}),this.canvas},ut.prototype.adjustSize=function(){var t=this._map.getSize(),e=this.canvas,i=this.devicePixelRatio=pt.devicePixelRatio||1;e.width=t.width*i,e.height=t.height*i,"2d"==this.context&&e.getContext(this.context).scale(i,i),e.style.width=t.width+"px",e.style.height=t.height+"px"},ut.prototype.draw=function(){var t=this;clearTimeout(t.timeoutID),t.timeoutID=setTimeout(function(){t._draw()},15)},ut.prototype._draw=function(){var t=this._map,e=t.getSize(),i=t.getCenter();if(i){var r=t.pointToOverlayPixel(i);this.canvas.style.left=r.x-e.width/2+"px",this.canvas.style.top=r.y-e.height/2+"px",this.dispatchEvent("draw"),this.options.update&&this.options.update.call(this)}},ut.prototype.getContainer=function(){return this.canvas},ut.prototype.show=function(){this.canvas||this._map.addOverlay(this),this.canvas.style.display="block"},ut.prototype.hide=function(){this.canvas.style.display="none"},ut.prototype.setZIndex=function(t){this.zIndex=t,this.canvas.style.zIndex=this.zIndex},ut.prototype.getZIndex=function(){return this.zIndex});var ft,yt,dt=dt||(ft=[],{getAll:function(){return ft},removeAll:function(){ft=[]},add:function(t){ft.push(t)},remove:function(t){var e=ft.indexOf(t);-1!==e&&ft.splice(e,1)},update:function(t,e){if(0===ft.length)return!1;var i=0;for(t=void 0!==t?t:dt.now();i<ft.length;)ft[i].update(t)||e?i++:ft.splice(i,1);return!0}});function vt(t,e){var i=e[0]-t[0],r=e[1]-t[1],n=360*Math.atan(r/i)/(2*Math.PI);return e[0]<t[0]&&(n+=180),n}"undefined"==typeof window&&void 0!==t?dt.now=function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?dt.now=window.performance.now.bind(window.performance):void 0!==Date.now?dt.now=Date.now:dt.now=function(){return(new Date).getTime()},dt.Tween=function(t){var e,i=t,r={},n={},o={},a=1e3,s=0,l=!1,h=!1,c=!1,u=0,p=null,f=dt.Easing.Linear.None,y=dt.Interpolation.Linear,d=[],v=null,g=!1,m=null,_=null,b=null;this.to=function(t,e){return n=t,void 0!==e&&(a=e),this},this.start=function(t){for(var e in dt.add(this),g=!(h=!0),p=void 0!==t?t:dt.now(),p+=u,n){if(n[e]instanceof Array){if(0===n[e].length)continue;n[e]=[i[e]].concat(n[e])}void 0!==i[e]&&(r[e]=i[e],r[e]instanceof Array==0&&(r[e]*=1),o[e]=r[e]||0)}return this},this.stop=function(){return h&&(dt.remove(this),h=!1,null!==b&&b.call(i,i),this.stopChainedTweens()),this},this.end=function(){return this.update(p+a),this},this.stopChainedTweens=function(){for(var t=0,e=d.length;t<e;t++)d[t].stop()},this.delay=function(t){return u=t,this},this.repeat=function(t){return s=t,this},this.repeatDelay=function(t){return e=t,this},this.yoyo=function(t){return l=t,this},this.easing=function(t){return f=t,this},this.interpolation=function(t){return y=t,this},this.chain=function(){return d=arguments,this},this.onStart=function(t){return v=t,this},this.onUpdate=function(t){return m=t,this},this.onComplete=function(t){return _=t,this},this.onStop=function(t){return b=t,this},this.update=function(t){var h,b,x;if(t<p)return!0;for(h in!1===g&&(null!==v&&v.call(i,i),g=!0),x=f(b=1<(b=(t-p)/a)?1:b),n)if(void 0!==r[h]){var w=r[h]||0,S=n[h];S instanceof Array?i[h]=y(S,x):("string"==typeof S&&(S="+"===S.charAt(0)||"-"===S.charAt(0)?w+parseFloat(S):parseFloat(S)),"number"==typeof S&&(i[h]=w+(S-w)*x))}if(null!==m&&m.call(i,x),1!==b)return!0;if(0<s){for(h in isFinite(s)&&s--,o){if("string"==typeof n[h]&&(o[h]=o[h]+parseFloat(n[h])),l){var C=o[h];o[h]=n[h],n[h]=C}r[h]=o[h]}return l&&(c=!c),p=void 0!==e?t+e:t+u,!0}null!==_&&_.call(i,i);for(var O=0,P=d.length;O<P;O++)d[O].start(p+a);return!1}},dt.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-dt.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*dt.Easing.Bounce.In(2*t):.5*dt.Easing.Bounce.Out(2*t-1)+.5}}},dt.Interpolation={Linear:function(t,e){var i=t.length-1,r=i*e,n=Math.floor(r),o=dt.Interpolation.Utils.Linear;return e<0?o(t[0],t[1],r):1<e?o(t[i],t[i-1],i-r):o(t[n],t[i<n+1?i:n+1],r-n)},Bezier:function(t,e){for(var i=0,r=t.length-1,n=Math.pow,o=dt.Interpolation.Utils.Bernstein,a=0;a<=r;a++)i+=n(1-e,r-a)*n(e,a)*t[a]*o(r,a);return i},CatmullRom:function(t,e){var i=t.length-1,r=i*e,n=Math.floor(r),o=dt.Interpolation.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(n=Math.floor(r=i*(1+e))),o(t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i],r-n)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-r)-t[0]):1<e?t[i]-(o(t[i],t[i],t[i-1],t[i-1],r-i)-t[i]):o(t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2],r-n)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=dt.Interpolation.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(yt=[1],function(t){var e=1;if(yt[t])return yt[t];for(var i=t;1<i;i--)e*=i;return yt[t]=e}),CatmullRom:function(t,e,i,r,n){var o=.5*(i-t),a=.5*(r-e),s=n*n;return(2*e-2*i+o+a)*(n*s)+(-3*e+3*i-2*o-a)*s+o*n+e}}};var gt={},mt={draw:function(t,e,i){var r="http://huiyan.baidu.com/github/tools/gis-drawing/static/images/direction.png";i.arrow&&i.arrow.url&&(r=i.arrow.url),gt[r]||(gt[r]=null);var n=gt[r];if(!n){var o=Array.prototype.slice.call(arguments),a=new Image;return a.onload=function(){gt[r]=a,mt.draw.apply(null,o)},void(a.src=r)}var s=e instanceof p?e.get():e;for(var l in t.save(),i)t[l]=i[l];for(var h,c,u=[],f=null,y=0,d=s.length;y<d;y++){var v=s[y];t.save(),(v.fillStyle||v._fillStyle)&&(t.fillStyle=v.fillStyle||v._fillStyle),(v.strokeStyle||v._strokeStyle)&&(t.strokeStyle=v.strokeStyle||v._strokeStyle);var g=v.geometry.type;if(t.beginPath(),"LineString"===g)for(var m=v.geometry._coordinates||v.geometry.coordinates,_=void 0!==i.arrow.interval?i.arrow.interval:1,b=0;b<m.length;b+=_)if(m[b]&&m[b+1]){var x=m[b];if(f&&(h=x,c=f,Math.sqrt(Math.pow(h[0]-c[0],2)+Math.pow(h[1]-c[1],2))<30))continue;t.save();var w=vt(m[b],m[b+1]);t.translate(x[0],x[1]),t.rotate(w*Math.PI/180),t.drawImage(n,-n.width/2/2,-n.height/2/2,n.width/2,n.height/2),t.restore(),u.push(x),f=x}t.restore()}t.restore()}},_t=function(t,e,r){var n=e instanceof p?e.get():e;t.save(),t.fillStyle=r.fillStyle||"rgba(0, 0, 0, 0.5)",t.fillRect(0,0,t.canvas.width,t.canvas.height),r.multiPolygonDraw=function(){t.save(),t.clip(),i(t),t.restore()};for(var o=0,a=n.length;o<a;o++)t.beginPath(),f.drawDataSet(t,[n[o]],r),t.save(),t.clip(),i(t),t.restore();t.restore()},bt=function(t,e,i){t.save();for(var r,n,o=e instanceof p?e.get():e,a=0;a<o.length;a++){(u=o[a]).properties&&u.properties.cluster&&(void 0===r&&(r=u.properties.point_count),void 0===n&&(n=u.properties.point_count),r=Math.max(r,u.properties.point_count),n=Math.min(n,u.properties.point_count))}var s=new v({min:n,max:r,minSize:i.minSize||8,maxSize:i.maxSize||30,gradient:i.gradient}),l=null,h=i.iconWidth||16,c=i.iconHeight||16;for(a=0;a<o.length;a++){var u=o[a],f=o[a].geometry._coordinates||o[a].geometry.coordinates;if(t.beginPath(),u.properties&&u.properties.cluster){if(t.arc(f[0],f[1],s.getSize(u.properties.point_count),0,2*Math.PI),t.fillStyle=s.getColor(u.properties.point_count),t.fill(),i.label&&!1!==i.label.show){t.fillStyle=i.label.fillStyle||"white",i.label.font&&(t.font=i.label.font),i.label.shadowColor&&(t.shadowColor=i.label.shadowColor),i.label.shadowBlur&&(t.shadowBlur=i.label.shadowBlur);var y=u.properties.point_count,d=t.measureText(y).width;t.fillText(y,f[0]+.5-d/2,f[1]+.5+3)}}else if(l=u[i.iconFieldName]){var g=f[0]-h/2,m=f[1]-c/2;t.drawImage(l,g,m,h,c)}else t.arc(f[0],f[1],i.size||5,0,2*Math.PI),t.fillStyle=i.fillStyle||"red",t.fill()}t.restore()},xt=function(t,e,i){var r=e instanceof p?e.get():e;for(var n in t.save(),i)t[n]=i[n];var o=i.offset||{x:0,y:0},a=[],s=i._size||i.size;s?t.font="bold "+s+"px Arial":s=12;var l=i.textKey||"text";if(i.textAlign||(t.textAlign="center"),i.textBaseline||(t.textBaseline="middle"),i.avoid)for(var h=0,c=r.length;h<c;h++){var u=(_=r[h].geometry._coordinates||r[h].geometry.coordinates)[0]+o.x,f=_[1]+o.y,y=r[h][l],d=t.measureText(y).width,v=u-d/2,g=f-s/2,m={sw:{x:v,y:g+s},ne:{x:v+d,y:g}};wt(a,m)||(a.push(m),v+=d/2,g+=s/2,t.fillText(y,v,g))}else for(h=0,c=r.length;h<c;h++){var _;u=(_=r[h].geometry._coordinates||r[h].geometry.coordinates)[0]+o.x,f=_[1]+o.y,y=r[h][l];t.fillText(y,u,f)}t.restore()};function wt(t,e){for(var i=0;i<t.length;i++)if(St(t[i],e))return!0;return!1}function St(t,e){var i=Math.min(t.ne.x,e.ne.x),r=Math.min(t.sw.y,e.sw.y),n=Math.max(t.sw.x,e.sw.x),o=Math.max(t.ne.y,e.ne.y);return n<i&&o<r}var Ct=function(t,e,i){var r=e instanceof p?e.get():e;t.fillStyle="white",t.textAlign="center",t.textBaseline="middle";for(var n=i.offset||{x:0,y:0},o=0,a=r.length;o<a;o++)if(r[o].geometry){var s=r[o].deg||i.deg,l=r[o].icon||i.icon,h=r[o].geometry._coordinates||r[o].geometry.coordinates,c=h[0],u=h[1];s&&(t.save(),t.translate(c,u),t.rotate(s*Math.PI/180),t.translate(-c,-u));var f=i._width||i.width||l.width,y=i._height||i.height||l.height;c=c-f/2+n.x,u=u-y/2+n.y,i.sx&&i.sy&&i.swidth&&i.sheight&&i.width&&i.height?t.drawImage(l,i.sx,i.sy,i.swidth,i.sheight,c,u,f,y):i.width&&i.height?t.drawImage(l,c,u,f,y):t.drawImage(l,c,u),s&&t.restore()}};function Ot(t,e,i,r){Pt(t,i,r),Pt(e,2*i,2*r),Pt(e,2*i+1,2*r+1)}function Pt(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function Lt(t,e,i,r){var n=t-i,o=e-r;return n*n+o*o}var Tt=function(t){return t[0]},At=function(t){return t[1]},Mt=function(t,e,i,r,n){void 0===e&&(e=Tt),void 0===i&&(i=At),void 0===r&&(r=64),void 0===n&&(n=Float64Array),this.nodeSize=r;for(var o=(this.points=t).length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new n(2*t.length),l=0;l<t.length;l++)a[l]=l,s[2*l]=e(t[l]),s[2*l+1]=i(t[l]);!function t(e,i,r,n,o,a){if(!(o-n<=r)){var s=n+o>>1;!function t(e,i,r,n,o,a){for(;n<o;){if(600<o-n){var s=o-n+1,l=r-n+1,h=Math.log(s),c=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*c*(s-c)/s)*(l-s/2<0?-1:1);t(e,i,r,Math.max(n,Math.floor(r-l*c/s+u)),Math.min(o,Math.floor(r+(s-l)*c/s+u)),a)}var p=i[2*r+a],f=n,y=o;for(Ot(e,i,n,r),i[2*o+a]>p&&Ot(e,i,n,o);f<y;){for(Ot(e,i,f,y),f++,y--;i[2*f+a]<p;)f++;for(;i[2*y+a]>p;)y--}i[2*n+a]===p?Ot(e,i,n,y):Ot(e,i,++y,o),y<=r&&(n=y+1),r<=y&&(o=y-1)}}(e,i,s,n,o,a%2),t(e,i,r,n,s-1,a+1),t(e,i,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};Mt.prototype.range=function(t,e,i,r){return function(t,e,i,r,n,o,a){for(var s,l,h=[0,t.length-1,0],c=[];h.length;){var u=h.pop(),p=h.pop(),f=h.pop();if(p-f<=a)for(var y=f;y<=p;y++)s=e[2*y],l=e[2*y+1],i<=s&&s<=n&&r<=l&&l<=o&&c.push(t[y]);else{var d=Math.floor((f+p)/2);s=e[2*d],l=e[2*d+1],i<=s&&s<=n&&r<=l&&l<=o&&c.push(t[d]);var v=(u+1)%2;(0===u?i<=s:r<=l)&&(h.push(f),h.push(d-1),h.push(v)),(0===u?s<=n:l<=o)&&(h.push(d+1),h.push(p),h.push(v))}}return c}(this.ids,this.coords,t,e,i,r,this.nodeSize)};var kt={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!(Mt.prototype.within=function(t,e,i){return function(t,e,i,r,n,o){for(var a=[0,t.length-1,0],s=[],l=n*n;a.length;){var h=a.pop(),c=a.pop(),u=a.pop();if(c-u<=o)for(var p=u;p<=c;p++)Lt(e[2*p],e[2*p+1],i,r)<=l&&s.push(t[p]);else{var f=Math.floor((u+c)/2),y=e[2*f],d=e[2*f+1];Lt(y,d,i,r)<=l&&s.push(t[f]);var v=(h+1)%2;(0===h?i-n<=y:r-n<=d)&&(a.push(u),a.push(f-1),a.push(v)),(0===h?y<=i+n:d<=r+n)&&(a.push(f+1),a.push(c),a.push(v))}}return s}(this.ids,this.coords,t,e,i,this.nodeSize)}),reduce:null,map:function(t){return t}},Et=function(t){this.options=Ft(Object.create(kt),t),this.trees=new Array(this.options.maxZoom+1),this.maxLng=t.maxLng};function Dt(t,e){return{type:"Feature",id:t.id,properties:zt(t),geometry:{type:"Point",coordinates:[(a=t.x,s=e,(a-.5)*(s||180)*2),(i=t.y,r=e,n=r||180,o=(n-i*n*2)*Math.PI/n,2*n*Math.atan(Math.exp(o))/Math.PI-n/2)]}};var i,r,n,o,a,s}function zt(t){var e=t.numPoints,i=1e4<=e?Math.round(e/1e3)+"k":1e3<=e?Math.round(e/100)/10+"k":e;return Ft(Ft({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:i})}function jt(t,e){return t/(2*(e||180))+.5}function Bt(t,e){var i=e||180,r=Math.sin(t*Math.PI/i),n=.5-.25*Math.log((1+r)/(1-r))/Math.PI;return n<0?0:1<n?1:n}function Ft(t,e){for(var i in e)t[i]=e[i];return t}function Rt(t){return t.x}function It(t){return t.y}Et.prototype.load=function(t){var e=this.options,i=(e.log,e.minZoom),r=e.maxZoom,n=e.nodeSize;t.length,this.points=t;for(var o,a,s,l,h,c,u=[],p=0;p<t.length;p++)t[p].geometry&&u.push((o=t[p],a=p,s=this.maxLng,h=(l=o.geometry.coordinates)[0],c=l[1],{x:jt(h,s),y:Bt(c,s),zoom:1/0,index:a,parentId:-1}));this.trees[r+1]=new Mt(u,Rt,It,n,Float32Array);for(var f=r;i<=f;f--)Date.now(),u=this._cluster(u,f),this.trees[f]=new Mt(u,Rt,It,n,Float32Array);return this},Et.prototype.getClusters=function(t,e){var i=this.maxLng||180,r=((t[0]+i)%(2*i)+2*i)%(2*i)-i,n=Math.max(-i/2,Math.min(i/2,t[1])),o=t[2]===i?i:((t[2]+i)%(2*i)+2*i)%(2*i)-i,a=Math.max(-i/2,Math.min(i/2,t[3]));if(t[2]-t[0]>=2*i)r=-i,o=i;else if(o<r){var s=this.getClusters([r,n,i,a],e),l=this.getClusters([-i,n,o,a],e);return s.concat(l)}for(var h=this.trees[this._limitZoom(e)],c=[],u=0,p=h.range(jt(r,i),Bt(a,i),jt(o,i),Bt(n,i));u<p.length;u+=1){var f=p[u],y=h.points[f];c.push(y.numPoints?Dt(y,i):this.points[y.index])}return c},Et.prototype.getChildren=function(t){var e=t>>5,i=t%32,r="No cluster with the specified id.",n=this.trees[i];if(!n)throw new Error(r);var o=n.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,i-1)),s=[],l=0,h=n.within(o.x,o.y,a);l<h.length;l+=1){var c=h[l],u=n.points[c];u.parentId===t&&s.push(u.numPoints?Dt(u,this.maxLng):this.points[u.index])}if(0===s.length)throw new Error(r);return s},Et.prototype.getLeaves=function(t,e,i){e=e||10,i=i||0;var r=[];return this._appendLeaves(r,t,e,i,0),r},Et.prototype.getTile=function(t,e,i){var r=this.trees[this._limitZoom(t)],n=Math.pow(2,t),o=this.options,a=o.extent,s=o.radius/a,l=(i-s)/n,h=(i+1+s)/n,c={features:[]};return this._addTileFeatures(r.range((e-s)/n,l,(e+1+s)/n,h),r.points,e,i,n,c),0===e&&this._addTileFeatures(r.range(1-s/n,l,1,h),r.points,n,i,n,c),e===n-1&&this._addTileFeatures(r.range(0,l,s/n,h),r.points,-1,i,n,c),c.features.length?c:null},Et.prototype.getClusterExpansionZoom=function(t){for(var e=t%32-1;e<=this.options.maxZoom;){var i=this.getChildren(t);if(e++,1!==i.length)break;t=i[0].properties.cluster_id}return e},Et.prototype._appendLeaves=function(t,e,i,r,n){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],l=s.properties;if(l&&l.cluster?n+l.point_count<=r?n+=l.point_count:n=this._appendLeaves(t,l.cluster_id,i,r,n):n<r?n++:t.push(s),t.length===i)break}return n},Et.prototype._addTileFeatures=function(t,e,i,r,n,o){for(var a=0,s=t;a<s.length;a+=1){var l=e[s[a]],h={type:1,geometry:[[Math.round(this.options.extent*(l.x*n-i)),Math.round(this.options.extent*(l.y*n-r))]],tags:l.numPoints?zt(l):this.points[l.index].properties},c=l.numPoints?l.id:this.points[l.index].id;void 0!==c&&(h.id=c),o.features.push(h)}},Et.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},Et.prototype._cluster=function(t,e){for(var i=[],r=this.options,n=r.radius,o=r.extent,a=r.reduce,s=n/(o*Math.pow(2,e)),l=0;l<t.length;l++){var h=t[l];if(!(h.zoom<=e)){h.zoom=e;for(var c=this.trees[e+1],u=c.within(h.x,h.y,s),p=h.numPoints||1,f=h.x*p,y=h.y*p,d=a&&1<p?this._map(h,!0):null,v=(l<<5)+(e+1),g=0,m=u;g<m.length;g+=1){var _=m[g],b=c.points[_];if(!(b.zoom<=e)){b.zoom=e;var x=b.numPoints||1;f+=b.x*x,y+=b.y*x,p+=x,b.parentId=v,a&&(d||(d=this._map(h,!0)),a(d,this._map(b)))}}1===p?i.push(h):(h.parentId=v,i.push({x:f/p,y:y/p,zoom:1/0,id:v,parentId:-1,numPoints:p,properties:d}))}}return i},Et.prototype._map=function(t,e){if(t.numPoints)return e?Ft({},t.properties):t.properties;var i=this.points[t.index].properties,r=this.options.map(i);return e&&r===i?Ft({},r):r},"undefined"!=typeof window&&requestAnimationFrame(function t(e){requestAnimationFrame(t),dt.update(e)});var Nt=function(){function t(e,i,r){if(s(this,t),i instanceof p||(i=new p(i)),this.dataSet=i,this.map=e,this.oldValue=null,this.flg=!1,this.propertyValue=null,"cluster"===r.draw&&!this.supercluster){var n=r.hasOwnProperty("projection")?r.projection:"EPSG:4326",o=this.getMaxLng(n);this.supercluster=new Et({maxZoom:r.maxZoom||19,radius:r.clusterRadius||100,maxLng:o}),this.supercluster.load(i.get()),this.clusterDataSet=new p}}return l(t,[{key:"getDefaultContextConfig",value:function(){return{globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!0,strokeStyle:"#000000",fillStyle:"#000000",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,lineDashOffset:0,font:"10px sans-serif",textAlign:"start",textBaseline:"alphabetic"}}},{key:"initDataRange",value:function(t){var e=this;if(e.intensity=new v({maxSize:e.options.maxSize,minSize:e.options.minSize,gradient:e.options.gradient,max:e.options.max||this.dataSet.getMax("count")}),e.category=new lt(e.options.splitList),e.choropleth=new ht(e.options.splitList),void 0===e.options.splitList&&e.category.generateByDataSet(this.dataSet,e.options.color),void 0===e.options.splitList){var i=e.options.min||this.dataSet.getMin("count"),r=e.options.max||this.dataSet.getMax("count");e.choropleth.generateByMinMax(i,r)}}},{key:"getLegend",value:function(t){return this.options.draw,"intensity"==this.options.draw||"heatmap"==this.options.draw?this.intensity.getLegend(t):"category"==this.options.draw?this.category.getLegend(t):void 0}},{key:"processData",value:function(t){var e=this,i=e.options.draw;if("cluster"==i){for(var r,n,o=0;o<t.length;o++){(s=t[o]).properties&&s.properties.cluster&&(void 0===r&&(r=s.properties.point_count),void 0===n&&(n=s.properties.point_count),r=Math.max(r,s.properties.point_count),n=Math.min(n,s.properties.point_count))}e.intensity.setMax(r),e.intensity.setMin(n);for(var a=0;a<t.length;a++)t[a].properties&&(t[a]._size=e.intensity.getSize(t[a].properties.point_count))}if("bubble"==i||"intensity"==i||"category"==i||"choropleth"==i||"simple"==i)for(o=0;o<t.length;o++){var s=t[o];"bubble"==e.options.draw?t[o]._size=e.intensity.getSize(s.count):t[o]._size=void 0;var l="_fillStyle";"LineString"!==t[o].geometry.type&&"stroke"!==e.options.styleType||(l="_strokeStyle"),"intensity"==e.options.draw?t[o][l]=e.intensity.getColor(s.count):"category"==e.options.draw?t[o][l]=e.category.get(s.count):"choropleth"==e.options.draw&&(t[o][l]=e.choropleth.get(s.count))}}},{key:"isEnabledTime",value:function(){var t=this.options.animation;return t&&!(!1===t.enabled)}},{key:"argCheck",value:function(t){"heatmap"==t.draw&&t.strokeStyle&&console.warn("[heatmap] options.strokeStyle is discard, pleause use options.strength [eg: options.strength = 0.1]")}},{key:"drawContext",value:function(t,e,i,r){var n=this;switch(n.options.draw){case"heatmap":b.draw(t,e,n.options);break;case"grid":case"cluster":case"honeycomb":n.options.offset={x:r.x,y:r.y},"grid"===n.options.draw?x.draw(t,e,n.options):"cluster"===n.options.draw?bt(t,e,n.options):w.draw(t,e,n.options);break;case"text":xt(t,e,n.options);break;case"icon":Ct(t,e,n.options);break;case"clip":_t(t,e,n.options);break;default:"webgl"==n.options.context?ot.draw(n.canvasLayer.canvas.getContext("webgl"),e,n.options):y.draw(t,e,n.options)}n.options.arrow&&!1!==n.options.arrow.show&&mt.draw(t,e,n.options)}},{key:"isPointInPath",value:function(t,e){var i;t=this.canvasLayer.canvas.getContext(this.context);i="cluster"===this.options.draw?this.clusterDataSet.get():this.dataSet.get();for(var r=0;r<i.length;r++){"2d"==this.context&&(t.beginPath(),f.draw(t,i[r],this.options));var n=e.x*this.canvasLayer.devicePixelRatio,o=e.y*this.canvasLayer.devicePixelRatio;if(-1<(i[r].geometry&&i[r].geometry.type).indexOf("LineString")){if(t.isPointInStroke&&t.isPointInStroke(n,o))return i[r]}else{if("2d"!=this.context)return i[r];if(t.isPointInPath(n,o))return i[r]}}}},{key:"clickEvent",value:function(t,e){if(this.options.methods){var i=this.isPointInPath(this.getContext(),t),r=null;if(i){if(r={},i.hasOwnProperty("properties"))r.point_count=i.properties.point_count;else for(var n in i)"_"!=n.charAt(0)&&"geometry"!=n&&"type"!=n&&(r[n]=i[n]);this.options.methods.click({screenX:t.x,screenY:t.y,lng:e.coordinate[0],lat:e.coordinate[1],property:r})}}}},{key:"mousemoveEvent",value:function(t,e){if(this.options.methods){var i=this.isPointInPath(this.getContext(),t);if(i){if(this.options.methods.mousemove&&this.options.methods.mousemove(i,e),this.options.methods.mouseover){if(this.flg){if(i===this.oldValue)return;this.flg=!1}this.oldValue=i;var r={};if(i.hasOwnProperty("properties"))r.point_count=i.properties.point_count;else for(var n in i)"_"!=n.charAt(0)&&"geometry"!=n&&"type"!=n&&(r[n]=i[n]);this.flg=!0,this.propertyValue=r,this.options.methods.mouseover({screenX:t.x,screenY:t.y,lng:e.coordinate[0],lat:e.coordinate[1],property:r})}}else{var o=this.propertyValue;this.options.methods.mousemove&&this.options.methods.mousemove(null,e),this.options.methods.mouseout&&this.flg&&(this.flg=!1,this.options.methods.mouseout({screenX:t.x,screenY:t.y,lng:e.coordinate[0],lat:e.coordinate[1],property:o}))}}}},{key:"tapEvent",value:function(t,e){if(this.options.methods){var i=this.isPointInPath(this.getContext(),t);i?this.options.methods.tap(i,e):this.options.methods.tap(null,e)}}},{key:"update",value:function(t,e){var i=t.options,r=this.options;for(var n in i)r[n]=i[n];this.init(r),!1!==e&&this.draw()}},{key:"setOptions",value:function(t){this.dataSet.reset(),this.init(t),this.draw()}},{key:"set",value:function(t){var e=this.getContext(),i=this.getDefaultContextConfig();for(var r in i)e[r]=i[r];this.init(t.options),this.draw()}},{key:"destroy",value:function(){this.unbindEvent(),this.hide()}},{key:"initAnimator",value:function(){var t=this,e=t.options.animation;if("time"==t.options.draw||t.isEnabledTime()){e.stepsRange||(e.stepsRange={start:this.dataSet.getMin("time")||0,end:this.dataSet.getMax("time")||0}),this.steps={step:e.stepsRange.start},t.animator=new dt.Tween(this.steps).onUpdate(function(){t.canvasLayer.canvas&&t._canvasUpdate(this.step)}).repeat(1/0),this.addAnimatorEvent();var i=1e3*e.duration||5e3;t.animator.to({step:e.stepsRange.end},i),t.animator.start()}else t.animator&&t.animator.stop()}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var t=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=t.stepsRange.start,this.animator.stop())}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator&&this.animator.start()}},{key:"getMaxLng",value:function(t){var e;switch(t){case"EPSG:3857":e=20026376.39;break;case"EPSG:2436":case"EPSG:4509":e=20037508.342789244;break;default:e=180}return e}}]),t}(),Wt=function(t){function e(t,i,r){s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r));n.map=t,n.options=r||{},n.dataSet=i;var o=new ut({map:t,zIndex:n.options.zIndex,update:n._canvasUpdate.bind(n)});n.init(n.options),n.canvasLayer=o,n.transferToMercator();var a=n;return i.on("change",function(){a.transferToMercator(),o.draw()}),n.ctx=o.canvas.getContext("2d"),n.start(),n}return c(e,Nt),l(e,[{key:"draw",value:function(){this.canvasLayer.draw()}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.options.max&&this.intensity.setMax(this.options.max),this.options.min&&this.intensity.setMin(this.options.min),this.initAnimator()}},{key:"transferToMercator",value:function(){var t=this.map.getMapType().getProjection();if("bd09mc"!==this.options.coordType){var e=this.dataSet.get();e=this.dataSet.transferCoordinate(e,function(e){var i=t.lngLatToPoint({lng:e[0],lat:e[1]});return[i.x,i.y]},"coordinates","coordinates_mercator"),this.dataSet._set(e)}}},{key:"_canvasUpdate",value:function(){var t=this.ctx;if(t){var e=this.map,r=Math.pow(2,18-e.getZoom()),n=e.getMapType().getProjection().lngLatToPoint(e.getCenter()),o=new BMap.Pixel(n.x-e.getSize().width/2*r,n.y+e.getSize().height/2*r);i(t);var a={fromColumn:"bd09mc"==this.options.coordType?"coordinates":"coordinates_mercator",transferCoordinate:function(t){if(t)return[(t[0]-o.x)/r,(o.y-t[1])/r]}};this.data=this.dataSet.get(a),this.processData(this.data),this.drawAnimation()}}},{key:"drawAnimation",value:function(){var t=this.ctx,e=this.data;if(e){t.save(),t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0, 0, 0, .1)",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore(),t.save(),this.options.shadowColor&&(t.shadowColor=this.options.shadowColor),this.options.shadowBlur&&(t.shadowBlur=this.options.shadowBlur),this.options.globalAlpha&&(t.globalAlpha=this.options.globalAlpha),this.options.globalCompositeOperation&&(t.globalCompositeOperation=this.options.globalCompositeOperation);for(var i=this.options,r=0;r<e.length;r++)if("Point"===e[r].geometry.type){t.beginPath();var n=e[r].size||this.options.size,o=e[r].minSize||this.options.minSize||0;void 0===e[r]._size&&(e[r]._size=o),t.arc(e[r].geometry._coordinates[0],e[r].geometry._coordinates[1],e[r]._size,0,2*Math.PI,!0),t.closePath(),e[r]._size++,e[r]._size>n&&(e[r]._size=o),t.lineWidth=1,t.strokeStyle=e[r].strokeStyle||e[r]._strokeStyle||i.strokeStyle||"yellow",t.stroke(),(h=e[r].fillStyle||e[r]._fillStyle||i.fillStyle)&&(t.fillStyle=h,t.fill())}else if("LineString"===e[r].geometry.type){t.beginPath();var a=e[r].size||this.options.size||5;o=e[r].minSize||this.options.minSize||0;void 0===e[r]._index&&(e[r]._index=0);var s=e[r]._index;t.arc(e[r].geometry._coordinates[s][0],e[r].geometry._coordinates[s][1],a,0,2*Math.PI,!0),t.closePath(),e[r]._index++,e[r]._index>=e[r].geometry._coordinates.length&&(e[r]._index=0);var l=e[r].strokeStyle||i.strokeStyle,h=e[r].fillStyle||i.fillStyle||"yellow";t.fillStyle=h,t.fill(),l&&i.lineWidth&&(t.lineWidth=i.lineWidth||1,t.strokeStyle=l,t.stroke())}t.restore()}}},{key:"animate",value:function(){this.drawAnimation();var t=this.options.animateTime||100;this.timeout=setTimeout(this.animate.bind(this),t)}},{key:"start",value:function(){this.stop(),this.animate()}},{key:"stop",value:function(){clearTimeout(this.timeout)}},{key:"unbindEvent",value:function(){}},{key:"hide",value:function(){this.canvasLayer.hide(),this.stop()}},{key:"show",value:function(){this.start()}}]),e}(),Gt=function(t){function e(t,i,r){s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r)),o=n;r=r||{},n.clickEvent=n.clickEvent.bind(n),n.mousemoveEvent=n.mousemoveEvent.bind(n),n.tapEvent=n.tapEvent.bind(n),o.init(r),o.argCheck(r),o.transferToMercator();var a=n.canvasLayer=new ut({map:t,context:n.context,paneName:r.paneName,mixBlendMode:r.mixBlendMode,enableMassClear:r.enableMassClear,zIndex:r.zIndex,update:function(){o._canvasUpdate()}});return i.on("change",function(){o.transferToMercator(),a.draw()}),n}return c(e,Nt),l(e,[{key:"clickEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,i,t)}},{key:"mousemoveEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,i,t)}},{key:"tapEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"tapEvent",this).call(this,i,t)}},{key:"bindEvent",value:function(t){this.unbindEvent();var e=this.map,i=0,r=this;this.options.methods&&(this.options.methods.click&&(e.setDefaultCursor("default"),e.addEventListener("click",this.clickEvent)),this.options.methods.mousemove&&e.addEventListener("mousemove",this.mousemoveEvent),"ontouchend"in window.document&&this.options.methods.tap&&(e.addEventListener("touchstart",function(t){i=new Date}),e.addEventListener("touchend",function(t){new Date-i<300&&r.tapEvent(t)})))}},{key:"unbindEvent",value:function(t){var e=this.map;this.options.methods&&(this.options.methods.click&&e.removeEventListener("click",this.clickEvent),this.options.methods.mousemove&&e.removeEventListener("mousemove",this.mousemoveEvent))}},{key:"transferToMercator",value:function(t){t||(t=this.dataSet);var e=this.map.getMapType().getProjection();if("bd09mc"!==this.options.coordType){var i=t.get();i=t.transferCoordinate(i,function(t){if(t[0]<-180||180<t[0]||t[1]<-90||90<t[1])return t;var i=e.lngLatToPoint({lng:t[0],lat:t[1]});return[i.x,i.y]},"coordinates","coordinates_mercator"),t._set(i)}}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"_canvasUpdate",value:function(t){if(this.canvasLayer){var e=this,r=e.options.animation,n=this.canvasLayer._map,o=Math.pow(2,18-n.getZoom()),a=n.getMapType().getProjection().lngLatToPoint(n.getCenter()),s=new BMap.Pixel(a.x-n.getSize().width/2*o,a.y+n.getSize().height/2*o),l=this.getContext();if(e.isEnabledTime()){if(void 0===t)return void i(l);"2d"==this.context&&(l.save(),l.globalCompositeOperation="destination-out",l.fillStyle="rgba(0, 0, 0, .1)",l.fillRect(0,0,l.canvas.width,l.canvas.height),l.restore())}else i(l);if("2d"==this.context)for(var h in e.options)l[h]=e.options[h];else l.clear(l.COLOR_BUFFER_BIT);if(!(e.options.minZoom&&n.getZoom()<e.options.minZoom||e.options.maxZoom&&n.getZoom()>e.options.maxZoom)){var c=1;"2d"!=this.context&&(c=this.canvasLayer.devicePixelRatio);var u,p={fromColumn:"bd09mc"==e.options.coordType?"coordinates":"coordinates_mercator",transferCoordinate:function(t){return[(t[0]-s.x)/o*c,(s.y-t[1])/o*c]}};if(void 0!==t&&(p.filter=function(e){var i=r.trails||10;return!!(t&&e.time>t-i&&e.time<t)}),"cluster"===e.options.draw){var f=this.map.getBounds(),y=f.getNorthEast(),d=f.getSouthWest(),v=this.supercluster.getClusters([d.lng,d.lat,y.lng,y.lat],this.getZoom());this.clusterDataSet.set(v),this.transferToMercator(this.clusterDataSet),u=this.clusterDataSet.get(p)}else u=e.dataSet.get(p);this.processData(u);var g=n.pointToPixel(new BMap.Point(0,0));"m"==e.options.unit?(e.options.size&&(e.options._size=e.options.size/o),e.options.width&&(e.options._width=e.options.width/o),e.options.height&&(e.options._height=e.options.height/o)):(e.options._size=e.options.size,e.options._height=e.options.height,e.options._width=e.options.width),this.drawContext(l,u,e.options,g),e.options.updateCallback&&e.options.updateCallback(t)}}}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.options.max&&this.intensity.setMax(this.options.max),this.options.min&&this.intensity.setMin(this.options.min),this.initAnimator(),this.bindEvent()}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"addAnimatorEvent",value:function(){this.map.addEventListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addEventListener("moveend",this.animatorMoveendEvent.bind(this))}},{key:"show",value:function(){this.map.addOverlay(this.canvasLayer)}},{key:"hide",value:function(){this.map.removeOverlay(this.canvasLayer)}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),e}();function Vt(t){this.isAdded_=!1,this.isAnimated_=!1,this.paneName_=Vt.DEFAULT_PANE_NAME_,this.updateHandler_=null,this.resizeHandler_=null,this.topLeft_=null,this.centerListener_=null,this.resizeListener_=null,this.needsResize_=!0,this.requestAnimationFrameId_=null;var e=document.createElement("canvas");function i(t,e){return function(){e.apply(t)}}e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.pointerEvents="none",this.canvas=e,this.canvasCssWidth_=300,this.canvasCssHeight_=150,this.resolutionScale_=1,this.repositionFunction_=i(this,this.repositionCanvas_),this.resizeFunction_=i(this,this.resize_),this.requestUpdateFunction_=i(this,this.update_),t&&this.setOptions(t)}var Ht="undefined"==typeof window?{}:window;Ht.google&&Ht.google.maps&&(Vt.prototype=new google.maps.OverlayView,Vt.DEFAULT_PANE_NAME_="overlayLayer",Vt.CSS_TRANSFORM_=function(){for(var t=document.createElement("div"),e=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],i=0;i<e.length;i++){var r=e[i];if(void 0!==t.style[r])return r}return e[0]}(),Vt.prototype.requestAnimFrame_=Ht.requestAnimationFrame||Ht.webkitRequestAnimationFrame||Ht.mozRequestAnimationFrame||Ht.oRequestAnimationFrame||Ht.msRequestAnimationFrame||function(t){return Ht.setTimeout(t,1e3/60)},Vt.prototype.cancelAnimFrame_=Ht.cancelAnimationFrame||Ht.webkitCancelAnimationFrame||Ht.mozCancelAnimationFrame||Ht.oCancelAnimationFrame||Ht.msCancelAnimationFrame||function(t){},Vt.prototype.setOptions=function(t){void 0!==t.animate&&this.setAnimate(t.animate),void 0!==t.paneName&&this.setPaneName(t.paneName),void 0!==t.updateHandler&&this.setUpdateHandler(t.updateHandler),void 0!==t.resizeHandler&&this.setResizeHandler(t.resizeHandler),void 0!==t.resolutionScale&&this.setResolutionScale(t.resolutionScale),void 0!==t.map&&this.setMap(t.map)},Vt.prototype.setAnimate=function(t){this.isAnimated_=!!t,this.isAnimated_&&this.scheduleUpdate()},Vt.prototype.isAnimated=function(){return this.isAnimated_},Vt.prototype.setPaneName=function(t){this.paneName_=t,this.setPane_()},Vt.prototype.getPaneName=function(){return this.paneName_},Vt.prototype.setPane_=function(){if(this.isAdded_){var t=this.getPanes();if(!t[this.paneName_])throw new Error('"'+this.paneName_+'" is not a valid MapPane name.');t[this.paneName_].appendChild(this.canvas)}},Vt.prototype.setResizeHandler=function(t){this.resizeHandler_=t},Vt.prototype.setResolutionScale=function(t){"number"==typeof t&&(this.resolutionScale_=t,this.resize_())},Vt.prototype.setUpdateHandler=function(t){this.updateHandler_=t},Vt.prototype.onAdd=function(){this.isAdded_||(this.isAdded_=!0,this.setPane_(),this.resizeListener_=google.maps.event.addListener(this.getMap(),"resize",this.resizeFunction_),this.centerListener_=google.maps.event.addListener(this.getMap(),"center_changed",this.repositionFunction_),this.resize_(),this.repositionCanvas_())},Vt.prototype.onRemove=function(){this.isAdded_&&(this.isAdded_=!1,this.topLeft_=null,this.canvas.parentElement.removeChild(this.canvas),this.centerListener_&&(google.maps.event.removeListener(this.centerListener_),this.centerListener_=null),this.resizeListener_&&(google.maps.event.removeListener(this.resizeListener_),this.resizeListener_=null),this.requestAnimationFrameId_&&(this.cancelAnimFrame_.call(Ht,this.requestAnimationFrameId_),this.requestAnimationFrameId_=null))},Vt.prototype.resize_=function(){if(this.isAdded_){var t=this.getMap(),e=t.getDiv().offsetWidth,i=t.getDiv().offsetHeight,r=e*this.resolutionScale_,n=i*this.resolutionScale_,o=this.canvas.width,a=this.canvas.height;o===r&&a===n||(this.canvas.width=r,this.canvas.height=n,this.needsResize_=!0,this.scheduleUpdate()),this.canvasCssWidth_===e&&this.canvasCssHeight_===i||(this.canvasCssWidth_=e,this.canvasCssHeight_=i,this.canvas.style.width=e+"px",this.canvas.style.height=i+"px")}},Vt.prototype.draw=function(){this.repositionCanvas_()},Vt.prototype.repositionCanvas_=function(){var t=this.getMap(),e=t.getBounds().getNorthEast().lat(),i=t.getCenter(),r=Math.pow(2,t.getZoom()),n=i.lng()-180*this.canvasCssWidth_/(256*r);this.topLeft_=new google.maps.LatLng(e,n);var o=this.getProjection().fromLatLngToDivPixel(i),a=-Math.round(this.canvasCssWidth_/2-o.x),s=-Math.round(this.canvasCssHeight_/2-o.y);this.canvas.style[Vt.CSS_TRANSFORM_]="translate("+a+"px,"+s+"px)",this.scheduleUpdate()},Vt.prototype.update_=function(){this.requestAnimationFrameId_=null,this.isAdded_&&(this.isAnimated_&&this.scheduleUpdate(),this.needsResize_&&this.resizeHandler_&&(this.needsResize_=!1,this.resizeHandler_()),this.updateHandler_&&this.updateHandler_())},Vt.prototype.getTopLeft=function(){return this.topLeft_},Vt.prototype.scheduleUpdate=function(){this.isAdded_&&!this.requestAnimationFrameId_&&(this.requestAnimationFrameId_=this.requestAnimFrame_.call(Ht,this.requestUpdateFunction_))});var qt=function(t){function e(t,i,r){s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r)),o=n;r=r||{},o.init(r),o.argCheck(r);var a={map:t,animate:!1,updateHandler:function(){o._canvasUpdate()},resolutionScale:resolutionScale};return n.canvasLayer=new Vt(a),n.clickEvent=n.clickEvent.bind(n),n.mousemoveEvent=n.mousemoveEvent.bind(n),n.bindEvent(),n}return c(e,Nt),l(e,[{key:"clickEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,i,t)}},{key:"mousemoveEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,i,t)}},{key:"bindEvent",value:function(t){var e=this.map;this.options.methods&&(this.options.methods.click&&(e.setDefaultCursor("default"),e.addListener("click",this.clickEvent)),this.options.methods.mousemove&&e.addListener("mousemove",this.mousemoveEvent))}},{key:"unbindEvent",value:function(t){var e=this.map;this.options.methods&&(this.options.methods.click&&e.removeListener("click",this.clickEvent),this.options.methods.mousemove&&e.removeListener("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"_canvasUpdate",value:function(t){if(this.canvasLayer){var e=this,r=e.options.animation,n=this.getContext();if(e.isEnabledTime()){if(void 0===t)return void i(n);"2d"==this.context&&(n.save(),n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0, 0, 0, .1)",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.restore())}else i(n);if("2d"==this.context)for(var o in e.options)n[o]=e.options[o];else n.clear(n.COLOR_BUFFER_BIT);if(!(e.options.minZoom&&s.getZoom()<e.options.minZoom||e.options.maxZoom&&s.getZoom()>e.options.maxZoom)){var a=1;"2d"!=this.context&&(a=this.canvasLayer.devicePixelRatio);var s=this.map,l=s.getProjection(),h=(a=Math.pow(2,s.zoom)*resolutionScale,l.fromLatLngToPoint(this.canvasLayer.getTopLeft())),c={transferCoordinate:function(t){var e=new google.maps.LatLng(t[1],t[0]),i=l.fromLatLngToPoint(e),r={x:(i.x-h.x)*a,y:(i.y-h.y)*a};return[r.x,r.y]}};void 0!==t&&(c.filter=function(e){var i=r.trails||10;return!!(t&&e.time>t-i&&e.time<t)});var u=e.dataSet.get(c);this.processData(u);var f=new google.maps.LatLng(0,0),y=l.fromLatLngToPoint(f),d={x:(y.x-h.x)*a,y:(y.y-h.y)*a};"m"==e.options.unit&&e.options.size?e.options._size=e.options.size/zoomUnit:e.options._size=e.options.size,this.drawContext(n,new p(u),e.options,d),e.options.updateCallback&&e.options.updateCallback(t)}}}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){this.map.addListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addListener("moveend",this.animatorMoveendEvent.bind(this))}},{key:"show",value:function(){this.map.addOverlay(this.canvasLayer)}},{key:"hide",value:function(){this.map.removeOverlay(this.canvasLayer)}},{key:"draw",value:function(){self.canvasLayer.draw()}}]),e}(),Ut=void 0;if("undefined"!=typeof maptalks){Ut=function(t){function e(t,i,r){s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return n.options_=r,n.dataSet=i,n._initBaseLayer(r),n}return c(e,t),l(e,[{key:"_initBaseLayer",value:function(t){var e=this.baseLayer=new Nt(null,this.dataSet,t);this.init(t),e.argCheck(t)}},{key:"clickEvent",value:function(t){if(this.baseLayer){var e=t.containerPoint;this.baseLayer.clickEvent(e,t.domEvent)}}},{key:"mousemoveEvent",value:function(t){if(this.baseLayer){var e=t.containerPoint;this.baseLayer.mousemoveEvent(e,t.domEvent)}}},{key:"getEvents",value:function(){return{click:this.clickEvent,mousemove:this.mousemoveEvent}}},{key:"init",value:function(t){var e=this.baseLayer;e.options=t,e.initDataRange(t),e.context=e.options.context||"2d",e.initAnimator()}},{key:"addAnimatorEvent",value:function(){this.map.addListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addListener("moveend",this.animatorMoveendEvent.bind(this))}}]),e}(maptalks.Layer);var Zt=function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),l(e,[{key:"needToRedraw",value:function(){return!!this.layer.baseLayer.isEnabledTime()||h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"needToRedraw",this).call(this)}},{key:"draw",value:function(){var t=this.layer.baseLayer;this.canvas&&t.isEnabledTime()&&!this._shouldClear||(this.prepareCanvas(),this._shouldClear=!1),this._update(this.gl||this.context,this._mapvFrameTime),delete this._mapvFrameTime,this.completeRender()}},{key:"drawOnInteracting",value:function(){this.draw(),this._shouldClear=!1}},{key:"onSkipDrawOnInteracting",value:function(){this._shouldClear=!0}},{key:"_canvasUpdate",value:function(t){this.setToRedraw(),this._mapvFrameTime=t}},{key:"_update",value:function(t,e){if(this.canvas){var r=this.layer.baseLayer,n=r.options.animation,o=this.getMap();if(r.isEnabledTime()){if(void 0===e)return void i(t);"2d"==r.context&&(t.save(),t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0, 0, 0, .1)",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore())}else i(t);if("2d"==r.context)for(var a in r.options)t[a]=r.options[a];else t.clear(t.COLOR_BUFFER_BIT);var s=1;"2d"===r.context&&"heatmap"!==r.options.draw&&(s=r.canvasLayer.devicePixelRatio);var l=new maptalks.Coordinate(0,0),h={fromColumn:"bd09mc"===r.options.coordType?"coordinates_mercator":"coordinates",transferCoordinate:function(t){return l.x=t[0],l.y=t[1],o.coordToContainerPoint(l)._multi(s).toArray()}};void 0!==e&&(h.filter=function(t){var i=n.trails||10;return!!(e&&t.time>e-i&&t.time<e)});var c=r.dataSet.get(h);r.processData(c),"m"==r.options.unit?(r.options.size&&(r.options._size=r.options.size/zoomUnit),r.options.width&&(r.options._width=r.options.width/zoomUnit),r.options.height&&(r.options._height=r.options.height/zoomUnit)):(r.options._size=r.options.size,r.options._height=r.options.height,r.options._width=r.options.width);var u=new maptalks.Point(0,0),p=o._pointToContainerPoint(u)._multi(s);r.drawContext(t,c,r.options,p),r.options.updateCallback&&r.options.updateCallback(e)}}},{key:"createCanvas",value:function(){if(!this.canvas){var t=this.getMap(),e=t.getSize(),i=maptalks.Browser.retina?2:1,r=i*e.width,n=i*e.height;this.canvas=maptalks.Canvas.createCanvas(r,n,t.CanvasClass),"2d"===this.layer.baseLayer.context?(this.context=this.canvas.getContext("2d"),this.layer.options.globalCompositeOperation&&(this.context.globalCompositeOperation=this.layer.options.globalCompositeOperation)):this.gl=this.canvas.getContext("webgl",{alpha:!0,preserveDrawingBuffer:!0,antialias:!1}),this.onCanvasCreate(),this._bindToMapv(),this.layer.fire("canvascreate",{context:this.context,gl:this.gl})}}},{key:"_bindToMapv",value:function(){var t=this.layer.baseLayer;this.devicePixelRatio=maptalks.Browser.retina?2:1,t.canvasLayer=this,t._canvasUpdate=this._canvasUpdate.bind(this),t.getContext=function(){var t=self.getRenderer();return t.gl||t.context}}}]),e}(maptalks.renderer.CanvasRenderer);Ut.registerRenderer("canvas",Zt)}var Xt,Yt=Ut,Jt=function(t){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1],r=arguments[2];s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r));return n.options=r,n.canvasLayer={canvas:null,devicePixelRatio:window.devicePixelRatio},n.layer_=null,n.initDataRange(r),n.initAnimator(),n.onEvents(),t.on("complete",function(){this.init(t,r),this.argCheck(r)},n),n}return c(e,Nt),l(e,[{key:"init",value:function(t,e){if(!t)throw new Error("not map object");this.map=t,this.context=this.options.context||"2d",this.getCanvasLayer()}},{key:"_canvasUpdate",value:function(t){this.render(this.canvasLayer.canvas,t)}},{key:"render",value:function(t,e){if(t){var r=this.map,n=t.getContext(this.context),o=this.options.animation;if(this.isEnabledTime()){if(void 0===e)return i(n),this;"2d"===this.context&&(n.save(),n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0, 0, 0, .1)",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.restore())}else i(n);if("2d"===this.context)for(var a in this.options)n[a]=this.options[a];else n.clear(n.COLOR_BUFFER_BIT);var s={transferCoordinate:function(t){var e=r.lngLatToContainer(new AMap.LngLat(t[0],t[1]));return[e.x,e.y]}};void 0!==e&&(s.filter=function(t){var i=o.trails||10;return!!(e&&t.time>e-i&&t.time<e)});var l=this.dataSet.get(s);return this.processData(l),"m"===this.options.unit?(this.options.size&&(this.options._size=this.options.size/zoomUnit),this.options.width&&(this.options._width=this.options.width/zoomUnit),this.options.height&&(this.options._height=this.options.height/zoomUnit)):(this.options._size=this.options.size,this.options._height=this.options.height,this.options._width=this.options.width),this.drawContext(n,new p(l),this.options,{x:0,y:0}),this.options.updateCallback&&this.options.updateCallback(e),this}}},{key:"getCanvasLayer",value:function(){if(!this.canvasLayer.canvas&&!this.layer_){var t=this.canvasFunction(),e=this.map.getBounds();this.layer_=new AMap.CanvasLayer({canvas:t,bounds:this.options.bounds||e,zooms:this.options.zooms||[0,22]}),this.layer_.setMap(this.map),this.map.on("mapmove",this.canvasFunction,this),this.map.on("zoomchange",this.canvasFunction,this)}}},{key:"canvasFunction",value:function(){var t=[this.map.getSize().width,this.map.getSize().height],e=t[0],i=t[1];if(this.canvasLayer.canvas){this.canvasLayer.canvas.width=e,this.canvasLayer.canvas.height=i;var r=this.map.getBounds();this.layer_&&this.layer_.setBounds(this.options.bounds||r)}else this.canvasLayer.canvas=function(t,e,i){if("undefined"==typeof document)return new(void 0)(t,e);var r=document.createElement("canvas");return r.width=t,r.height=e,r}(e,i);return this.render(this.canvasLayer.canvas),this.canvasLayer.canvas}},{key:"removeLayer",value:function(){this.map&&(this.unEvents(),this.map.removeLayer(this.layer_),delete this.map,delete this.layer_,delete this.canvasLayer.canvas)}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"clickEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,i,t)}},{key:"mousemoveEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,i,t)}},{key:"addAnimatorEvent",value:function(){this.map.on("movestart",this.animatorMovestartEvent,this),this.map.on("moveend",this.animatorMoveendEvent,this)}},{key:"onEvents",value:function(){var t=this.map;this.unEvents(),this.options.methods&&(this.options.methods.click&&t.on("click",this.clickEvent,this),this.options.methods.mousemove&&t.on("mousemove",this.mousemoveEvent,this))}},{key:"unEvents",value:function(){var t=this.map;this.options.methods&&(this.options.methods.click&&t.off("click",this.clickEvent,this),this.options.methods.mousemove&&t.off("mousemove",this.mousemoveEvent,this))}}]),e}(),$t=function(t){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1],r=arguments[2];s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r));return n.options=r,n.canvasLayer={canvas:null,devicePixelRatio:window.devicePixelRatio},n.layer_=null,n.previousCursor_=void 0,n.events={},n.init(t,r),n.argCheck(r),n}return c(e,Nt),l(e,[{key:"init",value:function(t,e){if(!t)throw new Error("not map object");this.$Map=t,this.options.context&&"canvas"==this.options.context&&(this.options.context="2d"),this.context=this.options.context||"2d",this.getCanvasLayer(),this.initDataRange(e),this.initAnimator(),this.onEvents()}},{key:"_canvasUpdate",value:function(t){this.render(this.canvasLayer.canvas,t)}},{key:"render",value:function(t,e){var r=this.$Map,n=t.getContext(this.context),o=this.options.animation;if(this.options.hasOwnProperty("projection")&&this.options.projection,this.isEnabledTime()){if(void 0===e)return i(n),this;"2d"===this.context&&(n.save(),n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0, 0, 0, .1)",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.restore())}else i(n);if("2d"===this.context)for(var a in this.options)n[a]=this.options[a];else n.clear(n.COLOR_BUFFER_BIT);var s,l=this,h={transferCoordinate:function(t){var e=l.canvasLayer.devicePixelRatio||1,i=r.getPixelFromCoordinate(t);return[i[0]*e,i[1]*e]}};void 0!==e&&(h.filter=function(t){var i=o.trails||10;return!!(e&&t.time>e-i&&t.time<e)});var c=this.map.getView().getZoom(),u=this.options.maxZoom;if("cluster"===this.options.draw&&c<=u){var f=this.getMapExtent(),y=this.supercluster.getClusters(f,c);this.clusterDataSet.set(y),s=this.clusterDataSet.get(h)}else s=this.dataSet.get(h);return this.processData(s),"m"===this.options.unit?(this.options.size&&(this.options._size=this.options.size/zoomUnit),this.options.width&&(this.options._width=this.options.width/zoomUnit),this.options.height&&(this.options._height=this.options.height/zoomUnit)):(this.options._size=this.options.size,this.options._height=this.options.height,this.options._width=this.options.width),this.drawContext(n,new p(s),this.options,{x:0,y:0}),this.options.updateCallback&&this.options.updateCallback(e),this}},{key:"getCanvasLayer",value:function(){if(!this.canvasLayer.canvas&&!this.layer_){var t=this.getMapExtent();this.layer_=new ol.layer.Image({layerName:this.options.layerName,minResolution:this.options.minResolution,maxResolution:this.options.maxResolution,zIndex:this.options.zIndex,extent:t,source:new ol.source.ImageCanvas({canvasFunction:this.canvasFunction.bind(this),projection:this.options.hasOwnProperty("projection")?this.options.projection:"EPSG:4326",ratio:this.options.hasOwnProperty("ratio")?this.options.ratio:1})}),this.$Map.addLayer(this.layer_),this.$Map.un("precompose",this.reRender,this),this.$Map.on("precompose",this.reRender,this)}}},{key:"reRender",value:function(){if(this.layer_){var t=this.getMapExtent();this.layer_.setExtent(t)}}},{key:"canvasFunction",value:function(t,e,i,r,n){return this.canvasLayer.canvas?(this.canvasLayer.canvas.width=r[0],this.canvasLayer.canvas.height=r[1]):this.canvasLayer.canvas=function(t,e){if("undefined"!=typeof document){var i=document.createElement("canvas");return i.width=t,i.height=e,i}}(r[0],r[1]),this.render(this.canvasLayer.canvas),this.canvasLayer.canvas}},{key:"getMapExtent",value:function(){var t=this.$Map.getSize();return this.$Map.getView().calculateExtent(t)}},{key:"addTo",value:function(t){this.init(t,this.options)}},{key:"removeLayer",value:function(){this.$Map&&(this.unEvents(),this.$Map.un("precompose",this.reRender,this),this.$Map.removeLayer(this.layer_),delete this.$Map,delete this.layer_,delete this.canvasLayer.canvas)}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"clickEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,{x:i[0],y:i[1]},t)}},{key:"mousemoveEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,{x:i[0],y:i[1]},t)}},{key:"addAnimatorEvent",value:function(){this.$Map.on("movestart",this.animatorMovestartEvent,this),this.$Map.on("moveend",this.animatorMoveendEvent,this)}},{key:"onEvents",value:function(){var t=this.$Map;this.unEvents(),this.options.methods&&(this.options.methods.click&&(this.events.clickEvent=this.clickEvent.bind(this),t.on("click",this.events.clickEvent)),(this.options.methods.mousemove||this.options.methods.mouseover||this.options.methods.mouseout)&&(this.events.mousemoveEvent=this.mousemoveEvent.bind(this),t.on("pointermove",this.events.mousemoveEvent)))}},{key:"unEvents",value:function(){var t=this.$Map;this.options.methods&&(this.options.methods.click&&t.un("click",this.events.clickEvent),(this.options.methods.mousemove||this.options.methods.mouseover||this.options.methods.mouseout)&&t.un("pointermove",this.events.mousemoveEvent))}},{key:"setDefaultCursor",value:function(t,e){if(this.$Map){var i=this.$Map.getTargetElement();e?i.style.cursor!==t&&(this.previousCursor_=i.style.cursor,i.style.cursor=t):void 0!==this.previousCursor_&&(i.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}}}]),e}(),Qt=function(t){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=arguments[1],r=arguments[2];s(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r));return n.options=r||{},n.dataSet=i,n.canvasLayer={canvas:null,devicePixelRatio:window.devicePixelRatio},n.layer_=null,n.previousCursor_=void 0,n.init(t,r),n.start(),n}return c(e,Nt),l(e,[{key:"init",value:function(t,e){if(!t)throw new Error("not map object");this.$Map=t,this.context=this.options.context||"2d",this.getCanvasLayer(),this.initDataRange(e),this.initAnimator(),this.onEvents()}},{key:"_canvasUpdate",value:function(t){this.render(this.canvasLayer.canvas,t)}},{key:"render",value:function(t,e){var r=this.ctx;if(r){var n=this.$Map;i(r);var o=this,a={transferCoordinate:function(t){var e=o.canvasLayer.devicePixelRatio||1,i=n.getPixelFromCoordinate(t);return[i[0]*e,i[1]*e]}};return this.data=this.dataSet.get(a),this.processData(this.data),this.drawAnimation(),this}}},{key:"getCanvasLayer",value:function(){if(!this.canvasLayer.canvas&&!this.layer_){var t=this.getMapExtent();this.layer_=new ol.layer.Image({layerName:this.options.layerName,minResolution:this.options.minResolution,maxResolution:this.options.maxResolution,zIndex:this.options.zIndex,extent:t,source:new ol.source.ImageCanvas({canvasFunction:this.canvasFunction.bind(this),projection:this.options.hasOwnProperty("projection")?this.options.projection:"EPSG:4326",ratio:this.options.hasOwnProperty("ratio")?this.options.ratio:1})}),this.$Map.addLayer(this.layer_),this.$Map.un("precompose",this.reRender,this),this.$Map.on("precompose",this.reRender,this)}}},{key:"reRender",value:function(){if(this.layer_){var t=this.getMapExtent();this.layer_.setExtent(t)}}},{key:"canvasFunction",value:function(t,e,i,r,n){return this.canvasLayer.canvas?(this.canvasLayer.canvas.width=r[0],this.canvasLayer.canvas.height=r[1]):(this.canvasLayer.canvas=function(t,e){if("undefined"!=typeof document){var i=document.createElement("canvas");return i.width=t,i.height=e,i}}(r[0],r[1]),this.ctx=this.canvasLayer.canvas.getContext("2d")),this.render(this.canvasLayer.canvas),this.canvasLayer.canvas}},{key:"getMapExtent",value:function(){var t=this.$Map.getSize();return this.$Map.getView().calculateExtent(t)}},{key:"addTo",value:function(t){this.init(t,this.options)}},{key:"removeLayer",value:function(){this.$Map&&(this.unEvents(),this.$Map.un("precompose",this.reRender,this),this.$Map.removeLayer(this.layer_),delete this.$Map,delete this.layer_,delete this.data)}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"clickEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,{x:i[0],y:i[1]},t)}},{key:"mousemoveEvent",value:function(t){var i=t.pixel;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,{x:i[0],y:i[1]},t)}},{key:"addAnimatorEvent",value:function(){this.$Map.on("movestart",this.animatorMovestartEvent,this),this.$Map.on("moveend",this.animatorMoveendEvent,this)}},{key:"onEvents",value:function(){var t=this.$Map;this.unEvents(),this.options.methods&&(this.options.methods.click&&t.on("click",this.clickEvent,this),(this.options.methods.mousemove||this.options.methods.mouseover||this.options.methods.mouseout)&&t.on("pointermove",this.mousemoveEvent,this))}},{key:"unEvents",value:function(){var t=this.$Map;this.options.methods&&(this.options.methods.click&&t.un("click",this.clickEvent,this),this.options.methods.pointermove&&t.un("pointermove",this.mousemoveEvent,this))}},{key:"setDefaultCursor",value:function(t,e){if(this.$Map){var i=this.$Map.getTargetElement();e?i.style.cursor!==t&&(this.previousCursor_=i.style.cursor,i.style.cursor=t):void 0!==this.previousCursor_&&(i.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}}},{key:"drawAnimation",value:function(){var t=this.ctx,e=this.data;if(e){t.save(),t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0, 0, 0, .1)",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore(),t.save(),this.options.shadowColor&&(t.shadowColor=this.options.shadowColor),this.options.shadowBlur&&(t.shadowBlur=this.options.shadowBlur),this.options.globalAlpha&&(t.globalAlpha=this.options.globalAlpha),this.options.globalCompositeOperation&&(t.globalCompositeOperation=this.options.globalCompositeOperation);for(var i=this.options,r=0;r<e.length;r++)if("Point"===e[r].geometry.type){t.beginPath();var n=e[r].size||this.options.size,o=e[r].minSize||this.options.minSize||0;void 0===e[r]._size&&(e[r]._size=o),t.arc(e[r].geometry._coordinates[0],e[r].geometry._coordinates[1],e[r]._size,0,2*Math.PI,!0),t.closePath(),e[r]._size++,e[r]._size>n&&(e[r]._size=o),t.lineWidth=1,t.strokeStyle=e[r].strokeStyle||e[r]._strokeStyle||i.strokeStyle||"yellow",t.stroke(),(h=e[r].fillStyle||e[r]._fillStyle||i.fillStyle)&&(t.fillStyle=h,t.fill())}else if("LineString"===e[r].geometry.type){t.beginPath();var a=e[r].size||this.options.size||5;o=e[r].minSize||this.options.minSize||0;void 0===e[r]._index&&(e[r]._index=0);var s=e[r]._index;t.arc(e[r].geometry._coordinates[s][0],e[r].geometry._coordinates[s][1],a,0,2*Math.PI,!0),t.closePath(),e[r]._index++,e[r]._index>=e[r].geometry._coordinates.length&&(e[r]._index=0);var l=e[r].strokeStyle||i.strokeStyle,h=e[r].fillStyle||i.fillStyle||"yellow";t.fillStyle=h,t.fill(),l&&i.lineWidth&&(t.lineWidth=i.lineWidth||1,t.strokeStyle=l,t.stroke())}t.restore()}}},{key:"animate",value:function(){this.drawAnimation();var t=this.options.animateTime||100;this.timeout=setTimeout(this.animate.bind(this),t)}},{key:"start",value:function(){this.stop(),this.animate()}},{key:"stop",value:function(){clearTimeout(this.timeout)}}]),e}(),Kt=function(t){function e(t,i,r,n){s(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,r));return Nt?(o.map=t,o.scene=t.scene,o.dataSet=i,r=r||{},o.init(r),o.argCheck(r),o.initDevicePixelRatio(),o.canvasLayer=n,o.stopAniamation=!1,o.animation=r.animation,o.clickEvent=o.clickEvent.bind(o),o.mousemoveEvent=o.mousemoveEvent.bind(o),o.bindEvent(),o):u(o)}return c(e,Nt),l(e,[{key:"initDevicePixelRatio",value:function(){this.devicePixelRatio=window.devicePixelRatio||1}},{key:"clickEvent",value:function(t){var i=t.point;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,i,t)}},{key:"mousemoveEvent",value:function(t){var i=t.point;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,i,t)}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var t=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=t.stepsRange.start)}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator}},{key:"bindEvent",value:function(){this.map,this.options.methods&&(this.options.methods.click,this.options.methods.mousemove)}},{key:"unbindEvent",value:function(){var t=this.map;this.options.methods&&(this.options.methods.click&&t.off("click",this.clickEvent),this.options.methods.mousemove&&t.off("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"_canvasUpdate",value:function(t){var e=this.map,i=this.scene,r=this.options.hasOwnProperty("flowAnimation");i=this.scene;if(this.canvasLayer&&!this.stopAniamation){var n=this.options.animation,o=this.getContext();if(this.isEnabledTime()){if(void 0===t)return void this.clear(o);"2d"===this.context&&(o.save(),o.globalCompositeOperation="destination-out",o.fillStyle="rgba(0, 0, 0, .1)",o.fillRect(0,0,o.canvas.width,o.canvas.height),o.restore())}else this.clear(o);if("2d"===this.context)for(var a in this.options)o[a]=this.options[a];else o.clear(o.COLOR_BUFFER_BIT);var s,l={transferCoordinate:function(t){var i=e.scene,n=Cesium.Cartesian3.fromDegrees(t[0],t[1]),o=[];if(!n)return[0,0];if(o=Array.isArray(n)?[-n[0],-n[1],-n[2]]:[-n.x,-n.y,-n.z],r&&(o=!1),i.mode===Cesium.SceneMode.SCENE3D&&Cesium.Cartesian3.angleBetween(i.camera.position,n)>Cesium.Math.toRadians(80))return o;var a=i.cartesianToCanvasCoordinates(n);return[a.x,a.y]}};if(void 0!==t&&(l.filter=function(e){var i=n.trails||10;return!!(t&&e.time>t-i&&e.time<t)}),"cluster"===this.options.draw){var h=e.camera.computeViewRectangle(),c=Cesium.Math.toDegrees(h.west),u=Cesium.Math.toDegrees(h.north),f=[c,Cesium.Math.toDegrees(h.south),Cesium.Math.toDegrees(h.east),u],y=Math.ceil(e.camera.positionCartographic.height),d=Math.round(5*(8e7-y)/8e7),v=this.supercluster.getClusters(f,d);this.clusterDataSet.set(v),s=this.clusterDataSet.get(l)}else s=this.dataSet.get(l);this.processData(s),"m"==this.options.unit&&this.options.size,this.options._size=this.options.size;var g=Cesium.SceneTransforms.wgs84ToWindowCoordinates(i,Cesium.Cartesian3.fromDegrees(0,0));this.drawContext(o,new p(s),this.options,g),this.options.updateCallback&&this.options.updateCallback(t)}}},{key:"updateData",value:function(t,i){var r=t;r&&r.get&&(r=r.get()),null!=r&&this.dataSet.set(r),h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,{options:i})}},{key:"addData",value:function(t,e){var i=t;t&&t.get&&(i=t.get()),this.dataSet.add(i),this.update({options:e})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(t){if(this.dataSet){var e=this.dataSet.get({filter:function(e){return null==t||"function"!=typeof t||!t(e)}});this.dataSet.set(e),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"draw",value:function(){this.canvasLayer.draw()}},{key:"clear",value:function(t){t&&t.clearRect&&t.clearRect(0,0,t.canvas.width,t.canvas.height)}}]),e}();if("undefined"!=typeof Cesium){var te=0,ee=(Cesium,function(){function t(e,i,r,n){if(s(this,t),this.map=e,this.scene=e.scene,this.mapvBaseLayer=new Kt(e,i,r,this),this.mapVOptions=r,this.initDevicePixelRatio(),this.canvas=this._createCanvas(),this.render=this.render.bind(this),n)this.container=n;else{var o=e.container.querySelector(".cesium-viewer-cesiumWidgetContainer");this.container=o||e.container}this.addInnerContainer(),this.bindEvent(),this._reset()}return l(t,[{key:"initDevicePixelRatio",value:function(){this.devicePixelRatio=window.devicePixelRatio||1}},{key:"addInnerContainer",value:function(){this.container.appendChild(this.canvas)}},{key:"bindEvent",value:function(){var t=this;this.innerMoveStart=this.moveStartEvent.bind(this),this.innerMoveEnd=this.moveEndEvent.bind(this),this.scene.camera.moveStart.addEventListener(this.innerMoveStart,this),this.scene.camera.moveEnd.addEventListener(this.innerMoveEnd,this);var e=new Cesium.ScreenSpaceEventHandler(this.scene.canvas);e.setInputAction(function(t){},Cesium.ScreenSpaceEventType.LEFT_UP),e.setInputAction(function(e){t.innerMoveEnd()},Cesium.ScreenSpaceEventType.MIDDLE_UP),this.handler=e}},{key:"unbindEvent",value:function(){this.scene.camera.moveStart.removeEventListener(this.innerMoveStart,this),this.scene.camera.moveEnd.removeEventListener(this.innerMoveEnd,this),this.scene.postRender.removeEventListener(this._reset,this),this.handler&&(this.handler.destroy(),this.handler=null)}},{key:"moveStartEvent",value:function(){this.mapvBaseLayer&&(this.mapvBaseLayer.animatorMovestartEvent(),this.scene.postRender.addEventListener(this._reset,this))}},{key:"moveEndEvent",value:function(){this.mapvBaseLayer&&(this.scene.postRender.removeEventListener(this._reset,this),this.mapvBaseLayer.animatorMoveendEvent(),this._reset())}},{key:"zoomStartEvent",value:function(){this._unvisiable()}},{key:"zoomEndEvent",value:function(){this._unvisiable()}},{key:"addData",value:function(t,e){null!=this.mapvBaseLayer&&this.mapvBaseLayer.addData(t,e)}},{key:"updateData",value:function(t,e){null!=this.mapvBaseLayer&&this.mapvBaseLayer.updateData(t,e)}},{key:"getData",value:function(){return this.mapvBaseLayer&&(this.dataSet=this.mapvBaseLayer.getData()),this.dataSet}},{key:"removeData",value:function(t){null!=this.mapvBaseLayer&&this.mapvBaseLayer&&this.mapvBaseLayer.removeData(t)}},{key:"removeAllData",value:function(){null!=this.mapvBaseLayer&&this.mapvBaseLayer.clearData()}},{key:"_visiable",value:function(){return this.canvas.style.display="block",this}},{key:"_unvisiable",value:function(){return this.canvas.style.display="none",this}},{key:"_createCanvas",value:function(){var t=document.createElement("canvas");t.id=this.mapVOptions.layerid||"mapv"+te++,t.style.position="absolute",t.style.top=this.map.canvas.offsetTop+"px",t.style.left=this.map.canvas.offsetLeft+"px",t.style.pointerEvents="none",t.style.zIndex=this.mapVOptions.zIndex||0,t.width=parseInt(this.map.canvas.width),t.height=parseInt(this.map.canvas.height),t.style.width=this.map.canvas.width+"px",t.style.height=this.map.canvas.height+"px";var e=this.devicePixelRatio;return"2d"==this.mapVOptions.context&&t.getContext(this.mapVOptions.context).scale(e,e),t}},{key:"_reset",value:function(){this.resizeCanvas(),this.fixPosition(),this.onResize(),this.render()}},{key:"draw",value:function(){this._reset()}},{key:"show",value:function(){this._visiable()}},{key:"hide",value:function(){this._unvisiable()}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){null!=this.mapvBaseLayer&&(this.removeAllData(),this.mapvBaseLayer.clear(this.mapvBaseLayer.getContext()),this.mapvBaseLayer=void 0,this.canvas.parentElement.removeChild(this.canvas))}},{key:"update",value:function(t){null!=t&&this.updateData(t.data,t.options)}},{key:"resizeCanvas",value:function(){if(null!=this.canvas&&null!=this.canvas){var t=this.canvas;t.style.position="absolute",t.style.top=this.map.canvas.offsetTop+"px",t.style.left=this.map.canvas.offsetLeft+"px",t.width=parseInt(this.map.canvas.width),t.height=parseInt(this.map.canvas.height),t.style.width=this.map.canvas.width+"px",t.style.height=this.map.canvas.height+"px"}}},{key:"fixPosition",value:function(){}},{key:"onResize",value:function(){}},{key:"render",value:function(){null!=this.mapvBaseLayer&&this.mapvBaseLayer._canvasUpdate()}}]),t}());Xt=function(t,e,i,r){return new ee(t,e,i,r)}}var ie,re=Xt;if("undefined"!=typeof Cesium){var ne=0,oe=(Cesium,function(){function t(e,i,r,n){if(s(this,t),this.map=e,this.scene=e.scene,this.dataSet=i,this.mapvBaseLayer=new Kt(e,i,r,this),this.options=r,this.initDevicePixelRatio(),this.canvas=this._createCanvas(),this.render=this.render.bind(this),n)this.container=n;else{var o=e.container.querySelector(".cesium-viewer-cesiumWidgetContainer");this.container=o||e.container}this.addInnerContainer(),this.bindEvent(),this._reset(),this.start()}return l(t,[{key:"initDevicePixelRatio",value:function(){this.devicePixelRatio=window.devicePixelRatio||1}},{key:"addInnerContainer",value:function(){this.container.appendChild(this.canvas)}},{key:"bindEvent",value:function(){var t=this;this.innerMoveStart=this.moveStartEvent.bind(this),this.innerMoveEnd=this.moveEndEvent.bind(this),this.scene.camera.moveStart.addEventListener(this.innerMoveStart,this),this.scene.camera.moveEnd.addEventListener(this.innerMoveEnd,this);var e=new Cesium.ScreenSpaceEventHandler(this.scene.canvas);e.setInputAction(function(t){},Cesium.ScreenSpaceEventType.LEFT_UP),e.setInputAction(function(e){t.innerMoveEnd()},Cesium.ScreenSpaceEventType.MIDDLE_UP),this.handler=e}},{key:"unbindEvent",value:function(){this.scene.camera.moveStart.removeEventListener(this.innerMoveStart,this),this.scene.camera.moveEnd.removeEventListener(this.innerMoveEnd,this),this.scene.postRender.removeEventListener(this._reset,this),this.handler&&(this.handler.destroy(),this.handler=null)}},{key:"moveStartEvent",value:function(){this.mapvBaseLayer&&(this.mapvBaseLayer.animatorMovestartEvent(),this.scene.postRender.addEventListener(this._reset,this))}},{key:"moveEndEvent",value:function(){this.mapvBaseLayer&&(this.scene.postRender.removeEventListener(this._reset,this),this.mapvBaseLayer.animatorMoveendEvent(),this._reset())}},{key:"zoomStartEvent",value:function(){this._unvisiable()}},{key:"zoomEndEvent",value:function(){this._unvisiable()}},{key:"_visiable",value:function(){return this.canvas.style.display="block",this}},{key:"_unvisiable",value:function(){return this.canvas.style.display="none",this}},{key:"_createCanvas",value:function(){var t=document.createElement("canvas");t.id=this.options.layerid||"mapv"+ne++,t.style.position="absolute",t.style.top=this.map.canvas.offsetTop+"px",t.style.left=this.map.canvas.offsetLeft+"px",t.style.pointerEvents="none",t.style.zIndex=this.options.zIndex||0,t.width=parseInt(this.map.canvas.width),t.height=parseInt(this.map.canvas.height),t.style.width=this.map.canvas.width+"px",t.style.height=this.map.canvas.height+"px";var e=this.devicePixelRatio;return this.ctx=t.getContext("2d"),"2d"==this.options.context&&t.getContext(this.options.context).scale(e,e),t}},{key:"_reset",value:function(){this.resizeCanvas(),this.fixPosition(),this.onResize(),this.render()}},{key:"draw",value:function(){this._reset()}},{key:"show",value:function(){this._visiable()}},{key:"hide",value:function(){this._unvisiable()}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){this.mapvBaseLayer.clear(this.mapvBaseLayer.getContext()),this.mapvBaseLayer=void 0,this.canvas.parentElement.removeChild(this.canvas),delete this.data,delete this.dataSet,delete this.ctx}},{key:"resizeCanvas",value:function(){if(null!=this.canvas&&null!=this.canvas){var t=this.canvas;t.style.position="absolute",t.style.top=this.map.canvas.offsetTop+"px",t.style.left=this.map.canvas.offsetLeft+"px",t.width=parseInt(this.map.canvas.width),t.height=parseInt(this.map.canvas.height),t.style.width=this.map.canvas.width+"px",t.style.height=this.map.canvas.height+"px"}}},{key:"fixPosition",value:function(){}},{key:"onResize",value:function(){}},{key:"render",value:function(){var t=this.ctx;if(t){var e=this.map;i(t);var r=this.options.hasOwnProperty("flowAnimation"),n={transferCoordinate:function(t){var i=e.scene,n=Cesium.Cartesian3.fromDegrees(t[0],t[1]),o=[];if(!n)return[0,0];if(o=Array.isArray(n)?[-n[0],-n[1],-n[2]]:[-n.x,-n.y,-n.z],r&&(o=!1),i.mode===Cesium.SceneMode.SCENE3D&&Cesium.Cartesian3.angleBetween(i.camera.position,n)>Cesium.Math.toRadians(80))return o;var a=i.cartesianToCanvasCoordinates(n);return[a.x,a.y]}};this.data=this.dataSet.get(n),this.mapvBaseLayer.processData(this.data),this.drawAnimation()}}},{key:"drawAnimation",value:function(){var t=this.ctx,e=this.data;if(e){t.save(),t.globalCompositeOperation="destination-out",t.fillStyle="rgba(0, 0, 0, .1)",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.restore(),t.save(),this.options.shadowColor&&(t.shadowColor=this.options.shadowColor),this.options.shadowBlur&&(t.shadowBlur=this.options.shadowBlur),this.options.globalAlpha&&(t.globalAlpha=this.options.globalAlpha),this.options.globalCompositeOperation&&(t.globalCompositeOperation=this.options.globalCompositeOperation);for(var i=this.options,r=0;r<e.length;r++)if("Point"===e[r].geometry.type){t.beginPath();var n=e[r].size||this.options.size,o=e[r].minSize||this.options.minSize||0;void 0===e[r]._size&&(e[r]._size=o),t.arc(e[r].geometry._coordinates[0],e[r].geometry._coordinates[1],e[r]._size,0,2*Math.PI,!0),t.closePath(),e[r]._size++,e[r]._size>n&&(e[r]._size=o),t.lineWidth=1,t.strokeStyle=e[r].strokeStyle||e[r]._strokeStyle||i.strokeStyle||"yellow",t.stroke(),(h=e[r].fillStyle||e[r]._fillStyle||i.fillStyle)&&(t.fillStyle=h,t.fill())}else if("LineString"===e[r].geometry.type){t.beginPath();var a=e[r].size||this.options.size||5;o=e[r].minSize||this.options.minSize||0;void 0===e[r]._index&&(e[r]._index=0);var s=e[r]._index;t.arc(e[r].geometry._coordinates[s][0],e[r].geometry._coordinates[s][1],a,0,2*Math.PI,!0),t.closePath(),e[r]._index++,e[r]._index>=e[r].geometry._coordinates.length&&(e[r]._index=0);var l=e[r].strokeStyle||i.strokeStyle,h=e[r].fillStyle||i.fillStyle||"yellow";t.fillStyle=h,t.fill(),l&&i.lineWidth&&(t.lineWidth=i.lineWidth||1,t.strokeStyle=l,t.stroke())}t.restore()}}},{key:"animate",value:function(){this.drawAnimation();var t=this.options.animateTime||100;this.timeout=setTimeout(this.animate.bind(this),t)}},{key:"start",value:function(){this.stop(),this.animate()}},{key:"stop",value:function(){clearTimeout(this.timeout)}}]),t}());ie=function(t,e,i,r){return new oe(t,e,i,r)}}var ae,se=ie,le=function(t){function e(t,i,r,n){s(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,n));if(!Nt)return u(o);var a=o;return n=n||{},a.init(n),a.argCheck(n),o.canvasLayer=i,o.clickEvent=o.clickEvent.bind(o),o.mousemoveEvent=o.mousemoveEvent.bind(o),o._moveStartEvent=o.moveStartEvent.bind(o),o._moveEndEvent=o.moveEndEvent.bind(o),o._zoomStartEvent=o.zoomStartEvent.bind(o),o.bindEvent(),o}return c(e,Nt),l(e,[{key:"clickEvent",value:function(t){var i=this.map.containerPointToLayerPoint([0,0]),r=this.devicePixelRatio=this.canvasLayer.devicePixelRatio=window.devicePixelRatio,n=t.layerPoint;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,L.point((n.x-i.x)/r,(n.y-i.y)/r),t)}},{key:"mousemoveEvent",value:function(t){var i=t.layerPoint;h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,i,t)}},{key:"bindEvent",value:function(){var t=this.map;this.options.methods&&(this.options.methods.click&&t.on("click",this.clickEvent),this.options.methods.mousemove&&t.on("mousemove",this.mousemoveEvent)),this.map.on("movestart",this._moveStartEvent),this.map.on("moveend",this._moveEndEvent),this.map.on("zoomstart",this._zoomStartEvent)}},{key:"destroy",value:function(){this.unbindEvent(),this.clearData(),this.animator&&this.animator.stop(),this.animator=null,this.canvasLayer=null}},{key:"unbindEvent",value:function(){var t=this.map;this.options.methods&&(this.options.methods.click&&t.off("click",this.clickEvent),this.options.methods.mousemove&&t.off("mousemove",this.mousemoveEvent)),this.map.off("movestart",this._moveStartEvent),this.map.off("moveend",this._moveEndEvent),this.map.off("zoomstart",this._zoomStartEvent)}},{key:"getContext",value:function(){return this.canvasLayer.getCanvas().getContext(this.context)}},{key:"addData",value:function(t,e){var i=t;t&&t.get&&(i=t.get()),this.dataSet.add(i),this.update({options:e})}},{key:"update",value:function(t){var i=t||{},r=i.data;r&&r.get&&(r=r.get()),null!=r&&this.dataSet.set(r),h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,{options:i.options})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(t){if(this.dataSet){var e=this.dataSet.get({filter:function(e){return null==t||"function"!=typeof t||!t(e)}});this.dataSet.set(e),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"_canvasUpdate",value:function(t){if(this.canvasLayer){var e=this,i=e.options.animation,r=this.getContext(),n=this.map;if(e.isEnabledTime()){if(void 0===t)return void this.clear(r);"2d"===this.context&&(r.save(),r.globalCompositeOperation="destination-out",r.fillStyle="rgba(0, 0, 0, .1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),r.restore())}else this.clear(r);if("2d"===this.context)for(var o in e.options)r[o]=e.options[o];else r.clear(r.COLOR_BUFFER_BIT);if(!(e.options.minZoom&&n.getZoom()<e.options.minZoom||e.options.maxZoom&&n.getZoom()>e.options.maxZoom)){var a=n.getBounds(),s=a.getEast()-a.getWest(),l=a.getNorth()-a.getSouth(),h=n.getSize(),c=s/h.x,u=l/h.y,p=this.canvasLayer.getTopLeft(),f=n.latLngToContainerPoint(p),y={transferCoordinate:function(t){var i,r={x:(i="2d"===e.context?n.latLngToContainerPoint(L.latLng(t[1],t[0])):{x:(t[0]-p.lng)/c,y:(p.lat-t[1])/u}).x-f.x,y:i.y-f.y};return[r.x,r.y]}};void 0!==t&&(y.filter=function(e){var r=i.trails||10;return t&&e.time>t-r&&e.time<t});var d=e.dataSet.get(y);this.processData(d),e.options._size=e.options.size;var v=n.latLngToContainerPoint(L.latLng(0,0)),g={x:v.x-f.x,y:v.y-f.y};this.drawContext(r,d,e.options,g),e.options.updateCallback&&e.options.updateCallback(t)}}}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){}},{key:"moveStartEvent",value:function(){var t=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=t.stepsRange.start,this._hide())}},{key:"moveEndEvent",value:function(){this.canvasLayer.draw(),this._show()}},{key:"zoomStartEvent",value:function(){this._hide()}},{key:"clear",value:function(t){t&&t.clearRect&&t.clearRect(0,0,t.canvas.width,t.canvas.height)}},{key:"_hide",value:function(){this.canvasLayer.canvas.style.display="none"}},{key:"_show",value:function(){this.canvasLayer.canvas.style.display="block"}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),e}();if("undefined"!=typeof L){var he=L.Layer.extend({options:{attributionPrefix:null,attribution:""},initialize:function(t,e,i){i=i||{},this.dataSet=t||{},this.mapVOptions=e||{},this.render=this.render.bind(this),L.Util.setOptions(this,i),this.options.attributionPrefix&&(this.options.attribution=this.options.attributionPrefix+this.options.attribution),this.canvas=this._createCanvas(),L.stamp(this)},onAdd:function(t){this._map=t;var e=this.getPane(),i=this.container=L.DomUtil.create("div","leaflet-layer leaflet-zoom-animated",e);i.appendChild(this.canvas);var r=t.getSize();i.style.width=r.x+"px",i.style.height=r.y+"px",this.renderer=new le(t,this,this.dataSet,this.mapVOptions),this.draw(),this.fire("loaded")},onRemove:function(){L.DomUtil.remove(this.container),this.renderer.destroy()},addData:function(t,e){this.renderer.addData(t,e)},update:function(t){this.renderer.update(t)},getData:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet},removeData:function(t){this.renderer&&this.renderer.removeData(t)},clearData:function(){this.renderer.clearData()},draw:function(){return this._reset()},setZIndex:function(t){this.canvas.style.zIndex=t},render:function(){this.renderer._canvasUpdate()},getCanvas:function(){return this.canvas},getContainer:function(){return this.container},getTopLeft:function(){var t,e=this._map;e&&(t=e.getBounds().getNorthWest());return t},_createCanvas:function(){var t=document.createElement("canvas");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=this.options.zIndex||600;var e="undefined"==typeof window?{}:window,i=this.devicePixelRatio=e.devicePixelRatio;return this.mapVOptions.context&&"2d"!==this.mapVOptions.context||t.getContext("2d").scale(i,i),t},_resize:function(){var t=this.canvas;if(t){var e=this._map,i=e.getSize();t.width=i.x,t.height=i.y,t.style.width=i.x+"px",t.style.height=i.y+"px";var r=e.getBounds(),n=e.latLngToLayerPoint(r.getNorthWest());L.DomUtil.setPosition(t,n)}},_reset:function(){this._resize(),this._render()},redraw:function(){this._resize(),this._render()},_render:function(){this.render()}});ae=function(t,e,i){return new he(t,e,i)}}var ce=ae,ue={getDataSet:function(t){var e=[],i=t.features;if(i)for(var r=0;r<i.length;r++){var n=i[r],o=n.geometry,a=n.properties,s={};for(var l in a)s[l]=a[l];s.geometry=o,e.push(s)}return new p(e)}},pe={CSVToArray:function(t,e){e=e||",";for(var i=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),r=[[]],n=null;n=i.exec(t);){var o,a=n[1];a.length&&a!==e&&r.push([]),o=n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3],r[r.length-1].push(o)}return r},getDataSet:function(t,e){for(var i=this.CSVToArray(t,e||","),r=[],n=i[0],o=1;o<i.length-1;o++){for(var a=i[o],s={},l=0;l<a.length;l++){var h=a[l];"geometry"==n[l]&&(h=JSON.parse(h)),s[n[l]]=h}r.push(s)}return new p(r)}};e.version="2.0.38",e.canvasClear=i,e.canvasResolutionScale=function(t){var e=window.devicePixelRatio||1;t.canvas.width=t.canvas.width*e,t.canvas.height=t.canvas.height*e,t.canvas.style.width=t.canvas.width/e+"px",t.canvas.style.height=t.canvas.height/e+"px",t.scale(e,e)},e.canvasDrawSimple=y,e.canvasDrawHeatmap=b,e.canvasDrawGrid=x,e.canvasDrawHoneycomb=w,e.webglDrawSimple=ot,e.webglDrawPoint=D,e.webglDrawLine=M,e.webglDrawPolygon=nt,e.utilCityCenter=a,e.utilCurve=st,e.utilForceEdgeBundling=function(){var t={},e=[],i=[],r=[],n=.1,o=.1,a=2,s=6,l=70,h=.6666667,c=.6,u=1e-8;function p(e){return{x:t[e.target].x-t[e.source].x,y:t[e.target].y-t[e.source].y}}function f(e){return Math.sqrt(Math.pow(t[e.source].x-t[e.target].x,2)+Math.pow(t[e.source].y-t[e.target].y,2))}function y(t){for(var e=0,i=1;i<r[t].length;i++){e+=d(r[t][i],r[t][i-1])}return e}function d(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function v(t,e){var i=Math.sqrt((e.target.x-e.source.x)*(e.target.x-e.source.x)+(e.target.y-e.source.y)*(e.target.y-e.source.y)),r=((e.source.y-t.y)*(e.source.y-e.target.y)-(e.source.x-t.x)*(e.target.x-e.source.x))/(i*i);return{x:e.source.x+r*(e.target.x-e.source.x),y:e.source.y+r*(e.target.y-e.source.y)}}function g(t,e,i){var n=r[t][e-1],o=r[t][e+1],a=r[t][e],s=n.x-a.x+o.x-a.x,l=n.y-a.y+o.y-a.y;return{x:s*=i,y:l*=i}}function m(t,e,n){for(var o,a={x:0,y:0},s=i[t],l=0;l<s.length;l++){var h={x:r[s[l]][e].x-r[t][e].x,y:r[s[l]][e].y-r[t][e].y};if(Math.abs(h.x)>u||Math.abs(h.y)>u){var c=1/Math.pow((o={source:r[s[l]][e],target:r[t][e]},Math.sqrt(Math.pow(o.source.x-o.target.x,2)+Math.pow(o.source.y-o.target.y,2))),1);a.x+=h.x*c,a.y+=h.y*c}}return a}function _(t,i,r){for(var o=n/(f(e[t])*(i+1)),a=[{x:0,y:0}],s=1;s<i+1;s++){var l={x:0,y:0},h=g(t,s,o),c=m(t,s);l.x=r*(h.x+c.x),l.y=r*(h.y+c.y),a.push(l)}return a.push({x:0,y:0}),a}function b(i){for(var n=0;n<e.length;n++)if(1==i)r[n].push(t[e[n].source]),r[n].push((f=e[n],{x:(t[f.source].x+t[f.target].x)/2,y:(t[f.source].y+t[f.target].y)/2})),r[n].push(t[e[n].target]);else{var o=y(n)/(i+1),a=o,s=[];s.push(t[e[n].source]);for(var l=1;l<r[n].length;l++){for(var h=d(r[n][l],r[n][l-1]);a<h;){var c=a/h,u=r[n][l-1].x,p=r[n][l-1].y;u+=c*(r[n][l].x-r[n][l-1].x),p+=c*(r[n][l].y-r[n][l-1].y),s.push({x:u,y:p}),h-=a,a=o}a-=h}s.push(t[e[n].target]),r[n]=s}var f}function x(e,i){var r=v(t[i.source],{source:t[e.source],target:t[e.target]}),n=v(t[i.target],{source:t[e.source],target:t[e.target]}),o={x:(r.x+n.x)/2,y:(r.y+n.y)/2},a={x:(t[e.source].x+t[e.target].x)/2,y:(t[e.source].y+t[e.target].y)/2};return Math.max(0,1-2*d(a,o)/d(r,n))}function w(e,i){var r,n,o,a,s,l,h,c,u,y,v,g;return v=e,g=i,Math.abs((l=p(v),h=p(g),(l.x*h.x+l.y*h.y)/(f(v)*f(g))))*(u=i,2/((y=(f(c=e)+f(u))/2)/Math.min(f(c),f(u))+Math.max(f(c),f(u))/y))*(a=i,(s=(f(o=e)+f(a))/2)/(s+d({x:(t[o.source].x+t[o.target].x)/2,y:(t[o.source].y+t[o.target].y)/2},{x:(t[a.source].x+t[a.target].x)/2,y:(t[a.source].y+t[a.target].y)/2})))*(r=e,n=i,Math.min(x(r,n),x(n,r)))}function S(){for(var t=0;t<e.length-1;t++)for(var r=t+1;r<e.length;r++)t!=r&&(w(e[t],e[r])>=c&&(i[t].push(r),i[r].push(t)))}var C=function(){var t=o,n=l,a=1;(function(){for(var t=0;t<e.length;t++)r[t]=[]})(),function(){for(var t=0;t<e.length;t++)i[t]=[]}(),b(a),S();for(var c=0;c<s;c++){for(var u=0;u<n;u++){for(var p=[],f=0;f<e.length;f++)p[f]=_(f,a,t);for(var y=0;y<e.length;y++)for(var d=0;d<a+1;d++)r[y][d].x+=p[y][d].x,r[y][d].y+=p[y][d].y}t/=2,n*=h,b(a*=2)}return r};return C.nodes=function(e){return 0==arguments.length?t:(t=e,C)},C.edges=function(i){return 0==arguments.length?e:(e=function(e){for(var i=[],r=0;r<e.length;r++)t[e[r].source].x!=t[e[r].target].x&&t[e[r].source].y!=t[e[r].target].y&&i.push(e[r]);return i}(i),C)},C.bundling_stiffness=function(t){return 0==arguments.length?n:(n=t,C)},C.step_size=function(t){return 0==arguments.length?o:(o=t,C)},C.cycles=function(t){return 0==arguments.length?s:(s=t,C)},C.iterations=function(t){return 0==arguments.length?l:(l=t,C)},C.iterations_rate=function(t){return 0==arguments.length?h:(h=t,C)},C.subdivision_points_seed=function(t){return 0==arguments.length?P:(P=t,C)},C.subdivision_rate=function(t){return 0==arguments.length?a:(a=t,C)},C.compatbility_threshold=function(t){return 0==arguments.length?compatbility_threshold:(c=t,C)},C},e.utilDataRangeIntensity=v,e.utilDataRangeCategory=lt,e.utilDataRangeChoropleth=ht,e.Map=ct,e.baiduMapCanvasLayer=ut,e.baiduMapAnimationLayer=Wt,e.baiduMapLayer=Gt,e.googleMapCanvasLayer=Vt,e.googleMapLayer=qt,e.MaptalksLayer=Yt,e.AMapLayer=Jt,e.OpenlayersLayer=$t,e.OpenlayersAnimationLayer=Qt,e.CesiumAnimationLayer=se,e.leafletMapLayer=ce,e.cesiumMapLayer=re,e.DataSet=p,e.geojson=ue,e.csv=pe,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,i(79))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.option=t}return t.prototype.createToolTip=function(){var t=document.createElement("div");t.setAttribute("class","tooltip"),t.style.cssText=["position: absolute;","z-index: 1;","display: none;","background: "+(this.option.backgroundColor||"rgba(50, 50, 50, 0.7)")+";","opacity: "+(this.option.opacity||1)+";","border-radius: 0.2em;","padding: 5px;","white-space: nowrap;"].join("");var e=document.createElement("span");e.style.cssText=["display: inline-block;","margin-right: 5px;","border-radius: 10px;","width: 10px;","height: 10px;","background-color: #f4e925;"].join(""),t.appendChild(e);var i=document.createElement("label");if(i.style.cssText=["font-size: 15px;","color: rgb(238, 238, 238);"].join(""),this.option.hasOwnProperty("textStyle")){var r=this.option.textStyle;i.style.fontSize=r.fontSize||"15px",i.style.color=r.color||"rgb(238, 238, 238)"}return t.appendChild(i),this.tooltipDom=t},t.prototype.updateTooltip=function(t,e,i,r,n){t?(this.tooltipDom.style.display="block",this.tooltipDom.getElementsByTagName("span")[0].style.backgroundColor=n||"#f4e925",this.tooltipDom.getElementsByTagName("label")[0].innerText=e,this.tooltipDom.style.left=i+"px",this.tooltipDom.style.top=r+"px"):this.tooltipDom.style.display="none"},t.prototype.getStr=function(t,e,i,r){var n=t;return t.match(/{(.+?)}/g).forEach(function(t){var o=t.replace("{","").replace("}","");o==i&&(o=r),n=n.replace(t,e[o])}),n},t}();e.ToolTip=r},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(54),a=i(119),s=i(16),l=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.setDefaultConfig(),r.shapes=new a.Grid,r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"weight",gradient:{.3:"#FF0000",1:"#0000FF"},size:10,offset:[0,0],strokeStyle:"rgba(255,255,0,1)",lineWidth:1,shadowColor:"rgba(255,255,0,1)",shadowBlur:3,label:{show:!0,fillStyle:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},globalAlpha:1,legend:{show:!0,width:20,height:180},tooltip:{formatter:"{point_count}"}},e)},e.prototype.draw=function(e,i,r,n){if(this._data){this.pixelRatio=n;var o=this.findAll(),a=new s.Intensity({gradient:o.gradient,max:o.max,min:o.min});return this.shapes.draw(e,i,this._data,r,this.findAll(),a),t.prototype.setDrawConfig.call(this,n,this.shapes),this.onEvents(),this.setInteractions(a),e}return e},e.prototype.setInteractions=function(e){var i=this.findAll();i.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,i),i.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,i.tooltip)},e}(o.ZRenderChart);e.GridChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(54),a=i(118),s=i(16),l=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.setDefaultConfig(),r.shapes=new a.HoneyComb,r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"weight",gradient:{.3:"#FF0000",1:"#0000FF"},size:10,offset:[0,0],strokeStyle:"rgba(255,255,0,1)",lineWidth:1,shadowColor:"rgba(255,255,0,1)",shadowBlur:3,label:{show:!1,fillStyle:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},legend:{show:!0,width:20,height:180},tooltip:{formatter:"{point_count}"},globalAlpha:1},e)},e.prototype.draw=function(e,i,r,n){if(this._data){var o=this.findAll(),a=new s.Intensity({gradient:o.gradient,max:o.max,min:o.min});return this.shapes.draw(e,i,this._data,r,this.findAll(),a),t.prototype.setDrawConfig.call(this,n,this.shapes),this.onEvents(),this.setInteractions(a),e}return e},e.prototype.setInteractions=function(e){var i=this.findAll();i.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,i),i.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,i.tooltip)},e}(o.ZRenderChart);e.HoneyCombChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(54),a=i(122),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.setDefaultConfig(),r.shapes=new a.Bubble,r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{maxSize:25,minSize:10,fieldName:"weight",fillStyle:"rgba(55,50,250,0.6)",offset:[0,0],shadowColor:"rgba(55,50,250,0.8)",shadowBlur:10,label:{show:!1,fillStyle:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},tooltip:{formatter:"{name}:{weight}"}},e)},e.prototype.draw=function(e,i,r,n){return this._data&&(this.pixelRatio=n,this.shapes.draw(e,i,r,this._data,this.findAll()),t.prototype.setDrawConfig.call(this,n,this.shapes),this.onEvents(),this.setInteractions()),e},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e}(o.ZRenderChart);e.BubbleChart=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=i(16),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.options=null,r.setDefaultConfig(),r}return n(e,t),e.prototype.setData=function(t){this._layer.getLayer().clear(),this._data=t.asArray(),this._layer.getLayer().addFeatureCollection(t.toGFeatureCollection()),this.option=this.findAll();var e=this.createClassBreaksRenderer();this._layer.getLayer().render(e),this.bindEvents()},e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",strokeStyle:"rgba(255,255,0,1)",lineWidth:2,legend:{show:!0,width:20,height:180},emphasis:{strokeStyle:"#222",fillStyle:"#f0f",lineWidth:1},tooltip:{formatter:"{name}:{weight}"},label:{show:!0,fillStyle:"rgb(0,114,114)",fontSize:"15px",fontWeight:"normal",fontFamily:"",textAlign:"center",rotation:0,offsetX:0,offsetY:0,shadowBlur:.5,shadowColor:"rgba(3,63,120,1)"},globalAlpha:1,gradient:{0:"#ffffe5",1:"#f00"}},e)},e.prototype.createClassBreaksRenderer=function(){var t=this.option,e=new a.Intensity({gradient:t.gradient,maxSize:t.maxSize,minSize:t.minSize,max:t.max,min:t.min});this.setLegend(e,t),this._layer.getLayer().setOpacity(t.globalAlpha);var i=[],r=(Object.keys(t.gradient),[]),n=t.min?t.min:0,s=t.max?t.max:100,l=[],h=this.getWeights(t).sort(function(t,e){return t-e}),c=[];this.getWeights(t).map(function(t){t<=s&&c.push(t)});for(var u=0;u<c.length;u++){var p=e.getColor(h[u]),f=this.toColor(p);l.push(p),r[u]=new o.sfs.SimpleFillSymbol({fillColor:f,borderColor:this.toColor(t.strokeStyle),borderThickness:t.lineWidth})}var y,d,v,g=this.autoGrade(n,s,c.length,l),m=new o.sfs.SimpleMarkerSymbol({fillColor:new o.sfs.Color({r:255,g:0,b:0,a:255}),borderColor:new o.sfs.Color({r:255,g:0,b:0,a:255}),size:5,borderThickness:1,style:"circle"});this.fieldName=t.fieldName&&0<t.fieldName.length?t.fieldName:"weight",Array.isArray(this.fieldName)?(d=1<this.fieldName.length?this.fieldName[1]:this.fieldName[0],y=this.fieldName[0]):(y=this.fieldName,d=this.fieldName);var _=parseInt(t.label.fontSize.replace("px",""));t.label.show&&(v=new o.sfs.TextSymbol({text:y,fontSize:_,borderThickness:t.label.shadowBlur,fontWeight:t.label.fontWeight,fontFamilyName:t.label.fontFamily,foreground:this.toColor(t.label.fillStyle),borderColor:this.toColor(t.label.shadowColor),textAlign:t.label.textAlign,rotation:t.label.rotation,offsetX:t.label.offsetX,offsetY:t.label.offsetY}));for(var b,x,w=[],S=(u=0,h.length);u<S;++u)if(u<g.length)b=g[u-1]?g[u-1].value:n,x=g[u].value,w[u]=new o.sfs.CurrencySymbol({fillSymbol:r[u],markerSymbol:m,textSymbol:v}),i.push({startValue:b,endValue:x,symbol:w[u]});else{var C=g.length-1;x=h[u],w[C]=new o.sfs.CurrencySymbol({fillSymbol:r[C],markerSymbol:m,textSymbol:v}),i.push({startValue:b,endValue:x,symbol:w[C]})}var O=new o.render.ClassBreaksRenderer({symbol:w[0],showLabel:t.label.show||!1,labelField:d,fieldName:y,classfications:i});return this.classifyRender=O,this.setToolTip(t),O},e.prototype.setLegend=function(e,i){i.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,i)},e}(i(77).BoundaryBaseChart);e.BoundaryChart=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(54),a=i(302),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.setDefaultConfig(),r.shapes=new a.SimplePoint,r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{size:13,fillStyle:"rgba(55,50,250,1)",offset:[0,0],shadowColor:"rgba(55,50,250,0.8)",shadowBlur:10,label:{show:!1,fillStyle:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},tooltip:{formatter:"{name}"}},e)},e.prototype.draw=function(e,i,r,n){return this._data&&(this.pixelRatio=n,this.shapes.draw(e,i,r,this._data,this.findAll()),t.prototype.setDrawConfig.call(this,n,this.shapes),this.onEvents(),this.setInteractions()),e},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e}(o.ZRenderChart);e.DensityChart=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(75),n=i(7),o=function(){function t(){}return t.prototype.draw=function(t,e,i,r,o){this.zr||(this.zr=n.init(t)),this.zr.clear();var a=this.getNewData(r,2*o.size,i);this.drawSimplePoint(e,a,i,o)},t.prototype.getNewData=function(t,e,i){for(var r={},n=e*i,o=function(e){var i=t[e].shape,o=Math.floor(i[0]/n),a=Math.floor(i[1]/n),s=o+"-"+a,l=r[s];l=r[s]={},Object.keys(t[e]).forEach(function(i){"shape"!==i&&(l[i]=t[e][i])}),l.i=o,l.j=a,l.x=i[0],l.y=i[1]},a=0;a<t.length;a++)o(a);return r},t.prototype.drawSimplePoint=function(t,e,i,o){var a=t[0],s=t[3],l=this.getZrStyle(o),h=o.offset,c=new n.Group;for(var u in e){var p=(e[u].x-a)/i+h[0],f=(s-e[u].y)/i+h[1],y=o.size,d=new r.Circle(p,f,y);o.label.show&&(l.text=e[u].name),d.setAttr("style",l),d.setAttr("data",this.getProperty(e[u])),c.add(d.getElement())}this.zr.add(c),this.zrGroup=c},t.prototype.getPolygon=function(t){for(var e=0;e<this.zrGroup.childCount();e++){var i=this.zrGroup.childAt(e);if(i.contain(t.x,t.y))return i}return null},t.prototype.getProperty=function(t){var e={};for(var i in t)"i"!=i&&"j"!=i&&"x"!=i&&"y"!=i&&(e[i]=t[i]);return e},t.prototype.getZrStyle=function(t){return{fill:t.fillStyle,stroke:t.strokeStyle,lineWidth:t.lineWidth,shadowColor:t.shadowColor,shadowBlur:t.shadowBlur,opacity:t.globalAlpha,textFill:t.label.fillStyle,fontStyle:t.label.fontStyle,fontWeight:t.label.fontWeight,fontSize:t.label.fontSize.replace("px",""),fontFamily:t.label.fontFamily,textShadowColor:t.label.shadowColor,textShadowBlur:t.label.shadowBlur}},t}();e.SimplePoint=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(1),l=i(16),h=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Heat)||this;return r.isSelect=!1,r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"weight",shadowBlur:10,size:10,globalAlpha:1,legend:{show:!0,width:20,height:180},gradient:{.2:"#00f",.4:"#0ff",.6:"#0f0",.8:"#ff0",1:"#f00"}},e)},e.prototype.setData=function(t){this._data=t.asArray(),this.createHeatRender()},e.prototype.createHeatRender=function(){var t=this.findAll(),e=this._layer.getLayer();e.clear();var i=[];Object.keys(t.gradient).forEach(function(e){i.push(t.gradient[e])}),e.setBlur(t.shadowBlur),e.setRadius(t.size),e.setOpacity(t.globalAlpha),e.setGradient(i);for(var r=[],n=t.fieldName,o=this.getNewData(this._data,n),a=0;a<o.length;a++){var h=new s.sfs.Point({x:o[a].x,y:o[a].y,spatialReference:s.sfs.EnumSpatialReference.EPSG4326}),c=new s.carto.Heat({geometry:h,weight:o[a][n]});r.push(c)}e.addHeats(r);var u=new l.Intensity({gradient:t.gradient,max:t.max,min:t.min});t.legend.text=[1,0],this.setLegend(u,t)},e.prototype.setLegend=function(e,i){i.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,i)},e.prototype.getNewData=function(t,e){for(var i=[],r=0;r<t.length;r++){var n=t[r].shape,o={};o.x=n[0],o.y=n[1],t[r].hasOwnProperty(e)&&(o[e]=t[r][e]),i.push(o)}return i},e}(o.MapVChart);e.HeatChart=h},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(15),s=i(53),l=i(6),h=function(t){function e(e,i){var r=t.call(this,e,i,l.MapVChartType.LineAnimation)||this;return r._lineData=[],r._pointData=[],r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{strokeStyle:"rgba(53,57,255,0.5)",lineWidth:3,shadowColor:"rgba(53,57,255,0.2)",shadowBlur:3,globalAlpha:1,flowAnimation:{show:!0,fillStyle:"rgba(255, 250, 250, 0.5)",size:3,trails:3,duration:10,stepsRange:{start:0,end:100}},tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.getFlowAnimationOption=function(){var t=this.findAll().flowAnimation,e={animation:{}};for(var i in t)"duration"===i||"trails"===i||"stepsRange"===i?e.animation[i]=t[i]:e[i]=t[i];return e},e.prototype.setData=function(t){var e=t.asArray();this.getData(e);var i=this.findAll(),r=this._layer.getZIndex();if(this._layer instanceof s.CompositeLayer){var n=this._layer.get("line");if(n instanceof a.MapVLayer){var o=this._lineData,l=n.toDataSet(o);n.getLayer()?n.updateLayer(i,l):n.createLayer(i,l)}var h=this._layer.get("flowAnimation");if(h instanceof a.MapVLayer){var c=this._pointData,u=h.toDataSet(c),p=this.getFlowAnimationOption();if(i.hasOwnProperty("globalAlpha")&&!p.hasOwnProperty("globalAlpha")&&(p.globalAlpha=i.globalAlpha),h.getLayer()?h.updateLayer(p,u):h.createLayer(p,u),p.show){var f=this._layer.getOpacity();h.setOpacity(f)}else h.setOpacity(0);h.setZIndex(r)}}this.setInteractions()},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().get("line").getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t){var e=this;this._lineData=[],this._pointData=[],t.forEach(function(t){var i=Object.keys(t),r={};i.forEach(function(i){"shape"===i?(t[i].forEach(function(t,i){e._pointData.push({geometry:{type:"Point",coordinates:t},count:1,time:2*i})}),r.geometry={type:"LineString",coordinates:t[i]}):r[i]=t[i]}),e._lineData.push(r)})},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer().get("line").getLayer(),i=t.pixel[0],r=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:i,y:r});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,i+10,r+10,o.strokeStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.LineAnimationChart=h},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(15),l=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.DynamicPoint)||this;return r._pointData=[],r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();e.context=e.renderContext,t.prototype.configOptions.call(this,{fieldName:"time",fillStyle:"rgba(0,255,0,1)",shadowColor:"rgba(53,57,255,0.2)",shadowBlur:3,size:3,globalAlpha:1,draw:"simple",animation:{stepsRange:{start:0,end:10},trails:3,duration:5},renderContext:"canvas",tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.setData=function(t){var e=this.findAll();this.fieldName=e.fieldName;var i=t.asArray();if(this.getData(i),e.draw="simple",this._layer instanceof s.MapVLayer){var r=this._layer.getLayer(),n=this._pointData,o=this._layer.toDataSet(n);r?this._layer.updateLayer(e,o):this._layer.createLayer(e,o)}this.setInteractions()},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t){var e=this;this._pointData=[],t.forEach(function(t){e._pointData.push({geometry:{type:"Point",coordinates:t.shape},time:t[e.fieldName]})})},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer();console.log(t);var i=t.pixel[0],r=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:i,y:r});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,i+10,r+10,o.fillStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.DynamicPointChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(15),s=i(53),l=i(6),h=function(t){function e(e,i){var r=t.call(this,e,i,l.MapVChartType.QianXi)||this;return r._lineData=[],r._pointData=[],r._textData=[],r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{strokeStyle:"rgba(53,57,255,0.5)",lineWidth:3,shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,globalAlpha:1,flowAnimation:{show:!0,fillStyle:"rgba(255, 250, 250, 0.5)",size:3,trails:10,duration:2,stepsRange:{start:0,end:40}},label:{show:!0,fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",fillStyle:"pink"},tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.getFlowAnimationOption=function(){var t=this.findAll().flowAnimation,e={animation:{}};for(var i in t)"duration"===i||"trails"===i||"stepsRange"===i||"time"===i?e.animation[i]=t[i]:e[i]=t[i];return e.draw="simple",e},e.prototype.setData=function(t){var e=t.asArray(),i=this.findAll(),r=this._layer.getZIndex();if(this._layer instanceof s.CompositeLayer){var n=this._layer.get("line");if(this.getData(e,n),n instanceof a.MapVLayer){var o=this._lineData,l=n.toDataSet(o);n.getLayer()?n.updateLayer(i,l):n.createLayer(i,l)}var h=this._layer.get("flowAnimation");if(h instanceof a.MapVLayer){var c=this._pointData,u=h.toDataSet(c),p=this.getFlowAnimationOption();if(i.hasOwnProperty("globalAlpha")&&!p.hasOwnProperty("globalAlpha")&&(p.globalAlpha=i.globalAlpha),h.getLayer()?h.updateLayer(p,u):h.createLayer(p,u),p.show){var f=this._layer.getOpacity();h.setOpacity(f)}else h.setOpacity(0);h.setZIndex(r)}var y=this._layer.get("text");if(y instanceof a.MapVLayer){var d=this._textData,v=y.toDataSet(d);p=i.label,i.hasOwnProperty("globalAlpha")&&!p.hasOwnProperty("globalAlpha")&&(p.globalAlpha=i.globalAlpha),p.draw="text",p.font=(p.fontStyle+" "||!1)+(p.fontWeight+" "||!1)+(p.fontSize+" "||!1)+(p.fontFamily||""),y.getLayer()?y.updateLayer(p,v):y.createLayer(p,v),p.show?y.setVisible(!0):y.setVisible(!1),y.setZIndex(r)}}this.setInteractions()},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().get("line").getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t,e){var i=this;this._lineData=[],this._pointData=[];var r=this.getEndCity(t),n=r.shape;t.forEach(function(t){var o=t.shape,a=e.getCurvePoints(o,n);Object.keys(t).forEach(function(t){"shape"===t&&a.forEach(function(t,e){i._pointData.push({geometry:{type:"Point",coordinates:t},count:1,time:2*e})})}),i._lineData.push({geometry:{type:"LineString",coordinates:a}});var s=t.from;t.hasOwnProperty("to")&&(s=r.to),i._textData.push({geometry:{type:"Point",coordinates:o},text:s})})},e.prototype.getEndCity=function(t){var e={};return t.forEach(function(t){t.hasOwnProperty("to")&&(e=t)}),e},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer().get("line").getLayer(),i=t.pixel[0],r=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:i,y:r});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,i+10,r+10,o.strokeStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e,i){this.config("methods."+t,e),this.config("label.methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0),this.config("label.methods."+t,void 0)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.QianXiChart=h},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(15),s=i(53),l=i(6),h=function(t){function e(e,i){var r=t.call(this,e,i,l.MapVChartType.LineAnimation)||this;return r._lineData=[],r._pointData=[],r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{strokeStyle:"rgba(25, 12, 25, 0.6)",globalCompositeOperation:"lighter",shadowColor:"rgba(55, 50, 250, 0.5)",shadowBlur:10,lineWidth:1,flowAnimation:{show:!0,fillStyle:"rgba(255, 250, 250, 0.9)",size:1.5,stepsRange:{start:0,end:100},trails:1,duration:5},tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.getFlowAnimationOption=function(){var t=this.findAll().flowAnimation,e={animation:{}};for(var i in t)"duration"===i||"trails"===i||"stepsRange"===i?e.animation[i]=t[i]:e[i]=t[i];return e},e.prototype.setData=function(t){var e=t.asArray();this.getData(e);var i=this.findAll(),r=this._layer.getZIndex();if(this._layer instanceof s.CompositeLayer){var n=this._layer.get("line");if(n instanceof a.MapVLayer){var o=this._lineData,l=n.toDataSet(o);n.getLayer()?n.updateLayer(i,l):n.createLayer(i,l)}var h=this._layer.get("flowAnimation");if(h instanceof a.MapVLayer){var c=this._pointData,u=h.toDataSet(c),p=this.getFlowAnimationOption();if(h.getLayer()?h.updateLayer(p,u):h.createLayer(p,u),p.show){var f=this._layer.getOpacity();h.setOpacity(f)}else h.setOpacity(0);h.setZIndex(r)}}this.setInteractions()},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().get("line").getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t){this._lineData=[],this._pointData=[];for(var e={},i=[],r=0;r<t.length;r++){var n=t[r].shape;e[r]={x:n[0],y:n[1]},i.push({source:r,target:0})}if(this._layer instanceof s.CompositeLayer){var o=this._layer.get("line");if(o instanceof a.MapVLayer){var l=o.utilForceEdgeBundling().nodes(e).edges(i)();for(r=0;r<l.length;r++){for(var h=l[r],c=[],u=0;u<h.length;u++)c.push([h[u].x,h[u].y]),this._pointData.push({geometry:{type:"Point",coordinates:[h[u].x,h[u].y]},count:1,time:u});this._lineData.push({geometry:{type:"LineString",coordinates:c}})}}}},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer().get("line").getLayer(),i=t.pixel[0],r=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:i,y:r});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,i+10,r+10,o.strokeStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().get("line").getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.ForceEdgeBundlingChart=h},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(11),l=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Situation)||this;return r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"weight",strokeStyle:"#f4e925",strokShadowColor:"",strokShadowBlur:0,fillStyle:"#FF8C00",shadowColor:"#EE0000",shadowBlur:50,offset:[0,0],label:{show:!1,fillStyle:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},tooltip:{trigger:"item"},bar:{itemStyle:{color:"#ddb926",opacity:1},label:{show:!1,position:"inside",color:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},emphasis:{label:{},itemStyle:{}}},grid:{right:40,top:100,bottom:40,width:"30%"},xAxis:{type:"value",scale:!0,position:"top",boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{margin:2,textStyle:{color:"#aaa"}}},yAxis:{type:"category",nameGap:16,axisLine:{show:!0,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,textStyle:{color:"#111"}},data:[]},series:[{type:"scatter",encode:{lng:1,lat:2,itemName:0},label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{color:"#FF8C00",position:"right",show:!0,shadowBlur:0,shadowColor:"",opacity:1},animation:!1},{type:"effectScatter",encode:{lng:1,lat:2,itemName:0},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,animation:!1,label:{formatter:"{b}",position:"right",show:!0},itemStyle:{color:"#f4e925",shadowBlur:50,shadowColor:"#EE0000",opacity:1},zlevel:1},{id:"bar",zlevel:2,type:"bar",animation:!1,itemStyle:{color:"#ddb926",opacity:1},label:{show:!1,position:"inside",color:"rgba(255,255,0,1)",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},emphasis:{label:{},itemStyle:{}},encode:{y:0,x:3,itemName:0}}],globalAlpha:1},e)},e.prototype.setData=function(t){this._data=t.asArray();var e=this._layer,i=this.getEchartOption();e instanceof s.EChartsLayer&&(e.getLayer()?e.updateLayer(i):e.createLayer(i),e.getLayer().setOpacity(this.findAll().globalAlpha))},e.prototype.getEchartOption=function(){var t=this.findAll(),e=this.getNumberLeght(t),i=1;1<e&&(i=Math.pow(10,e-1)/15);var r;r=/^\+?[1-9][0-9]*$/.test(t.label.fontSize)?t.label.fontSize:parseInt(t.label.fontSize.replace("px","")),t.series[0].symbolSize=function(t){return Math.max(t[3]/(2*i),8)},t.series[1].symbolSize=function(t){return Math.max(t[3]/(3*i),8)};var n=[];this._data.map(function(t){n.push(t.name)}),t.yAxis.data=n,t.series[1].label=t.label,t.series[1].label.color=t.label.fillStyle,t.series[1].label.fontSize=r,t.series[0].itemStyle.color=t.fillStyle,t.series[0].itemStyle.shadowColor=t.strokShadowColor,t.series[0].itemStyle.shadowBlur=t.strokShadowBlur,t.series[1].itemStyle.color=t.strokeStyle,t.series[1].itemStyle.shadowBlur=t.shadowBlur,t.series[1].itemStyle.shadowColor=t.shadowColor,t.series[2].itemStyle=t.bar.itemStyle,t.series[2].label=t.bar.label,t.series[2].emphasis=t.bar.emphasis;for(var o=0;o<t.series.length-1;o++)"TSMap"==this.mapType?t.series[o].coordinateSystem="G2Map":t.series[o].coordinateSystem="CesiumMap";var a={tooltip:t.tooltip,grid:t.grid,xAxis:t.xAxis,yAxis:t.yAxis,dataset:{source:this.toDataSet(t),dimensions:["name","x","y","value"]},series:t.series};return"TSMap"==this.mapType?a.G2Map={}:a.CesiumMap={},a},e.prototype.toDataSet=function(t){var e=[],i=t.fieldName;return this._data.map(function(t){var r={},n=[];for(var o in n.push(t.name),n.push.apply(n,t.shape.concat(t[i])),t)r[o]=t[o];delete r.shape,n.push(r),e.push(n)}),e},e.prototype.getMax=function(t){var e=[],i=t.fieldName;return this._data.map(function(t){e.push(t[i])}),Math.max.apply(null,e)},e.prototype.getNumberLeght=function(t){var e=[],i=t.fieldName;return this._data.map(function(t){var r=t[i].toString().length;e.push(r)}),this.findMost(e)},e.prototype.findMost=function(t){if(t.length){if(1==t.length)return t[0];var e,i=0;return t.reduce(function(t,r){return t[r]?t[r]+=1:t[r]=1,t[r]>i&&(i=t[r],e=r),t},{}),e}},e}(o.MapVChart);e.SituationChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(13);i(73);var l=i(11),h=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Flow)||this;return r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{density:128,type:"point",size:1,speed:1,trails:2,supersampling:4,gradient:{.1:"#313695",.2:"#4575b4",.3:"#74add1",.4:"#abd9e9",.5:"#e0f3f8",.6:"#ffffbf",.7:"#fee090",.8:"#fdae61",.9:"#f46d43",1:"#d73027"},legend:{show:!0,left:30,bottom:50,textStyle:{color:"#000",fontSize:12}}},e)},e.prototype.getEchartOption=function(){var t=this.findAll(),e=t;t={},this.__config=new s.ChartConfig(t);var i=[],r="";for(var n in e.gradient)"1"!=n?i.push(e.gradient[n]):r=e.gradient[n];return""!=r&&i.push(r),e.legend.inRange={},e.legend.inRange.color=i,e.legend.dimension=4,this.__config.config("series[0]",{type:"flowGL",particleDensity:e.density,particleType:e.type,particleSize:e.size,particleSpeed:e.speed,particleTrail:e.trails,supersampling:e.supersampling}),this.__config.config("visualMap",e.legend),this.__config.config("animation",!1),t},e.prototype.setData=function(t){var e=t.asArray(),i=[],r=0,n=1/0;e.forEach(function(t){var e=t.shape[0],o=t.shape[1];delete t.shape;var a=[e,o];for(var s in t)a.push(t[s]);r=Math.max(t.mag,r),n=Math.min(t.mag,n),i.push(a)}),this.getEchartOption(),"TSMap"==this.mapType?(this.__config.config("G2Map",{}),this.__config.config("series[0].coordinateSystem","G2Map")):(this.__config.config("CesiumMap",{}),this.__config.config("series[0].coordinateSystem","CesiumMap")),this.__config.config("series[0].data",i),this.__config.config("visualMap.min",n),this.__config.config("visualMap.max",r),this.__config.config("visualMap.calculable",!0);var o=this.__config.findAll();this._layer instanceof l.EChartsLayer&&(this._layer.getLayer()?this._layer.updateLayer(o):this._layer.createLayer(o))},e}(o.MapVChart);e.WindChart=h},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(15),s=i(6),l=function(t){function e(e,i){var r=t.call(this,e,i,s.MapVChartType.DynamicPoint)||this;return r._pointData=[],r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{iconFieldName:"icon",iconType:"url",iconWidth:16,iconHeight:16,fillStyle:"rgba(255, 50, 0, 1.0)",size:5,minSize:8,maxSize:31,globalAlpha:1,clusterRadius:150,maxZoom:19,label:{show:!0,fillStyle:"white",fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal"},tooltip:{formatter:"{point_count}"},gradient:{0:"blue",.5:"yellow",1:"rgb(255,0,0)"}},e)},e.prototype.setData=function(t){var e=t.asArray();this.getData(e);var i=this.findAll();i.draw="cluster",i.label.font=(i.label.fontStyle+" "||!1)+(i.label.fontWeight+" "||!1)+(i.label.fontSize+" "||!1)+(i.label.fontFamily||"");var r=this._layer;if(r instanceof a.MapVLayer){var n=this._pointData,o=r.toDataSet(n);r.getLayer()?r.updateLayer(i,o):r.createLayer(i,o)}this.setInteractions()},e.prototype.setInteractions=function(){var e=this.findAll();e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.getData=function(t){var e=this;this._pointData=[];var i={},r=this.findAll(),n=r.iconFieldName,o=r.iconType||"url",a=r.iconWidth||16,s=r.iconHeight||16;t.forEach(function(t){var r=Object.keys(t),l={};r.forEach(function(e){if("shape"===e)l.geometry={type:"Point",coordinates:t[e]};else if(e==n){if(!i.hasOwnProperty(t[e])&&"url"==o){var r=new Image(a,s);r.src=t[e],i[t[e]]=r}l[e]=i[t[e]]}else l[e]=t[e]}),e._pointData.push(l)})},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer(),i=t.pixel[0],r=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:i,y:r});if(n){var o=this.findAll(),a=this.tooltip.getStr(o.tooltip.formatter,n.properties);this.tooltip.updateTooltip(!0,a,i+10,r+10,n._fillStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.PointClusterChart=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(17),n=i(35),o=i(123),a=function(){function t(){}return t.creator=function(t){switch(t.mapType){case r.MapType.TSMap:return new n.TSMap(t.dom,t);case r.MapType.TSGlobe:return new o.TSGlobe(t.dom,t)}},t}();e.MapCreator=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(1),l=i(20),h=i(19),c=i(21),u=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.FeatureSource)||this;return r.isSelect=!1,r.mouseoverEve=null,r.setDefaultConfig(),r}return n(e,t),e.prototype.setData=function(t){this._layer.getLayer().clear(),this._layer.getLayer().addFeatureCollection(t.toGFeatureCollection());var e=this.createSimpleRenderer();this._layer.getLayer().render(e)},e.prototype.startSelect=function(){this.mouseoverEve||(this.mouseoverEve=this.mouseoverEvent.bind(this),this._layer.getLayer().map.on("mousemove",this.mouseoverEve))},e.prototype.stopSelect=function(){this._layer.getLayer().map.un("mousemove",this.mouseoverEve),this.mouseoverEve=null},e.prototype.mouseoverEvent=function(t,e,i,r){var n=this._layer.getLayer(),o=n.hitTest(i,r);if(this.isSelect=!0,null!=o&&o.hasOwnProperty("feature")){var a=o.feature;if(a){this.selectFeature&&n.unSelect(new s.carto.Graphic({feature:this.selectFeature}));var l=new s.carto.Graphic({feature:a});n.select(l),n.selectSymbol=this.createCurrencySymbol(this.findAll()),this.selectFeature=a}}else n.unSelect(new s.carto.Graphic({feature:this.selectFeature}))},e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{strokeStyle:"#111",fillStyle:"#ccc",lineWidth:2,globalAlpha:1,emphasis:{strokeStyle:"#222",fillStyle:"#2a333d",lineWidth:1},label:{show:!0,fillStyle:"rgb(0,114,114)",fontSize:"12px",fontWeight:"normal",fontFamily:"",textAlign:"center",rotation:0,offsetX:0,offsetY:0,shadowBlur:.5,shadowColor:"rgba(3,63,120,1)"}},e)},e.prototype.createSimpleRenderer=function(){var t=this.findAll();this._layer.getLayer().setOpacity(t.globalAlpha);var e=this.createCurrencySymbol(t);return new s.render.UniqueValueRenderer({symbol:e,showLabel:t.label.show,labelField:"name",fieldName:"name"})},e.prototype.createCurrencySymbol=function(t){var e=new s.sfs.SimpleMarkerSymbol({fillColor:new s.sfs.Color({r:255,g:0,b:0,a:255}),borderColor:new s.sfs.Color({r:255,g:0,b:0,a:255}),size:5,borderThickness:1,style:"circle"}),i=this.isSelect?this.toColor(t.emphasis.fillStyle):this.toColor(t.fillStyle),r=this.isSelect?this.toColor(t.emphasis.strokeStyle):this.toColor(t.strokeStyle),n=this.isSelect?t.emphasis.lineWidth:t.lineWidth,o=new s.sfs.SimpleFillSymbol({fillColor:i,borderColor:r,borderThickness:n}),a=parseInt(t.label.fontSize.replace("px","")),l=new s.sfs.TextSymbol({text:"",fontSize:a,borderThickness:t.label.shadowBlur,fontWeight:t.label.fontWeight,fontFamilyName:t.label.fontFamily,foreground:this.toColor(t.label.fillStyle),borderColor:this.toColor(t.label.shadowColor),textAlign:t.label.textAlign,rotation:t.label.rotation,offsetX:t.label.offsetX,offsetY:t.label.offsetY});return new s.sfs.CurrencySymbol({fillSymbol:o,markerSymbol:e,textSymbol:l})},e.prototype.toColor=function(t){if(/^(rgb|RGB)/.test(t)){if(/^(rgba|RGBA)/.test(t)){var e=t.replace(/(?:\(|\)|rgba|RGBA)*/g,"").split(","),i=parseFloat(e[3])||1,r=Math.floor(i*parseInt(e[0])+255*(1-i)),n=Math.floor(i*parseInt(e[1])+255*(1-i)),o=Math.floor(i*parseInt(e[2])+255*(1-i)),a="#"+("0"+r.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)+("0"+o.toString(16)).slice(-2);return new s.sfs.Color.fromHex(a)}var l=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");return new s.sfs.Color({r:l[0],g:l[1],b:l[2],a:255})}return new s.sfs.Color.fromHex(t)},e.prototype.on=function(t,e){var i=this,r=this._layer.getLayer();r.on(t,function(t,n,o,a,l){i.isSelect=!0,i.selectFeature&&r.unSelect(new s.carto.Graphic({feature:i.selectFeature}));var h=new s.carto.Graphic({feature:l});r.select(h),r.selectSymbol=i.createCurrencySymbol(i.findAll()),i.selectFeature=l;var c=i.toFeature(l).properties;delete c.shape,e({screenX:t,screenY:n,lan:o,lng:a,property:c})})},e.prototype.un=function(t,e){this._layer.getLayer().un(t,e)},e.prototype.toFeature=function(t){var e=new h.Fields,i=new c.Feature(e);i.setGeometry(t.getGeometry().asWkt(4));for(var r=0,n=t.fields.fields,o=t.properties;r<n.length;r++){var a=new l.Field;a.name=n[r].name,a.dataType=n[r].dataType,e.addField(a),i.setValue(a.name,o[r].value)}return i},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.mouseoverEve&&this._layer.getLayer().map.un("mousemove",this.mouseoverEve)},e}(o.MapVChart);e.FeatureSourceChart=u},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(11),l=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Situation)||this;return r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{backgroundColor:"rgba(0,0,0,0.3)",fieldName:"range",size:1,fillStyle:["rgb(37,140,249)","rgba(14,241,242,0.8)","rgba(255,255,255,0.8)"],shadowColor:["rgb(37,140,249)","rgba(14,241,242,0.8)","rgba(255,255,255,0.8)"],shadowBlur:50,globalAlpha:1,tooltip:{},legend:{show:!0,left:30,bottom:50,padding:10,fontSize:"20px",fontColor:"#333"}},e)},e.prototype.setData=function(t){this._data=t.asArray();var e=this.toDataSet(this._data),i=this.getEchartOption(e),r=this._layer;r instanceof s.EChartsLayer&&(r.getLayer()?r.updateLayer(i):r.createLayer(i,"weibo"),r.getLayer().setOpacity(this.findAll().globalAlpha))},e.prototype.getEchartOption=function(t){var e=this.findAll(),i=t.length||0,r={show:e.legend,left:e.legend.left,bottom:e.legend.bottom,padding:e.legend.padding,textStyle:{fontSize:e.legend.fontSize.replace("px",""),color:e.legend.fontColor}},n={type:"scatter",symbolSize:e.size||1,opacity:e.globalAlpha||1,large:!0,itemStyle:{shadowBlur:e.shadowBlur||"transparent"},datasetIndex:0,encode:{lng:"gvLng",lat:"gvLat"},animation:!1};"TSMap"==this.mapType?n.coordinateSystem="G2Map":n.coordinateSystem="CesiumMap";var o=e.fillStyle,a=e.shadowColor,s=[];if(Array.isArray(t))for(var l=i-1;0<=l;l--){var h=JSON.parse(JSON.stringify(n));h.name=l+1,h.datasetIndex=l,h.itemStyle.color=i-1-l<o.length?o[i-1-l]:"white",h.itemStyle.shadowColor=i-1-l<a.length?a[i-1-l]:"white",s.push(h)}else n.itemStyle.color=o[0],n.itemStyle.shadowColor=o[0],s.push(n);var c={animation:!1,backgroundColor:e.backgroundColor,legend:r,tooltip:e.tooltip,dataset:t,series:s};return"TSMap"==this.mapType?c.G2Map={}:c.CesiumMap={},c},e.prototype.toDataSet=function(t){var e=this.findAll().fieldName||null,i=null,r=Object.keys(t[0]),n=this.checkFiledName(e,r);i=n?[]:{};var o={};r.forEach(function(t){"shape"===t?(o.gvLng=[],o.gvLat=[]):o[t]=[]}),o.gvProperty=[];var a=-1;return t.forEach(function(t){n?(a=t[e]-1,i.hasOwnProperty(a)||(i[a]={},i[a].source=JSON.parse(JSON.stringify(o)))):0===Object.keys(i).length&&(i.source=JSON.parse(JSON.stringify(o)));var r=null,s=null;Object.keys(t).forEach(function(e){var o;"shape"===e?(r=t[e][0],s=t[e][1],n?(i[a].source.gvLng.push(r),i[a].source.gvLat.push(s)):(i.source.gvLng.push(r),i.source.gvLat.push(s))):n?(i[a].source[e].push(t[e]),0==(o=i[a].source.gvProperty.length)||i[a].source.gvProperty[o-1].hasOwnProperty(e)?(i[a].source.gvProperty.push({}),i[a].source.gvProperty[o][e]=t[e]):i[a].source.gvProperty[o-1][e]=t[e]):(i.source[e].push(t[e]),0==(o=i.source.gvProperty.length)||i.source.gvProperty[o-1].hasOwnProperty(e)?(i.source.gvProperty.push({}),i.source.gvProperty[o][e]=t[e]):i.source.gvProperty[o-1][e]=t[e])})}),i},e.prototype.checkFiledName=function(t,e){for(var i=0;i<e.length;i++)if(t===e[i])return!0;return!1},e}(o.MapVChart);e.WeiboChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(15),l=i(78),h=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.PointCategory)||this;return r._changePointData=[],r.legendClick=!0,r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();e.context=e.renderContext,t.prototype.configOptions.call(this,{fieldName:"",splitList:["#6ee7ff","#90ee90","#f8983a","#fafa32","#2afa32"],size:5,legend:{show:!0,left:30,bottom:50,padding:10,fontSize:"20px",fontColor:"#333"},tooltip:{formatter:"{gvCoordinate}"},renderContext:"canvas"},e)},e.prototype.setData=function(t){this.fcArr=t.asArray();var e=this.findAll();if(e.hasOwnProperty("splitList")&&e.splitList.constructor===Array&&(e.color=e.splitList,delete e.splitList),this.getData(this.fcArr,e),e.draw="category",this._layer instanceof s.MapVLayer){var i=this._pointData,r=this._layer.toDataSet(i);this._layer.getLayer()?this._layer.updateLayer(e,r):this._layer.createLayer(e,r),this.setInteractions()}},e.prototype.getData=function(t,e){var i=this;this._pointData=[],t.forEach(function(t){var r=Object.keys(t),n={};r.forEach(function(i){"shape"===i?n.geometry={type:"Point",coordinates:t[i]}:i==e.fieldName&&(n.count=t[i])}),i._pointData.push(n)})},e.prototype.setInteractions=function(){var e=this.findAll(),i=new l.Category(this._layer._layer.category.splitList);this.setLegend(i,e),e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.setLegend=function(e,i){i.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,i)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.startLegendEvent=function(){var t=this.getLegendDom();this.legendEve||(this.legendEve=this.legendHandler.bind(this),t.addEventListener("click",this.legendEve))},e.prototype.stopLegendEvent=function(){var t=this.getLegendDom();this.legendEve&&(t.removeEventListener("click",this.legendEve),this.legendEve=null)},e.prototype.getLegendDom=function(){var t=("TSMap"==this.mapType?this._layer.map.getViewport():this._layer.map._container).querySelector(".chartLegend");this._changePointData=[];for(var e=0;e<this._pointData.length;e++)this._changePointData.push(this._pointData[e]);return t},e.prototype.legendHandler=function(t){var e,i=this.findAll(),r=this._layer.getLayer().category.splitList,n=t.target;for(var o in e="span"==n.nodeName.toLocaleLowerCase()?n.parentNode:n,r)if(e.getAttribute("value")==o&&this._layer instanceof s.MapVLayer){"true"==e.getAttribute("legendClick")?(e.children[0].style.background="#ccc",e.children[1].style.color="#ccc",this.getCategoryData(e,o,r),e.setAttribute("legendClick",!this.legendClick)):(e.children[0].style.background=r[o],e.children[1].style.color=i.legend.fontColor,this.getCategoryData(e,o,r),e.setAttribute("legendClick",this.legendClick));var a=this._layer.toDataSet(this._changePointData);this._layer.updateLayer(i,a)}},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer(),i=t.pixel[0],r=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:i,y:r});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,i+10,r+10,n._fillStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.getCategoryData=function(t,e,i){var r=this._pointData;if("true"==t.getAttribute("legendClick"))if("other"!=e)for(var n=0;n<this._changePointData.length;n++)this._changePointData[n].count==e&&(this._changePointData.splice(n,1),n--);else for(n=0;n<this._changePointData.length;n++){var o=this._changePointData[n].count;i.hasOwnProperty(o)||(this._changePointData.splice(n,1),n--)}else if("other"!=e)for(n=0;n<r.length;n++)r[n].count==e&&this._changePointData.push(r[n]);else for(n=0;n<r.length;n++){var a=r[n].count;i.hasOwnProperty(a)||this._changePointData.push(r[n])}},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.PointCategoryChart=h},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(1),l=i(2),h=i(76),c=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Boundary)||this;return r.overlayWare=null,r.chartEl=null,r.onEventArr=[],r.unEventArr=[],r.min=null,r.max=null,r.setDefaultConfig(),r}return n(e,t),e.prototype.setData=function(t){this._layer.getLayer().clear();var e=t.toGFeatureCollection();this._layer.getLayer().addFeatureCollection(e);var i=this.toDataset(e);this._layer instanceof h.TSMapLayer&&(this.overlayWare=this._layer.createOverlayWare()),this.renderChart(i),this.bindChartEvent()},e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{pieType:0,size:50,fieldName:["one","two","three","four"],fieldAlia:["","","",""],fillStyle:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],strokeStyle:"transparent",lineWidth:0,shadowColor:"transparent",shadowBlur:0,tooltip:{},label:{show:!0,formatter:"{sum}",fontSize:"18px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",fillStyle:"#000",shadowColor:"yellow",shadowBlur:0},globalAlpha:1},e)},e.prototype.toDataset=function(t){var e=this,i=this.findAll(),r=t.entities,n=i.fieldName||[],o=i.fieldAlia||[],a=[];return r.forEach(function(t,i){a[i]={data:[],gvCenter:null};var r=[],s={},l=0;t.getFields().getNames().split(",").forEach(function(e){var i=t.getValue(e);if(n.includes(e)){var a=n.indexOf(e);r.push({name:o[a],value:i}),l+=i}else"shape"!=e&&(s[e]=i)}),r.forEach(function(t,e){r[e].gvProperty=s}),a[i].data=r;var h=t.getValue("shape").getBaryCenter();a[i].gvCenter=h,a[i].sum=l,a[i].p=a[i].data[0].value/l,e.min?e.min=e.min<l?e.min:l:e.min=l,e.max?e.max=e.max<l?l:e.max:e.max=l}),a},e.prototype.renderChart=function(t){var e=this,i=this.findAll(),r={tooltip:i.tooltip},n={type:"pie",radius:i.size||50,color:i.fillStyle||["#BA19A5","#BA8109","#BAB659","#1ABAB8"],itemStyle:{shadowColor:i.shadowColor||"transparent",shadowBlur:i.shadowBlur||0,borderColor:i.strokeStyle||"transparent",borderWidth:i.lineWidth||0}},o=[];t.forEach(function(t){var a,h=JSON.parse(JSON.stringify(r)),c=JSON.parse(JSON.stringify(n)),u=document.createElement("div"),p=e.getRadius(i.pieType,n.radius,t.sum);a=Array.isArray(p)?"string"==typeof p[1]?"100%":2*p[1]+20+"px":"string"==typeof p?"100%":2*p+20+"px",u.style.width=a,u.style.height=a;var f=l.init(u),y=JSON.parse(JSON.stringify(i.label));y.fontSize=y.fontSize.replace("px",""),y.color=y.fillStyle,y.position="center";var d=y.formatter,v=(100*t.p).toFixed(2)+"%";d=(d=d.replace(/{sum}/g,t.sum)).replace(/{p}/g,v),y.formatter=d,c.label=y,c.radius=p,c.data=t.data,h.series=c,f.setOption(h),o.push(f);var g=t.gvCenter,m=new s.widget.OverLay({positioning:"center-center",element:u,offset:[0,0],position:g,stopEvent:!0});e.overlayWare.add(m)}),this.chartEl=o},e.prototype.getRadius=function(t,e,i){var r,n=[this.min,this.max],o=e;if(t)if(Array.isArray(e))if("string"==typeof e[1]&&e[1].includes("%")){var a=1*e[0].split("%")[0],s=1*e[1].split("%")[0];o=[(r=(i-n[0])/n[1]*s+a)-a/2+"%",r+"%"]}else o=[(r=(i-n[0])/n[1]*e[1]+e[0])-e[0]/2,r];else o="string"==typeof e&&e.includes("%")?[(r=e.split("%")[0])/2+"%",e]:[e/2,e];else Array.isArray(e)&&("string"==typeof e[1]&&e[1].includes("%")?(a=1*e[0].split("%")[0],s=1*e[1].split("%")[0],o=(i-n[0])/n[1]*s+a+"%"):o=(i-n[0])/n[1]*e[1]+e[0]);return o},e.prototype.bindChartEvent=function(){var t=this,e=this;this.onEventArr.forEach(function(i){t.chartEl.forEach(function(t){t.on(i.eventName,function(t){var r=e.findAll(),n=t.data.gvProperty;n[r.fieldName[t.dataIndex]]=t.value;var o=[t.event.event.offsetX,t.event.event.offsetY],a=e._layer.getLayer().map.getCoordinateFromPixel(o),s={screenX:o[0],screenY:o[1],lng:a[0],lat:a[1],property:n};i.handler(s)},i.query)})})},e.prototype.on=function(t,e,i){this.onEventArr.push({eventName:t,handler:e,query:i})},e.prototype.un=function(t,e){var i=this;this.onEventArr.forEach(function(r,n){r.eventName==t&&r.handler==e&&i.onEventArr.splice(n,1)})},e}(o.MapVChart);e.PieStatisticsChart=c},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(11),l=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Situation)||this;return r.linesData=[],r.scatterData=[],r.richTextEve=null,r.splitList={},r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",strokeStyle:"rgba(53,57,255,0.8)",lineWidth:1,type:"solid",shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,curveness:.2,flowAnimation:{show:!0,duration:4,symbol:"path://M995.679767 658.818049c-8.943231-1.490539-23.848617-2.981077-44.716157-4.471615-73.03639-8.943231-207.184862-26.829694-295.126638-38.754003l-19.377001-5.962154h-2.981077l-44.716157-13.414848c-4.471616 90.922853-10.43377 166.94032-17.886463 225.071325v10.43377l22.358078 10.43377 70.055313 32.791849c2.981077 1.490539 4.471616 4.471616 4.471616 7.452693l1.490539 55.149927v4.471615c0 2.981077-1.490539 5.962154-4.471616 4.471616l-114.77147-19.377001c-8.943231 22.358079-17.886463 34.282387-31.30131 35.772925h-1.490539c-13.414847 0-23.848617-11.924309-31.30131-35.772925l-114.77147 17.886463c-2.981077 0-4.471616-1.490539-4.471616-4.471616v-4.471616l1.490539-55.149927c0-2.981077 1.490539-5.962154 4.471615-7.452693l70.055313-32.791849 22.358079-10.43377V819.796215c-5.962154-58.131004-10.43377-134.148472-14.905386-225.071324l-46.206696 13.414847h-4.471615l-19.377002 4.471616c-87.941776 10.43377-222.090247 26.829694-295.126637 35.772925-20.86754 2.981077-35.772926 4.471616-44.716158 4.471616-23.848617 2.981077-25.339156-26.829694-7.452692-37.263464 2.981077-1.490539 56.640466-29.810771 123.714701-67.074236v-38.754003c0-14.905386 11.924309-26.829694 26.829695-26.829694s26.829694 11.924309 26.829694 26.829694v8.943232c40.244541-20.86754 81.979622-43.225619 119.243086-64.093159v-44.716157c0-14.905386 11.924309-26.829694 26.829694-26.829695s26.829694 11.924309 26.829694 26.829695v14.905385c23.848617-11.924309 43.225619-23.848617 56.640466-31.30131-1.490539-174.393013 11.924309-308.541485 61.112082-332.390101 2.981077-1.490539 4.471616-1.490539 7.452693-2.981078 1.490539 0 4.471616 0 5.962154-1.490538h5.962154c1.490539 0 4.471616 0 5.962154 1.490538 2.981077 0 4.471616 1.490539 7.452693 2.981078 49.187773 23.848617 62.60262 157.997089 58.131005 332.390101 13.414847 7.452693 32.791849 17.886463 55.149927 29.810772v-14.905386c0-14.905386 11.924309-26.829694 26.829694-26.829694s26.829694 11.924309 26.829695 26.829694v44.716157c37.263464 20.86754 78.998544 43.225619 119.243085 65.583698V506.783115c0-14.905386 11.924309-26.829694 26.829695-26.829694s26.829694 11.924309 26.829694 26.829694v44.716157c68.564774 37.263464 122.224163 67.074236 123.714702 68.564775 25.339156 10.43377 23.848617 41.73508-1.490539 38.754002z",size:20,fillStyle:"white",trails:0,loop:!0},animation:{strokeStyle:"#fff",duration:4,scale:5,brushType:"fill"},splitList:["#6ee7ff","#90ee90","#f8983a","#fafa32","#2afa32","#2a3a32"],pointStyle:{fillStyle:"rgba(255,255,255,0.3)",strokeStyle:"#000",lineWidth:0,shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,effectType:"ripple",symbol:"circle",maxSize:20,minSize:2,symbolSize:5,label:{show:!0,offset:[0,30],fontSize:18,fillStyle:"#fff",formatter:function(t){return t.data.id}},richText:{offset:[20,20],fontSize:"18",fillStyle:"#fff",backgroundColor:"rgba(30,30,30,0.8)",strokeStyle:"rgba(37,100,164,0.8)",lineWidth:"2",padding:[20,20,20,20]}},legend:{show:!0,left:30,bottom:50,padding:10,fontSize:20,fontColor:"#333"},tooltip:{show:!0,formatter:"{b}"}},e)},e.prototype.setData=function(t){var e=t.asArray();this.getLinesData(e),this.getScatterData(e);var i=this.getEchartOption();this._layer instanceof s.EChartsLayer&&(this._layer.getLayer()?this._layer.updateLayer(i):this._layer.createLayer(i))},e.prototype.getEchartOption=function(){var t,e=this.findAll(),i={show:e.flowAnimation.show,period:e.flowAnimation.duration,symbol:e.flowAnimation.symbol,symbolSize:e.flowAnimation.size,color:e.flowAnimation.fillStyle,trailLength:e.flowAnimation.trails,loop:e.flowAnimation.loop},r={type:"lines",data:this.linesData,lineStyle:{color:e.strokeStyle,width:e.lineWidth,type:e.type,shadowColor:e.shadowColor,shadowBlur:e.shadowBlur,curveness:e.curveness},effect:i},n={};for(var o in e.pointStyle.label)"fillStyle"===o?n.color=e.pointStyle.label.fillStyle:n[o]="fontSize"===o?e.pointStyle.label[o].toString().replace("px",""):e.pointStyle.label[o];for(var a={color:e.animation.strokeStyle,period:e.animation.duration,scale:e.animation.scale,brushType:e.animation.brushType},s=[],l=Object.keys(this.splitList),h=0;h<l.length;h++){var c={type:"effectScatter",name:l[h],data:this.scatterData[h],itemStyle:{color:this.splitList[l[h]],borderColor:e.pointStyle.strokeStyle,borderWidth:e.pointStyle.lineWidth,shadowColor:e.pointStyle.shadowColor,shadowBlur:e.pointStyle.shadowBlur},effectType:e.pointStyle.effectType,rippleEffect:a,symbol:e.pointStyle.symbol,label:n};s.push(c)}s.push(r);var u=e.legend;if(1<l.length?u.data=l:u.show=!1,t={animation:!1,series:s,legend:u,tooltip:e.tooltip},"TSMap"==this.mapType)for(t.G2Map={},h=0;h<s.length;h++)s[h].coordinateSystem="G2Map";else for(t.CesiumMap={},h=0;h<s.length;h++)s[h].coordinateSystem="CesiumMap";return t},e.prototype.getLinesData=function(t){for(var e=this.getObjectFieldName(),i=0;i<t.length;i++)if(t[i][e.id]!==t[i][e.to])for(var r=t[i][e.to],n=0;n<t.length;n++)if(r===t[n][e.id]){var o={},a={};o.coords=[t[i].shape,t[n].shape];var s={},l={};for(var h in t[i])"shape"!==h&&(s[h]=t[i][h]);for(var h in t[n])"shape"!==h&&(l[h]=t[i][h]);o.from=s,o.to=l,a.from=s,a.to=l,o.gvProperty=a,this.linesData.push(o)}},e.prototype.getScatterData=function(t){var e=this.findAll(),i=this.getObjectFieldName(),r=this.getTimes(t,e,i);e.splitList?e.splitList.constructor===Array?this.splitList=this.getSplitList(t,i,e.splitList):this.splitList=e.splitList:this.splitList=this.getSplitList(t,i);for(var n=Object.keys(this.splitList),o=0;o<n.length;o++){for(var a=[],s=0;s<t.length;s++)if(t[s].hasOwnProperty(i.type))if(n[o]===t[s][i.type]){var l=this.getScatterItem(t,e,i,s,r);a.push(l)}else"other"===n[o]&&n.indexOf(t[s][i.type])<0&&(l=this.getScatterItem(t,e,i,s,r),a.push(l));else l=this.getScatterItem(t,e,i,s,r),a.push(l);this.scatterData.push(a)}},e.prototype.getScatterItem=function(t,e,i,r,n){var o={},a={};for(var s in t[r]){if("shape"===s)o.value=t[r][s];else if(i.hasOwnProperty("video")&&s===i.video)o[s]=t[r][i.video];else if(i.hasOwnProperty("url")&&s===i.url)o[s]=t[r][i.url];else{if(i.hasOwnProperty("size")){if(n){var l=t[r][i.size]/n;o.symbolSize=l}}else l=e.pointStyle.symbolSize||5,o.symbolSize=l;o[s]=t[r][s]}"shape"!==s&&(a[s]=t[r][s])}return o.gvProperty=a,o},e.prototype.getObjectFieldName=function(){var t=this.findAll();if(t.fieldName.constructor===Array){for(var e={},i=0;i<t.fieldName.length;i++)e.id=t.fieldName[0],e.to=t.fieldName[1],e.size=t.fieldName[2],e.type=t.fieldName[3],e.video=t.fieldName[4],e.url=t.fieldName[5];for(var r in e)e[r]||delete e[r];return e}if(t.fieldName.constructor===Object)return t.fieldName},e.prototype.openMapEvent=function(){var t=this._layer._layer._chartContainer;1<t.children.length&&t.removeChild(document.getElementsByClassName("richText")[0]),this._layer.map.resumeMouseWheelZoom(),this._layer.map.resumeDragPan(),this._layer.map.resumeDbClick()},e.prototype.startRichText=function(){this.richTextEve||(this.richTextEve=this.richTextEvent.bind(this),this._layer.on("click",this.richTextEve,"series.effectScatter"))},e.prototype.stopRichText=function(){var t=this._layer._layer._chartContainer;1<t.children.length&&t.removeChild(document.getElementsByClassName("richText")[0]),this.richTextEve&&(this._layer._layer.un("click",this.richTextEve),this.richTextEve=null)},e.prototype.createDefaultRichText=function(t){var e,i=[],r=this.findAll(),n=this.createRichTextBox(),o=r.pointStyle.richText;for(var a in o)o[a].constructor===Object&&i.push(o[a]);for(var s=0;s<i.length;s++){i[s].hasOwnProperty("video")?(e=document.createElement("video")).setAttribute("src",t.property.video):i[s].hasOwnProperty("image")?(e=document.createElement("img")).setAttribute("src",t.property.url):(e=document.createElement("span")).innerHTML=t.property.name;var l=i[s];this.setRichTextSpanStyle(e,l),n.appendChild(e)}return n},e.prototype.createFormatterRichText=function(t){var e,i,r=this.findAll(),n=this.createRichTextBox(),o=r.pointStyle.richText.rich;i=r.pointStyle.richText.formatter(t);for(var a=this.getLineClass(i),s=this.getClassVal(i),l=s[0],h=s[1],c=0;c<l.length;c++){var u=o[l[c]];u.hasOwnProperty("video")?(e=document.createElement("video")).setAttribute("src",h[c]):u.hasOwnProperty("image")?(e=document.createElement("img")).setAttribute("src",h[c]):(e=document.createElement("span")).innerHTML=h[c];var p=void 0;for(var f in e.setAttribute("class","rich_"+l[c]),a)a[f]==l[c]||"block"==e.style.display?e.style.display="block":e.style.display="inline-block";for(var y in o)y===l[c]&&(p=o[y],this.setRichTextSpanStyle(e,p));n.appendChild(e)}return n},e.prototype.createRichTextBox=function(){var t=this.findAll(),e=document.createElement("div");e.setAttribute("class","richText");var i=t.pointStyle.richText,r={};for(var n in i)i[n].constructor!==Object&&"offset"!==n&&i[n].constructor!==Function&&("fontSize"===n?r[n]=i[n].toString().replace("px","")+"px":"lineWidth"===n?r.borderWidth=i[n].toString().replace("px","")+"px":"strokeStyle"===n?r.borderColor=i[n]:"fillStyle"===n?r.color=i[n]:"padding"===n&&"object"==typeof i[n]?r[n]=i[n][0]+"px "+i[n][1]+"px "+i[n][2]+"px "+i[n][3]+"px":r[n]=i[n]);for(var n in r)e.style[n]=r[n];return e.style.position="absolute",e.style.zIndex="99999",e},e.prototype.setRichTextSpanStyle=function(t,e){if(e.hasOwnProperty("video")||e.hasOwnProperty("image")){for(var i in e)"loop"===i||"controls"===i||"autoplay"===i?e[i]&&(t[i]=i):t[i]=e[i];e.hasOwnProperty("padding")&&(t.style.padding=e.padding[0]+"px "+e.padding[1]+"px "+e.padding[2]+"px "+e.padding[3]+"px"),t.style.display="block"}else for(var i in e)"fontSize"!==i&&"borderSize"!==i||(e[i]=e[i].toString().replace("px","")+"px"),"padding"===i&&"object"==typeof e[i]&&(e[i]=e[i][0]+"px "+e[i][1]+"px "+e[i][2]+"px "+e[i][3]+"px"),"text"===i&&(t.innerHTML=e[i]),t.style[i]=e[i]},e.prototype.getLineClass=function(t){for(var e=[],i=t.split("\n"),r=0;r<i.length;r++)1==i[r].split("|").length-1&&e.push(i[r].match(/{(\S*)\|/)[1]);return e},e.prototype.getClassVal=function(t){for(var e=t.split("}").filter(function(t){return t.trim()}),i=[],r=[],n=[],o=0;o<e.length;o++)i.push(e[o].match(/{(\S*)\|/)[1]),r.push(e[o].match(/\|(\S*)/)[1]);return n.push(i,r),n},e.prototype.richTextEvent=function(t){for(var e,i=this.findAll(),r=this._layer._layer._chartContainer,n=!1,o=r.childNodes,a=0;a<o.length;a++)"richText"==r.children[a].getAttribute("class")&&(n=!0);if(!n){e=i.pointStyle.richText.hasOwnProperty("formatter")?this.createFormatterRichText(t):this.createDefaultRichText(t);var s=i.pointStyle.richText.offset;this.createCancelDom(e),this.stopMapEvent(),e.style.top=t.screenY+s[0]+"px",e.style.left=t.screenX+s[1]+"px",r.appendChild(e)}},e.prototype.createCancelDom=function(t){var e=document.createElement("span");e.setAttribute("class","cancel"),e.innerHTML="",e.style.position="absolute",e.style.right="0",e.style.top="0",e.style.color="red",e.style.fontSize="25px",e.style.backgroundColor="#eee",e.style.width="28px",e.style.height="20px",e.style.lineHeight="20px",e.style.textAlign="center",e.style.cursor="pointer",e.style.zIndex="999999",t.appendChild(e),t.addEventListener("click",this.openMapEvent.bind(this))},e.prototype.stopMapEvent=function(){this._layer.map.stopMouseWheelZoom(),this._layer.map.stopDragPan(),this._layer.map.stopDbClick()},e}(o.MapVChart);e.QianXiRippleChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(1),l=i(2),h=i(76),c=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Boundary)||this;return r.overlayWare=null,r.chartEl=null,r.onEventArr=[],r.unEventArr=[],r.max=null,r.min=null,r.setDefaultConfig(),r}return n(e,t),e.prototype.setData=function(t){this._layer.getLayer().clear();var e=t.toGFeatureCollection();this._layer.getLayer().addFeatureCollection(e);var i=this.toDataset(e);this._layer instanceof h.TSMapLayer&&(this.overlayWare=this._layer.createOverlayWare()),this.renderChart(i),this.bindChartEvent()},e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{size:[100,200],fieldName:["one","two","three","four"],fieldAlia:["","","",""],fillStyle:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],strokeStyle:"transparent",lineWidth:0,shadowColor:"transparent",shadowBlur:0,label:{show:!0,position:"top",fontSize:"18px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",fillStyle:"#000",shadowColor:"yellow",shadowBlur:0},xAxis:{show:!1,type:"category"},yAxis:{show:!1,type:"value"},globalAlpha:1},e)},e.prototype.toDataset=function(t){var e=this,i=this.findAll(),r=t.entities,n=i.fieldName||[],o=i.fieldAlia||[],a=[];return r.forEach(function(t,i){a[i]={data:[],gvCenter:null};var r=[],s={};t.getFields().getNames().split(",").forEach(function(i){var a=t.getValue(i);if(n.includes(i)){var l=n.indexOf(i);r.push({name:o[l],value:a}),e.min?e.min=e.min<a?e.min:a:e.min=a,e.max?e.max=e.max<a?a:e.max:e.max=a}else"shape"!=i&&(s[i]=a)}),r.forEach(function(t,e){r[e].gvProperty=s}),a[i].data=r;var l=t.getValue("shape").getBaryCenter();a[i].gvCenter=l}),a},e.prototype.renderChart=function(t){var e=this,i=this.findAll(),r={color:i.fillStyle,tooltip:{},grid:{top:20,bottom:"20%",left:"20%",right:0},xAxis:i.xAxis,yAxis:i.yAxis};r.xAxis.data=i.fieldAlia,r.yAxis.max=r.yAxis.max||this.max,r.yAxis.min=r.yAxis.min||0;var n={type:"bar",itemStyle:{shadowColor:i.shadowColor||"transparent",shadowBlur:i.shadowBlur||0,borderColor:i.strokeStyle||"transparent",borderWidth:i.lineWidth||0}},o=[];t.forEach(function(t){var a=JSON.parse(JSON.stringify(r)),h=JSON.parse(JSON.stringify(n)),c=document.createElement("div");c.style.width=i.size[0]+"px",c.style.height=i.size[1]+"px";var u=l.init(c),p=JSON.parse(JSON.stringify(i.label));p.fontSize=p.fontSize.replace("px",""),p.color=p.fillStyle,h.label=p,h.data=e.getNewSeriesData(t.data),a.series=h,u.setOption(a),o.push(u);var f=t.gvCenter,y=new s.widget.OverLay({positioning:"center-center",element:c,offset:[0,0],position:f,stopEvent:!0});e.overlayWare.add(y)}),this.chartEl=o},e.prototype.getNewSeriesData=function(t){var e=this.findAll(),i=e.label;return t.forEach(function(t,r){t.itemStyle={},Array.isArray(e.fillStyle)&&(t.itemStyle.color=e.fillStyle[r%e.fillStyle.length]),Array.isArray(e.strokeStyle)&&(t.itemStyle.borderColor=e.strokeStyle[r%e.strokeStyle.length]),Array.isArray(e.shadowColor)&&(t.itemStyle.shadowColor=e.shadowColor[r%e.shadowColor.length]),t.label={},Array.isArray(i.fillStyle)&&(t.label.color=i.fillStyle[r%i.fillStyle.length]),Array.isArray(i.shadowColor)&&(t.label.shadowColor=i.shadowColor[r%i.shadowColor.length])}),t},e.prototype.bindChartEvent=function(){var t=this,e=this;this.onEventArr.forEach(function(i){t.chartEl.forEach(function(t){t.on(i.eventName,function(t){var r=e.findAll(),n=t.data.gvProperty;n[r.fieldName[t.dataIndex]]=t.value;var o=[t.event.event.offsetX,t.event.event.offsetY],a=e._layer.getLayer().map.getCoordinateFromPixel(o),s={screenX:o[0],screenY:o[1],lng:a[0],lat:a[1],property:n};i.handler(s)},i.query)})})},e.prototype.on=function(t,e,i){this.onEventArr.push({eventName:t,handler:e,query:i})},e.prototype.un=function(t,e){var i=this;this.onEventArr.forEach(function(r,n){r.eventName==t&&r.handler==e&&i.onEventArr.splice(n,1)})},e}(o.MapVChart);e.BarStatisticsChart=c},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(11),l=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Situation)||this;return r.linesData=[],r.scatterData=[],r.richTextEve=null,r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",strokeStyle:"rgba(53,57,255,0.8)",lineWidth:1,type:"solid",shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,curveness:.2,flowAnimation:{show:!0,duration:4,symbol:"path://M995.679767 658.818049c-8.943231-1.490539-23.848617-2.981077-44.716157-4.471615-73.03639-8.943231-207.184862-26.829694-295.126638-38.754003l-19.377001-5.962154h-2.981077l-44.716157-13.414848c-4.471616 90.922853-10.43377 166.94032-17.886463 225.071325v10.43377l22.358078 10.43377 70.055313 32.791849c2.981077 1.490539 4.471616 4.471616 4.471616 7.452693l1.490539 55.149927v4.471615c0 2.981077-1.490539 5.962154-4.471616 4.471616l-114.77147-19.377001c-8.943231 22.358079-17.886463 34.282387-31.30131 35.772925h-1.490539c-13.414847 0-23.848617-11.924309-31.30131-35.772925l-114.77147 17.886463c-2.981077 0-4.471616-1.490539-4.471616-4.471616v-4.471616l1.490539-55.149927c0-2.981077 1.490539-5.962154 4.471615-7.452693l70.055313-32.791849 22.358079-10.43377V819.796215c-5.962154-58.131004-10.43377-134.148472-14.905386-225.071324l-46.206696 13.414847h-4.471615l-19.377002 4.471616c-87.941776 10.43377-222.090247 26.829694-295.126637 35.772925-20.86754 2.981077-35.772926 4.471616-44.716158 4.471616-23.848617 2.981077-25.339156-26.829694-7.452692-37.263464 2.981077-1.490539 56.640466-29.810771 123.714701-67.074236v-38.754003c0-14.905386 11.924309-26.829694 26.829695-26.829694s26.829694 11.924309 26.829694 26.829694v8.943232c40.244541-20.86754 81.979622-43.225619 119.243086-64.093159v-44.716157c0-14.905386 11.924309-26.829694 26.829694-26.829695s26.829694 11.924309 26.829694 26.829695v14.905385c23.848617-11.924309 43.225619-23.848617 56.640466-31.30131-1.490539-174.393013 11.924309-308.541485 61.112082-332.390101 2.981077-1.490539 4.471616-1.490539 7.452693-2.981078 1.490539 0 4.471616 0 5.962154-1.490538h5.962154c1.490539 0 4.471616 0 5.962154 1.490538 2.981077 0 4.471616 1.490539 7.452693 2.981078 49.187773 23.848617 62.60262 157.997089 58.131005 332.390101 13.414847 7.452693 32.791849 17.886463 55.149927 29.810772v-14.905386c0-14.905386 11.924309-26.829694 26.829694-26.829694s26.829694 11.924309 26.829695 26.829694v44.716157c37.263464 20.86754 78.998544 43.225619 119.243085 65.583698V506.783115c0-14.905386 11.924309-26.829694 26.829695-26.829694s26.829694 11.924309 26.829694 26.829694v44.716157c68.564774 37.263464 122.224163 67.074236 123.714702 68.564775 25.339156 10.43377 23.848617 41.73508-1.490539 38.754002z",size:20,fillStyle:"white",trails:0,loop:!0},pointStyle:{fillStyle:"rgba(64,187,224,1)",symbol:"path://M518.6 0c-236.4 0-428 190.4-428 425 0 108 40.8 206 107.4 281 1.8 3.4 4.2 6.8 7 9.8l278 289.2c1.4 1.8 2.8 3.8 4.4 5.4 4.2 4.2 9 7.2 14.2 9.4 16 7.4 35.4 5 48.4-8 3.6-3.6 6.4-7.8 8.4-12.2l272.8-283.8c2.6-2.4 4.6-5.4 6.4-8.4 67.4-75 108.6-173.8 108.6-282.2C946.6 190.4 755 0 518.6 0z m-0.2 597.8c-106.4 0-192.8-85.8-192.8-191.4 0-105.6 86.4-191.4 192.8-191.4s192.8 85.8 192.8 191.4c0 105.6-86.4 191.4-192.8 191.4z",symbolSize:20,strokeStyle:"#000",lineWidth:0,shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,label:{show:!0,offset:[0,30],formatter:function(t){return t.data.id},fontSize:12,fillStyle:"#fff"},richText:{offset:[20,20],fontSize:"18",fillStyle:"#fff",backgroundColor:"rgba(30,30,30,0.8)",strokeStyle:"rgba(37,100,164,0.8)",lineWidth:"2",padding:[20,20,20,20]}}},e)},e.prototype.setData=function(t){var e=t.asArray();this.getScatterData(e),this.getLinesData(e);var i=this.getEchartOption();this._layer instanceof s.EChartsLayer&&(this._layer.getLayer()?this._layer.updateLayer(i):this._layer.createLayer(i))},e.prototype.getEchartOption=function(){var t,e=this.findAll(),i={show:e.flowAnimation.show,period:e.flowAnimation.duration,symbol:e.flowAnimation.symbol,symbolSize:e.flowAnimation.size,color:e.flowAnimation.fillStyle,trailLength:e.flowAnimation.trails,loop:e.flowAnimation.loop},r={type:"lines",data:this.linesData,lineStyle:{color:e.strokeStyle,width:e.lineWidth,type:e.type,shadowColor:e.shadowColor,shadowBlur:e.shadowBlur,opacity:e.globalAlpha,curveness:e.curveness},effect:i},n={};for(var o in e.pointStyle.label)"fillStyle"===o?n.color=e.pointStyle.label.fillStyle:n[o]="fontSize"===o?e.pointStyle.label[o].toString().replace("px",""):e.pointStyle.label[o];var a={type:"scatter",data:this.scatterData,itemStyle:{color:e.pointStyle.fillStyle,borderColor:e.pointStyle.strokeStyle,borderWidth:e.pointStyle.lineWidth,shadowColor:e.pointStyle.shadowColor,shadowBlur:e.pointStyle.shadowBlur},symbol:e.pointStyle.symbol,symbolSize:e.pointStyle.symbolSize,label:n};return t={animation:!1,series:[r,a]},"TSMap"==this.mapType?(t.G2Map={},r.coordinateSystem="G2Map",a.coordinateSystem="G2Map"):(t.CesiumMap={},r.coordinateSystem="CesiumMap",a.coordinateSystem="CesiumMap"),t},e.prototype.getScatterData=function(t){for(var e=this.getObjectFieldName(),i=0;i<t.length;i++){var r={},n={};for(var o in t[i])"shape"===o?r.value=t[i][o]:e.hasOwnProperty("video")&&o===e.video?r[o]=t[i][e.video]:e.hasOwnProperty("url")&&o===e.url?r[o]=t[i][e.url]:r[o]=t[i][o],"shape"!==o&&(n[o]=t[i][o]);r.gvProperty=n,this.scatterData.push(r)}},e.prototype.getLinesData=function(t){for(var e=this.getObjectFieldName(),i=0;i<t.length;i++)if(t[i][e.id]!==t[i][e.to])for(var r=t[i][e.to],n=0;n<t.length;n++)if(r===t[n][e.id]){var o={},a={};o.coords=[t[i].shape,t[n].shape];var s={},l={};for(var h in t[i])"shape"!==h&&(s[h]=t[i][h]);for(var h in t[n])"shape"!==h&&(l[h]=t[i][h]);o.from=s,o.to=l,a.from=s,a.to=l,o.gvProperty=a,this.linesData.push(o)}},e.prototype.getObjectFieldName=function(){var t=this.findAll();if(t.fieldName.constructor===Array){for(var e={},i=0;i<t.fieldName.length;i++)e.id=t.fieldName[0],e.to=t.fieldName[1],e.size=t.fieldName[2],e.type=t.fieldName[3],e.video=t.fieldName[4],e.url=t.fieldName[5];for(var r in e)e[r]||delete e[r];return e}if(t.fieldName.constructor===Object)return t.fieldName},e.prototype.createDefaultRichText=function(t){var e=[],i=this.findAll(),r=this.createRichTextBox(),n=i.pointStyle.richText;for(var o in n)n[o].constructor===Object&&e.push(o);for(var a=0;a<e.length;a++){var s=document.createElement("span"),l=i.pointStyle.richText[e[a]];"value"!==e[a]&&"unit"!==e[a]?l.display="block":l.display="inline-block","title"===e[a]&&(s.innerHTML=t.data.name),"value"===e[a]&&(s.innerHTML=t.data.count),this.setRichTextSpanStyle(s,l),r.appendChild(s)}return r},e.prototype.createFormatterRichText=function(t){for(var e,i=this.findAll(),r=this.createRichTextBox(),n=i.pointStyle.richText.rich,o=i.pointStyle.richText.formatter(t),a=this.getLineClass(o),s=this.getClassVal(o),l=s[0],h=s[1],c=0;c<l.length;c++){var u=n[l[c]];if(u.hasOwnProperty("video")){e=document.createElement("video");var p=h[c];e.setAttribute("src",p)}else u.hasOwnProperty("icon")?(e=document.createElement("img"),p=h[c],e.setAttribute("src",p)):(e=document.createElement("span")).innerHTML=h[c];var f=void 0;for(var y in e.setAttribute("class","rich_"+l[c]),a)a[y]==l[c]||"block"==e.style.display?e.style.display="block":e.style.display="inline-block";for(var d in n)d===l[c]&&(f=n[d],this.setRichTextSpanStyle(e,f));r.appendChild(e)}return r},e.prototype.createRichTextBox=function(){var t=this.findAll(),e=document.createElement("div");e.setAttribute("class","richText");var i=t.pointStyle.richText,r={};for(var n in i)i[n].constructor!==Object&&"offset"!==n&&i[n].constructor!==Function&&("fontSize"===n?r[n]=i[n].toString().replace("px","")+"px":"lineWidth"===n?r.borderWidth=i[n].toString().replace("px","")+"px":"strokeStyle"===n?r.borderColor=i[n]:"fillStyle"===n?r.color=i[n]:"padding"===n&&"object"==typeof i[n]?r[n]=i[n][0]+"px "+i[n][1]+"px "+i[n][2]+"px "+i[n][3]+"px":r[n]=i[n]);for(var n in r)e.style[n]=r[n];return e.style.position="absolute",e.style.zIndex="99999",e},e.prototype.setRichTextSpanStyle=function(t,e){if(e.hasOwnProperty("video")||e.hasOwnProperty("icon")){for(var i in e)"loop"===i||"controls"===i||"autoplay"===i?e[i]&&(t[i]=i):t[i]=e[i];e.hasOwnProperty("padding")&&(t.style.padding=e.padding[0]+"px "+e.padding[1]+"px "+e.padding[2]+"px "+e.padding[3]+"px"),t.style.display="block"}for(var i in e)"fontSize"!==i&&"borderSize"!==i||(e[i]=e[i].toString().replace("px","")+"px"),"padding"===i&&"object"==typeof e[i]&&(e[i]=e[i][0]+"px "+e[i][1]+"px "+e[i][2]+"px "+e[i][3]+"px"),"text"===i&&(t.innerHTML=e[i]),t.style[i]=e[i]},e.prototype.getLineClass=function(t){for(var e=[],i=t.split("\n"),r=0;r<i.length;r++)1==i[r].split("|").length-1&&e.push(i[r].match(/{(\S*)\|/)[1]);return e},e.prototype.getClassVal=function(t){for(var e=t.split("}").filter(function(t){return t.trim()}),i=[],r=[],n=[],o=0;o<e.length;o++)i.push(e[o].match(/{(\S*)\|/)[1]),r.push(e[o].match(/\|(\S*)/)[1]);return n.push(i,r),n},e.prototype.richTextEvent=function(t){for(var e,i=this.findAll(),r=this._layer._layer._chartContainer,n=!1,o=r.childNodes,a=0;a<o.length;a++)"richText"==r.children[a].getAttribute("class")&&(n=!0);if(!n){e=i.pointStyle.richText.hasOwnProperty("formatter")?this.createFormatterRichText(t):this.createDefaultRichText(t);var s=i.pointStyle.richText.offset;this.createCancelDom(e),this.stopMapEvent(),e.style.top=t.screenY+s[0]+"px",e.style.left=t.screenX+s[1]+"px",r.appendChild(e)}},e.prototype.createCancelDom=function(t){var e=document.createElement("span");e.setAttribute("class","cancel"),e.innerHTML="",e.style.position="absolute",e.style.right="0",e.style.top="0",e.style.color="red",e.style.fontSize="25px",e.style.backgroundColor="#eee",e.style.width="28px",e.style.height="20px",e.style.lineHeight="20px",e.style.textAlign="center",e.style.cursor="pointer",e.style.zIndex="999999",t.appendChild(e),t.addEventListener("click",this.openMapEvent.bind(this))},e.prototype.stopMapEvent=function(){this._layer.map.stopMouseWheelZoom(),this._layer.map.stopDragPan(),this._layer.map.stopDbClick()},e.prototype.openMapEvent=function(){var t=this._layer._layer._chartContainer;1<t.children.length&&t.removeChild(document.getElementsByClassName("richText")[0]),this._layer.map.resumeMouseWheelZoom(),this._layer.map.resumeDragPan(),this._layer.map.resumeDbClick()},e.prototype.startRichText=function(){this.richTextEve||(this.richTextEve=this.richTextEvent.bind(this),this._layer.on("click",this.richTextEve,"series.scatter"))},e.prototype.stopRichText=function(){var t=this._layer._layer._chartContainer;1<t.children.length&&t.removeChild(document.getElementsByClassName("richText")[0]),this.richTextEve&&(this._layer._layer.un("click",this.richTextEve),this.richTextEve=null)},e}(o.MapVChart);e.QianXiIconChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(11),l=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Situation)||this;return r.linesData=[],r.scatterData=[],r.splitList={},r.icon={},r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",iconType:"",strokeStyle:"rgba(253,250,255,0.8)",lineWidth:1,type:"dashed",shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,curveness:.2,splitList:["#6ee7ff","#90ee90","#f8983a","#fafa32","#2afa32","#2a3a32"],flowAnimation:{show:!0,duration:4,symbol:"arrow",size:20,fillStyle:"white",trails:0,loop:!0},pointStyle:{symbolSize:20,symbolOffset:[0,0],strokeStyle:"#000",lineWidth:0,shadowColor:"rgba(255, 250, 50, 1)",shadowBlur:10,label:{show:!0,offset:[0,30],formatter:function(t){return t.data.id},fontSize:12,fillStyle:"#fff"}},tooltip:{show:!0,formatter:function(t){return t.data.type}},legend:{show:!0,left:30,bottom:50,padding:10,fontSize:20,fontColor:"#333"}},e)},e.prototype.setData=function(t){var e=t.asArray();this.getScatterData(e),this.getLinesData(e);var i=this.getEchartOption();this._layer instanceof s.EChartsLayer&&(this._layer.getLayer()?this._layer.updateLayer(i):this._layer.createLayer(i))},e.prototype.getEchartOption=function(){var t,e=[],i=this.findAll(),r={show:i.flowAnimation.show,period:i.flowAnimation.duration,symbol:i.flowAnimation.symbol,symbolSize:i.flowAnimation.size,color:i.flowAnimation.fillStyle,trailLength:i.flowAnimation.trails,loop:i.flowAnimation.loop},n={type:"lines",data:this.linesData,lineStyle:{color:i.strokeStyle,width:i.lineWidth,type:i.type,shadowColor:i.shadowColor,shadowBlur:i.shadowBlur,curveness:i.curveness,opacity:1},effect:r},o={};for(var a in i.pointStyle.label)"fillStyle"===a?o.color=i.pointStyle.label.fillStyle:o[a]="fontSize"===a?i.pointStyle.label[a].toString().replace("px",""):i.pointStyle.label[a];for(var s=Object.keys(this.splitList),l=0;l<s.length;l++){var h={type:"scatter",data:this.scatterData[l],name:s[l],itemStyle:{name:i.pointStyle.name,color:this.splitList[s[l]],borderColor:i.pointStyle.strokeStyle,borderWidth:i.pointStyle.lineWidth,shadowColor:i.pointStyle.shadowColor,shadowBlur:i.pointStyle.shadowBlur,opacity:1},symbol:this.icon[s[l]],symbolSize:i.pointStyle.symbolSize,symbolKeepAspect:!0,label:o};e.push(h)}if(this.icon.hasOwnProperty("null"))for(l=0;l<e.length;l++)e[l].symbolSize=.1;e.push(n);var c=i.legend;if(1<s.length?c.data=s:c.show=!1,t={animation:!1,series:e,tooltip:i.tooltip,legend:c},"TSMap"==this.mapType)for(t.G2Map={},l=0;l<e.length;l++)e[l].coordinateSystem="G2Map";else for(t.CesiumMap={},l=0;l<e.length;l++)e[l].coordinateSystem="CesiumMap";return t},e.prototype.getScatterData=function(t){var e=this.findAll(),i=this.getObjectFieldName();e.splitList?e.splitList.constructor===Array?this.splitList=this.getSplitList(t,i,e.splitList):this.splitList=e.splitList:this.splitList=this.getSplitList(t,i);for(var r=Object.keys(this.splitList),n=0;n<r.length;n++){for(var o=[],a=0;a<t.length;a++)if(i.hasOwnProperty("type")){if(r[n]===t[a][i.type].toString()){var s=this.getScatterItem(t,i,a,n,r);o.push(s)}}else s=this.getScatterItem(t,i,a),o.push(s);this.scatterData.push(o)}},e.prototype.getScatterItem=function(t,e,i,r,n){var o=this.findAll(),a={},s={};for(var l in t[i])"shape"===l?a.value=t[i][l]:(e[o.iconType]?l===e[o.iconType]&&(n?this.icon[n[r]]="url"===l?"image://"+t[i][e[o.iconType]]:"path://"+t[i][e[o.iconType]]:this.icon[void 0]="url"===l?"image://"+t[i][e[o.iconType]]:"path://"+t[i][e[o.iconType]]):this.icon.null="",a[l]=t[i][l],s[l]=t[i][l]);return a.gvProperty=s,a},e.prototype.getLinesData=function(t){for(var e=this.getObjectFieldName(),i="",r=0;r<t.length;r++)if(t[r][e.id]!==t[r][e.to]){i=t[r][e.to];for(var n=0;n<t.length;n++)if(i===t[n][e.id]){var o={},a={};o.coords=[t[r].shape,t[n].shape];var s={},l={};for(var h in t[r])"shape"!==h&&(s[h]=t[r][h]);for(var h in t[n])"shape"!==h&&(l[h]=t[n][h]);o.from=s,o.to=l,a.from=s,a.to=l,o.gvProperty=a,this.linesData.push(o)}}},e.prototype.getObjectFieldName=function(){var t=this.findAll();if(t.fieldName.constructor===Array){for(var e={},i=0;i<t.fieldName.length;i++)e.id=t.fieldName[0],e.to=t.fieldName[1],e[t.iconType]=t.fieldName[2],e.type=t.fieldName[3];for(var r in e)e[r]||delete e[r];return e}if(t.fieldName.constructor===Object)return t.fieldName},e}(o.MapVChart);e.RoadChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(11),l=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Situation)||this;return r.linesData=[],r.scatterData=[],r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",strokeStyle:"rgba(255,255,255,0.3)",lineWidth:1,type:"solid",shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,curveness:.2,flowAnimation:{show:!0,duration:4,symbol:"circle",size:5,fillStyle:"white",trails:.01,loop:!0},animation:{duration:4,scale:3,brushType:"stroke"},emphasis:{itemStyle:{fillStyle:"#c6541c",strokeStyle:"#c6541c",lineWidth:1},label:{show:!0,fontSize:15,fillStyle:"#c6541c",strokeStyle:"#c6541c",rich:{time:{color:"#c6541c"},place:{color:"#c6541c"}}}},pointStyle:{fillStyle:"rgba(255,255,255,0.1)",strokeStyle:"#000",lineWidth:0,shadowColor:"rgba(53,57,255,0.2)",shadowBlur:10,effectType:"ripple",symbol:"circle",symbolSize:20,label:{show:!0,offset:[50,-50],fontSize:18,fillStyle:"#fff",backgroundColor:"#002b51",padding:[5,3],strokeStyle:"#00acb6",lineWidth:1,borderType:"dashed",formatter:function(t){return["{time| "+t.data.time+"}{place| "+t.data.id+"}"].join("\n")},rich:{time:{fontSize:15,color:"#00a3b1"},place:{fontSize:15,color:"#eee"}}}},tooltip:{show:!0,formatter:"{b}"}},e)},e.prototype.setData=function(t){var e=t.asArray();this.getLinesData(e),this.getScatterData(e);var i=this.getEchartOption();this._layer instanceof s.EChartsLayer&&(this._layer.getLayer()?this._layer.updateLayer(i):this._layer.createLayer(i))},e.prototype.getEchartOption=function(){var t,e=this.findAll(),i={show:e.flowAnimation.show,period:e.flowAnimation.duration,symbol:e.flowAnimation.symbol,symbolSize:e.flowAnimation.size,color:e.flowAnimation.fillStyle,trailLength:e.flowAnimation.trails,loop:e.flowAnimation.loop},r={type:"lines",data:this.linesData,lineStyle:{color:e.strokeStyle,width:e.lineWidth,type:e.type,shadowColor:e.shadowColor,shadowBlur:e.shadowBlur,curveness:e.curveness},effect:i},n={};for(var o in e.pointStyle.label)"fillStyle"===o?n.color=e.pointStyle.label.fillStyle:"fontSize"===o?n[o]=e.pointStyle.label[o].toString().replace("px",""):"strokeStyle"===o?n.borderColor=e.pointStyle.label[o]:"lineWidth"===o?n.borderWidth=e.pointStyle.label[o]:n[o]=e.pointStyle.label[o];var a={color:e.animation.fillStyle,period:e.animation.duration,scale:e.animation.scale,brushType:e.animation.brushType},s={};for(var o in e.emphasis.label)"fillStyle"===o?s.color=e.emphasis.label.fillStyle:"fontSize"===o?s[o]=e.emphasis.label[o].toString().replace("px",""):"strokeStyle"===o?s.borderColor=e.emphasis.label[o]:"lineWidth"===o?s.borderWidth=e.emphasis.label[o]:s[o]=e.emphasis.label[o];var l={};for(var o in e.emphasis.itemStyle)"fillStyle"===o?l.color=e.emphasis.itemStyle.fillStyle:"strokeStyle"===o?l.borderColor=e.emphasis.itemStyle[o]:"lineWidth"===o?l.borderWidth=e.emphasis.itemStyle[o]:l[o]=e.emphasis.itemStyle[o];if(t={animation:!1,series:[{type:"effectScatter",data:this.scatterData,itemStyle:{color:e.pointStyle.fillStyle,borderColor:e.pointStyle.strokeStyle,borderWidth:e.pointStyle.lineWidth,shadowColor:e.pointStyle.shadowColor,shadowBlur:e.pointStyle.shadowBlur},effectType:e.pointStyle.effectType,rippleEffect:a,symbol:e.pointStyle.symbol,symbolSize:e.pointStyle.symbolSize,label:n,emphasis:{itemStyle:l,label:s}},r],tooltip:e.tooltip},"TSMap"==this.mapType){t.G2Map={};for(var h=0;h<t.series.length;h++)t.series[h].coordinateSystem="G2Map"}else for(t.CesiumMap={},h=0;h<t.series.length;h++)t.series[h].coordinateSystem="CesiumMap";return console.log(t),t},e.prototype.getLinesData=function(t){for(var e=this.getObjectFieldName(),i=0;i<t.length;i++)if(t[i][e.id]!==t[i][e.to])for(var r=t[i][e.to],n=0;n<t.length;n++)if(r===t[n][e.id]){var o={},a={};o.coords=[t[i].shape,t[n].shape];var s={},l={};for(var h in t[i])"shape"!==h&&(s[h]=t[i][h]);for(var h in t[n])"shape"!==h&&(l[h]=t[i][h]);o.from=s,o.to=l,a.from=s,a.to=l,o.gvProperty=a,this.linesData.push(o)}},e.prototype.getScatterData=function(t){for(var e=0;e<t.length;e++){var i={},r={};for(var n in t[e])"shape"===n?i.value=t[e][n]:(i[n]=t[e][n],r[n]=t[e][n]);i.gvProperty=r,this.scatterData.push(i)}},e.prototype.getObjectFieldName=function(){var t=this.findAll();if(t.fieldName.constructor===Array){for(var e={},i=0;i<t.fieldName.length;i++)e.id=t.fieldName[0],e.to=t.fieldName[1];for(var r in e)e[r]||delete e[r];return e}if(t.fieldName.constructor===Object)return t.fieldName},e}(o.MapVChart);e.FlyLineChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(322),s=i(16),l=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r._data=[],r.setDefaultConfig(),r.temperature=new a.Temperature,r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",grid:.1,gradient:{.1:"#000146",.4:"#009aff",.7:"#f7fe8f",1:"#ff0000"},min:-30,max:30,legend:{show:!0,width:20,height:180}},e)},e.prototype.setData=function(t){this._data=t.asArray(),this._layer.updateLayer()},e.prototype.draw=function(t,e,i,r){if(this._data){var n=this.findAll(),o=new s.Intensity({gradient:n.gradient,max:n.max,min:n.min});return this.temperature.draw(t,e,this._data,i,this.findAll(),o),this.setInteractions(o),t}return t},e.prototype.setInteractions=function(e){var i=this.findAll();i.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,i)},e}(o.MapVChart);e.TemperatureChart=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(323),n=function(){function t(){}return t.prototype.draw=function(t,e,i,n,o,a){this.setRange(i,o,a);for(var s,l={mapCenter:[116.4,39.9],krigingModel:"exponential",krigingSigma2:0,krigingAlpha:100,colors:this.getColors(i,o,a)},h=[],c=[],u=[],p=0;p<i.length;p++)for(var f in i[p])"shape"===f&&(h.push(i[p][f][0]),c.push(i[p][f][1])),f===o.fieldName&&u.push(i[p][f]);if(s=r.default?r.default.kriging:r,3<u.length){var y=s.train(u,h,c,l.krigingModel,l.krigingSigma2,l.krigingAlpha),d=s.grid([[[121.9043,25.0488],[121.9922,25.0049],[121.8164,24.7412],[121.9043,24.5654],[121.6406,24.0381],[121.377,23.1152],[121.0254,22.6758],[120.8496,22.0605],[120.7617,21.9287],[120.6738,22.3242],[120.2344,22.5879],[120.0586,23.0713],[120.1465,23.6865],[121.0254,25.0488],[121.5527,25.3125],[121.9043,25.0488]],[[123.66210000000035,53.56930000000017],[124.89260000000047,53.0859],[125.0684,53.21780000000018],[125.59570000000042,53.0859],[125.68360000000018,52.910200000000316],[126.1230000000005,52.778300000000286],[126.03520000000049,52.60250000000025],[126.21090000000027,52.5146],[126.38670000000025,52.29490000000021],[126.38670000000025,52.20700000000028],[126.56250000000011,52.16310000000027],[126.47460000000024,51.943400000000224],[126.9141,51.372100000000216],[126.8262000000002,51.28420000000028],[127.00200000000018,51.32810000000029],[126.9141,51.10840000000019],[127.26560000000018,50.75680000000028],[127.35350000000028,50.27340000000021],[127.61720000000025,50.2295000000002],[127.52930000000026,49.87790000000024],[127.79300000000035,49.614300000000185],[128.75980000000027,49.57030000000026],[129.11130000000048,49.350600000000156],[129.4629,49.43850000000026],[130.25390000000016,48.86720000000025],[130.69340000000022,48.86720000000025],[130.51760000000024,48.64750000000021],[130.86910000000034,48.295900000000245],[130.69340000000022,48.12010000000021],[131.0449000000002,47.68070000000023],[132.5391000000002,47.72460000000024],[132.6270000000003,47.94430000000017],[133.06640000000027,48.12010000000021],[133.50590000000022,48.12010000000021],[134.2090000000003,48.383800000000235],[135.08790000000022,48.42770000000024],[134.73630000000026,48.25200000000024],[134.56050000000027,47.988300000000265],[134.73630000000026,47.68070000000023],[134.56050000000027,47.460900000000265],[134.38480000000015,47.460900000000265],[134.2090000000003,47.285200000000316],[134.2090000000003,47.15330000000023],[133.85740000000033,46.53810000000021],[133.9453000000002,46.27440000000024],[133.50590000000022,45.835000000000264],[133.41800000000012,45.57130000000029],[133.24220000000014,45.527300000000196],[133.06640000000027,45.131800000000226],[132.89060000000018,45.04390000000029],[131.92380000000026,45.35160000000019],[131.57230000000015,45.04390000000029],[131.0449000000002,44.86820000000017],[131.3086000000004,44.077100000000144],[131.2207000000002,43.725600000000156],[131.3086000000004,43.4619000000003],[131.3086000000004,43.330100000000186],[131.1328,42.934600000000216],[130.42970000000014,42.71480000000025],[130.6055,42.670900000000245],[130.6055,42.45120000000014],[130.25390000000016,42.75880000000018],[130.25390000000016,42.89060000000029],[130.166,42.978500000000224],[129.9023000000002,43.02250000000015],[129.7266,42.49510000000015],[129.37500000000023,42.45120000000014],[128.93550000000016,42.0117000000003],[128.05660000000023,42.0117000000003],[128.3203,41.572300000000155],[128.1445000000001,41.352500000000134],[127.0898000000002,41.52830000000023],[127.1777,41.572300000000155],[126.9141,41.7920000000002],[126.65040000000033,41.66020000000026],[126.47460000000024,41.39650000000029],[126.1230000000005,40.95700000000022],[125.68360000000018,40.86910000000029],[124.54100000000017,40.210000000000264],[124.10160000000019,39.682600000000264],[123.39840000000027,39.682600000000264],[123.13480000000027,39.418900000000235],[123.13480000000027,39.0234],[122.08010000000036,39.0234],[121.55270000000019,38.715800000000286],[121.11330000000021,38.67190000000028],[120.93750000000034,38.979500000000314],[121.37700000000041,39.19920000000019],[121.2012,39.5508],[122.08010000000036,40.38570000000021],[121.99220000000025,40.69340000000011],[121.72850000000017,40.82520000000028],[121.2012,40.82520000000028],[120.58590000000015,40.210000000000264],[119.8828000000002,39.946300000000235],[119.5313,39.682600000000264],[119.44340000000022,39.418900000000235],[118.916,39.06740000000025],[118.47660000000019,38.93550000000016],[118.12500000000023,39.0234],[118.03710000000012,39.19920000000019],[117.86130000000026,39.111300000000256],[117.59770000000026,38.62790000000018],[117.94920000000036,38.320300000000145],[118.12500000000023,38.14450000000028],[118.916,38.14450000000028],[119.35550000000012,37.661100000000204],[119.00390000000027,37.52930000000026],[119.00390000000027,37.353500000000224],[119.35550000000012,37.13380000000029],[119.70700000000022,37.13380000000029],[119.8828000000002,37.39750000000015],[120.49800000000027,37.8369000000003],[120.58590000000015,38.14450000000028],[120.93750000000034,38.4521],[121.02540000000022,37.8369000000003],[121.2012,37.661100000000204],[121.9043,37.485400000000254],[122.16800000000023,37.617200000000196],[122.25590000000022,37.485400000000254],[122.60740000000044,37.485400000000254],[122.6953000000002,37.353500000000224],[122.60740000000044,36.914100000000246],[122.43160000000012,36.782200000000216],[121.81640000000027,36.87010000000015],[121.72850000000017,36.69430000000028],[121.11330000000021,36.60640000000029],[121.11330000000021,36.43070000000017],[121.37700000000041,36.254900000000305],[120.7617,36.1670000000002],[120.93750000000034,35.859400000000164],[120.67380000000026,36.03520000000026],[119.70700000000022,35.46390000000025],[119.97070000000019,34.98050000000018],[119.35550000000012,35.024400000000185],[119.35550000000012,34.84860000000026],[119.70700000000022,34.58500000000021],[120.32230000000015,34.36520000000024],[120.93750000000034,33.04690000000022],[121.02540000000022,32.65140000000031],[121.37700000000041,32.47560000000021],[121.46480000000042,32.168000000000234],[121.9043,31.992200000000196],[121.99220000000025,31.68460000000016],[121.99220000000025,31.596700000000226],[121.9043,31.15720000000016],[121.99220000000025,30.805700000000172],[122.6953000000002,30.893600000000276],[122.87110000000018,30.71780000000018],[122.95900000000029,30.146500000000174],[122.60740000000044,30.102500000000248],[122.60740000000044,29.9268000000003],[122.16800000000023,29.531300000000158],[122.3438000000001,28.872100000000216],[121.99220000000025,28.872100000000216],[121.99220000000025,28.43260000000015],[121.72850000000017,28.344700000000216],[121.72850000000017,28.212900000000275],[121.46480000000042,28.212900000000275],[121.55270000000019,28.037100000000237],[121.2891000000003,27.949200000000303],[121.11330000000021,27.42190000000022],[120.67380000000026,27.334000000000287],[120.67380000000026,27.158200000000193],[120.93750000000034,27.02640000000025],[120.7617,27.02640000000025],[120.67380000000026,26.89450000000022],[120.23440000000039,26.850600000000213],[120.23440000000039,26.71880000000027],[120.41020000000026,26.67480000000012],[120.49800000000027,26.36720000000031],[120.23440000000039,26.279300000000205],[120.41020000000026,26.147500000000264],[120.0586,26.19140000000027],[119.97070000000019,25.927700000000243],[119.79490000000033,25.927700000000243],[119.97070000000019,25.40040000000016],[119.79490000000033,25.26860000000022],[119.5313,25.13670000000019],[119.44340000000022,25.004900000000248],[119.26760000000024,25.09280000000018],[118.916,24.829100000000153],[118.65230000000031,24.521500000000174],[118.47660000000019,24.521500000000174],[118.47660000000019,24.43360000000024],[118.2129000000001,24.345700000000306],[118.2129000000001,24.16990000000021],[117.86130000000026,23.994100000000174],[117.7734,23.7744000000003],[117.50980000000015,23.598600000000204],[117.15820000000019,23.554700000000196],[117.33400000000051,23.247100000000216],[116.89450000000011,23.378900000000158],[116.63090000000022,23.11520000000013],[116.543,22.851600000000246],[115.9277,22.719700000000216],[115.6641,22.763700000000142],[115.57620000000031,22.631800000000283],[115.04880000000048,22.67580000000021],[114.60940000000028,22.368200000000172],[114.34570000000019,22.54390000000012],[113.99410000000023,22.500000000000114],[113.81840000000045,22.192400000000305],[114.34570000000019,22.14840000000021],[114.4336000000003,22.016600000000267],[114.08200000000011,21.928700000000106],[113.99410000000023,21.796900000000164],[113.55470000000025,22.016600000000267],[113.1152,21.840800000000172],[112.93950000000018,21.5771000000002],[112.41210000000024,21.44530000000026],[112.2363,21.533200000000193],[111.53320000000019,21.489300000000185],[111.26950000000022,21.3574],[110.74220000000031,21.3574],[110.6543000000002,21.225600000000156],[110.74220000000031,20.918000000000177],[110.47850000000011,20.87400000000025],[110.6543000000002,20.258800000000235],[111.09380000000027,19.9512000000002],[111.26950000000022,19.995100000000207],[110.6543000000002,19.160200000000145],[110.56640000000027,18.67680000000024],[110.21480000000014,18.588900000000308],[110.03910000000019,18.369100000000117],[109.8633,18.369100000000117],[109.68750000000023,18.105500000000234],[108.98440000000028,18.2813000000001],[108.63280000000015,18.45700000000022],[108.63280000000015,19.37990000000019],[109.07230000000021,19.64360000000022],[109.24800000000016,19.9512000000002],[109.5996000000003,20.039100000000303],[110.03910000000019,20.127000000000237],[109.8633,20.127000000000237],[109.8633,20.302700000000243],[109.5996000000003,20.918000000000177],[109.77540000000016,21.40140000000025],[109.5996000000003,21.44530000000026],[109.16020000000032,21.3574],[109.24800000000016,20.87400000000025],[109.07230000000021,20.961900000000185],[109.07230000000021,21.533200000000193],[108.7207,21.533200000000193],[108.63280000000015,21.665000000000305],[108.28130000000016,21.489300000000185],[107.84180000000026,21.621100000000297],[107.4023000000002,21.621100000000297],[107.05080000000021,21.796900000000164],[107.05080000000021,21.928700000000106],[106.69920000000025,22.016600000000267],[106.61130000000031,22.41210000000018],[106.78710000000018,22.763700000000142],[106.69920000000025,22.895500000000254],[105.90820000000019,22.93950000000018],[105.55660000000023,23.07130000000012],[105.55660000000023,23.20310000000029],[105.29300000000018,23.378900000000158],[104.85350000000028,23.159200000000283],[104.76560000000018,22.851600000000246],[104.3262000000002,22.67580000000021],[104.15040000000016,22.80760000000015],[103.97460000000024,22.54390000000012],[103.62300000000016,22.763700000000142],[103.53520000000032,22.587900000000275],[103.35940000000022,22.80760000000015],[103.09570000000025,22.456100000000106],[102.48050000000023,22.763700000000142],[102.3047000000002,22.41210000000018],[101.8652000000003,22.368200000000172],[101.7773000000002,22.500000000000114],[101.60160000000019,22.192400000000305],[101.8652000000003,21.621100000000297],[101.7773000000002,21.137700000000223],[101.60160000000019,21.225600000000156],[101.25000000000028,21.18160000000023],[101.16210000000018,21.75290000000024],[100.63480000000027,21.44530000000026],[100.10740000000027,21.489300000000185],[99.93160000000017,22.060500000000275],[99.22850000000022,22.14840000000021],[99.40430000000032,22.587900000000275],[99.31640000000016,22.719700000000216],[99.49220000000025,23.07130000000012],[98.87700000000024,23.20310000000029],[98.70120000000014,23.950200000000166],[98.87700000000024,24.126000000000204],[98.17380000000014,24.082000000000278],[97.73440000000022,23.862300000000232],[97.55860000000013,23.906300000000158],[97.73440000000022,24.126000000000204],[97.64650000000029,24.43360000000024],[97.55860000000013,24.43360000000024],[97.55860000000013,24.74120000000022],[97.73440000000022,24.829100000000153],[97.82230000000015,25.26860000000022],[98.17380000000014,25.40040000000016],[98.17380000000014,25.620100000000264],[98.34960000000024,25.576200000000256],[98.52540000000027,25.83980000000031],[98.70120000000014,25.883800000000235],[98.61330000000021,26.059600000000103],[98.70120000000014,26.147500000000264],[98.7891000000003,26.586900000000185],[98.70120000000014,27.509800000000155],[98.52540000000027,27.641600000000267],[98.34960000000024,27.509800000000155],[98.17380000000014,28.12500000000017],[97.55860000000013,28.52050000000014],[97.29490000000015,28.081100000000163],[97.38280000000026,27.905300000000295],[97.03130000000027,27.7295000000002],[96.50390000000027,28.12500000000017],[95.71290000000016,28.256800000000283],[95.36130000000026,28.12500000000017],[95.2734,27.949200000000303],[94.21880000000016,27.553700000000163],[93.8672000000002,27.02640000000025],[93.60350000000022,26.938500000000147],[92.10940000000016,26.850600000000213],[92.02150000000023,27.46580000000023],[91.58200000000016,27.553700000000163],[91.58200000000016,27.905300000000295],[91.40630000000021,28.037100000000237],[91.05470000000025,27.861300000000142],[90.70310000000018,28.081100000000163],[89.8242000000003,28.212900000000275],[89.64840000000027,28.16890000000018],[89.12110000000018,27.59770000000026],[89.12110000000018,27.334000000000287],[89.03320000000025,27.2021000000002],[88.76950000000022,27.42190000000022],[88.85740000000021,27.99320000000023],[88.68160000000029,28.12500000000017],[88.1543000000002,27.905300000000295],[87.89060000000023,27.949200000000303],[87.7148000000002,27.817400000000134],[87.09960000000018,27.817400000000134],[86.74800000000022,28.12500000000017],[86.57230000000027,28.12500000000017],[86.48440000000016,27.905300000000295],[86.1328000000002,28.12500000000017],[86.04490000000027,27.905300000000295],[85.69340000000022,28.344700000000216],[85.60550000000029,28.256800000000283],[85.16600000000022,28.344700000000216],[85.16600000000022,28.652300000000253],[84.90230000000025,28.564500000000237],[84.46290000000027,28.740200000000186],[84.28710000000024,28.872100000000216],[84.1992000000003,29.22360000000026],[84.11130000000014,29.267600000000186],[83.58400000000029,29.179700000000253],[83.23240000000015,29.575200000000166],[82.17770000000024,30.05860000000024],[82.08980000000014,30.32230000000027],[81.38670000000019,30.366200000000276],[81.2109,30.014600000000144],[81.03520000000032,30.234400000000164],[80.06840000000022,30.58590000000015],[79.71680000000026,30.937500000000284],[79.01370000000014,31.069300000000226],[78.75000000000028,31.333000000000197],[78.83790000000027,31.596700000000226],[78.66210000000018,31.81640000000027],[78.75000000000028,31.904300000000205],[78.48630000000031,32.12400000000031],[78.39840000000021,32.51950000000022],[78.75000000000028,32.695300000000145],[78.92580000000021,32.34380000000027],[79.2773000000002,32.563500000000204],[79.10160000000025,33.17870000000022],[78.66210000000018,33.66210000000024],[78.66210000000018,34.1016000000003],[78.92580000000021,34.14550000000014],[79.01370000000014,34.321300000000235],[78.22270000000026,34.71680000000015],[78.04690000000016,35.24410000000023],[78.04690000000016,35.50780000000026],[77.43160000000023,35.46390000000025],[76.81640000000021,35.6396000000002],[76.55270000000024,35.859400000000164],[76.2012000000002,35.81540000000024],[75.93750000000023,36.03520000000026],[76.02540000000016,36.47460000000018],[75.84960000000024,36.69430000000028],[75.49800000000016,36.73830000000021],[75.41020000000032,36.958000000000254],[75.05860000000018,37.00200000000018],[74.88280000000015,36.914100000000246],[74.79490000000021,37.04590000000019],[74.53130000000027,37.089800000000196],[74.53130000000027,37.22170000000028],[74.88280000000015,37.22170000000028],[75.14650000000029,37.44140000000016],[74.88280000000015,37.57320000000027],[74.97070000000025,37.74900000000031],[74.88280000000015,38.4521],[74.35550000000023,38.67190000000028],[74.1797000000002,38.67190000000028],[74.0918000000002,38.54000000000025],[73.82810000000023,38.584000000000174],[73.7402000000003,38.847700000000316],[73.82810000000023,38.979500000000314],[73.47660000000019,39.37500000000023],[73.91600000000017,39.50680000000017],[73.91600000000017,39.682600000000264],[73.82810000000023,39.7705000000002],[74.00390000000027,40.03420000000017],[74.88280000000015,40.341800000000205],[74.79490000000021,40.51760000000024],[75.23440000000022,40.42970000000031],[75.58590000000027,40.649400000000185],[75.7617000000003,40.2979000000002],[76.37700000000024,40.38570000000021],[76.90430000000032,41.00100000000015],[77.60740000000027,41.00100000000015],[78.13480000000027,41.22070000000019],[78.13480000000027,41.39650000000029],[80.15630000000016,42.05570000000023],[80.24410000000017,42.275400000000275],[80.15630000000016,42.62700000000024],[80.24410000000017,42.84670000000028],[80.50780000000015,42.89060000000029],[80.41990000000021,43.06640000000016],[80.77150000000017,43.198200000000156],[80.41990000000021,44.16500000000025],[80.41990000000021,44.604500000000314],[79.98050000000029,44.82420000000019],[79.98050000000029,44.956100000000276],[81.7383,45.3955000000002],[82.08980000000014,45.21970000000016],[82.5293000000002,45.21970000000016],[82.26560000000018,45.659200000000226],[83.05660000000029,47.24120000000022],[83.67190000000022,47.02150000000029],[84.7266000000003,47.02150000000029],[84.90230000000025,46.88960000000026],[85.51760000000019,47.065400000000295],[85.69340000000022,47.285200000000316],[85.51760000000019,48.12010000000021],[85.78130000000016,48.42770000000024],[86.57230000000027,48.55960000000027],[86.83590000000015,48.823200000000156],[86.74800000000022,48.95510000000024],[86.83590000000015,49.13090000000028],[87.8027000000003,49.17480000000029],[87.89060000000023,48.99900000000025],[87.7148000000002,48.91110000000026],[88.06640000000027,48.73540000000031],[87.97850000000017,48.60350000000028],[88.50590000000017,48.383800000000235],[88.68160000000029,48.1641000000003],[89.12110000000018,47.988300000000265],[89.56050000000016,48.03220000000027],[89.7363000000002,47.856400000000235],[90.08790000000016,47.856400000000235],[90.3516000000003,47.68070000000023],[90.52730000000025,47.24120000000022],[90.87890000000021,46.97750000000019],[91.05470000000025,46.58200000000022],[90.87890000000021,46.31840000000017],[91.05470000000025,46.01070000000021],[90.70310000000018,45.74710000000016],[90.70310000000018,45.527300000000196],[90.87890000000021,45.21970000000016],[91.58200000000016,45.08790000000022],[93.51560000000029,44.956100000000276],[94.74610000000024,44.34080000000017],[95.36130000000026,44.296900000000164],[95.36130000000026,44.033200000000306],[95.5371000000003,43.901400000000194],[95.88870000000026,43.24220000000025],[96.32810000000018,42.934600000000216],[96.41600000000011,42.75880000000018],[96.41600000000011,42.71480000000025],[97.20700000000022,42.802700000000186],[99.49220000000025,42.58300000000014],[100.81050000000022,42.670900000000245],[101.7773000000002,42.49510000000015],[102.04100000000017,42.23140000000018],[102.74410000000029,42.14360000000016],[103.35940000000022,41.879900000000134],[103.8867000000003,41.7920000000002],[104.50200000000024,41.879900000000134],[104.50200000000024,41.66020000000026],[105.02930000000032,41.572300000000155],[105.73240000000027,41.92380000000014],[107.4023000000002,42.45120000000014],[109.42380000000026,42.45120000000014],[110.39060000000018,42.75880000000018],[111.00590000000011,43.330100000000186],[111.97270000000026,43.681600000000174],[111.97270000000026,43.81350000000026],[111.44530000000026,44.38480000000027],[111.79690000000022,45.000000000000284],[111.97270000000026,45.08790000000022],[113.64260000000013,44.736300000000256],[114.16990000000021,44.956100000000276],[114.5215,45.3955000000002],[115.6641,45.43950000000018],[116.1914000000005,45.703100000000234],[116.27930000000026,45.966800000000205],[116.543,46.27440000000024],[117.33400000000051,46.362300000000175],[117.42190000000028,46.58200000000022],[117.7734,46.53810000000021],[118.30080000000021,46.757800000000145],[118.74020000000019,46.71390000000031],[118.916,46.757800000000145],[119.09180000000038,46.66990000000021],[119.70700000000022,46.626000000000204],[119.97070000000019,46.71390000000031],[119.70700000000022,47.19730000000021],[118.47660000000019,47.988300000000265],[117.86130000000026,48.03220000000027],[117.33400000000051,47.68070000000023],[116.80660000000034,47.90040000000016],[116.1914000000005,47.856400000000235],[115.9277,47.68070000000023],[115.57620000000031,47.90040000000016],[115.48830000000021,48.1641000000003],[115.8398000000002,48.25200000000024],[115.8398000000002,48.55960000000027],[116.71880000000033,49.83400000000023],[117.7734,49.52640000000025],[118.5645000000003,49.921900000000164],[119.26760000000024,50.09770000000026],[119.35550000000012,50.317400000000305],[119.17970000000014,50.36130000000031],[119.5313,50.75680000000028],[119.5313,50.88870000000014],[119.70700000000022,51.06450000000018],[120.14650000000029,51.679700000000196],[120.67380000000026,51.943400000000224],[120.7617,52.119100000000174],[120.7617,52.251000000000204],[120.58590000000015,52.33890000000031],[120.67380000000026,52.5146],[120.41020000000026,52.646500000000174],[120.0586,52.60250000000025],[120.0586,52.73440000000028],[120.84960000000024,53.26170000000019],[121.46480000000042,53.349600000000294],[123.66210000000035,53.56930000000017]]],y,o.grid);s.plot(t,d,[e[0],e[2]],[e[1],e[3]],l.colors)}},t.prototype.setRange=function(t,e,i){for(var r,n=null,o=null,a=0;a<t.length;a++){for(var s in t[a])s===e.fieldName&&(r=t[a][s]);n=n?Math.min(r,n):r,o=o?Math.max(r,o):r}e.hasOwnProperty("min")||i.setMin(n),e.hasOwnProperty("max")||i.setMax(o)},t.prototype.getColors=function(t,e,i){for(var r=[],n=[],o=0;o<t.length;o++)for(var a in t[o])a===e.fieldName&&n.push(t[o][a]);var s=this.removeRepeat(n),l=this.sort(s);for(o=0;o<l.length-1;o++)r.push(i.getColor(l[o]));return r},t.prototype.sort=function(t){for(var e=0;e<t.length-1;e++)for(var i=e+1;i<t.length;i++)if(t[e]>t[i]){var r=t[i];t[i]=t[e],t[e]=r}return t},t.prototype.removeRepeat=function(t){for(var e=[],i=0;i<t.length-1;i++)t.indexOf(t[i])==i&&e.push(t[i]);return e},t}();e.Temperature=n},function(t,e){t.exports=a},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=i(78),s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.minDataValue=0,r.maxDataValue=100,r.setDefaultConfig(),r}return n(e,t),e.prototype.setData=function(t){this._layer.getLayer().clear(),this._layer.getLayer().addFeatureCollection(t.toGFeatureCollection()),this.option=this.findAll(),this.getMinMax(t.asArray());var e=this.createClassBreaksRenderer();this._layer.getLayer().render(e),this.bindEvents()},e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",strokeStyle:"rgba(255,255,0,1)",lineWidth:2,legend:{show:!0,width:20,height:180},emphasis:{strokeStyle:"#222",fillStyle:"#f0f",lineWidth:1},tooltip:{formatter:"{name}:{weight}"},label:{show:!0,fillStyle:"rgb(0,114,114)",fontSize:"15px",fontWeight:"normal",fontFamily:"",textAlign:"center",rotation:0,offsetX:0,offsetY:0,shadowBlur:.5,shadowColor:"rgba(3,63,120,1)"},globalAlpha:1,splitList:["#ffffe5","#d8efa2","#addd8e","#41ab5d","#11ffe5"]},e)},e.prototype.createClassBreaksRenderer=function(){var t=this.option;this._layer.getLayer().setOpacity(t.globalAlpha);var e,i=[],r=[],n=[];if(t.dataRange){var s=t.dataRange.splitList;n=t.dataRange.colors,e=this.setGrade(s,n)}else n=t.splitList,e=this.autoGrade(this.minDataValue,this.maxDataValue,t.splitList.length,t.splitList);this.legendCate={};for(var l=0,h=e.length;l<h;++l)this.legendCate[e[l].content]=e[l].color;for(var c=0;c<n.length;c++){var u=this.toColor(n[c]);r[c]=new o.sfs.SimpleFillSymbol({fillColor:u,borderColor:this.toColor(t.strokeStyle),borderThickness:t.lineWidth})}var p,f,y,d=new o.sfs.SimpleMarkerSymbol({fillColor:new o.sfs.Color({r:255,g:0,b:0,a:255}),borderColor:new o.sfs.Color({r:255,g:0,b:0,a:255}),size:5,borderThickness:1,style:"circle"});this.fieldName=t.fieldName?t.fieldName:"weight",Array.isArray(this.fieldName)?(f=1<this.fieldName.length?this.fieldName[1]:this.fieldName[0],p=this.fieldName[0]):(p=this.fieldName,f=this.fieldName);var v=parseInt(t.label.fontSize.replace("px",""));t.label.show&&(y=new o.sfs.TextSymbol({text:p,fontSize:v,borderThickness:t.label.shadowBlur,fontWeight:t.label.fontWeight,fontFamilyName:t.label.fontFamily,foreground:this.toColor(t.label.fillStyle),borderColor:this.toColor(t.label.shadowColor),textAlign:t.label.textAlign,rotation:t.label.rotation,offsetX:t.label.offsetX,offsetY:t.label.offsetY}));var g=[];for(l=0,h=e.length;l<h;++l){var m=e[l].start,_=e[l].end;g[l]=new o.sfs.CurrencySymbol({fillSymbol:r[l],markerSymbol:d,textSymbol:y}),i.push({startValue:m,endValue:_,symbol:g[l]})}var b=new o.render.ClassBreaksRenderer({symbol:g[0],showLabel:t.label.show||!1,labelField:f,fieldName:p,classfications:i,minDataValue:this.minDataValue,maxDataValue:this.maxDataValue});this.classifyRender=b;var x=new a.Category(this.legendCate);return this.setLegend(x,t),this.setToolTip(t),b},e.prototype.getLegendData=function(){return this.legendCate},e.prototype.getMinMax=function(t){var e=this.option.fieldName;Array.isArray(e)&&(e=e[0]);for(var i=[],r=0;r<t.length;r++)for(var n in t[r])n===e&&i.push(t[r][n]);this.maxDataValue=Math.max.apply(null,i),this.minDataValue=Math.min.apply(null,i)},e.prototype.setGrade=function(t,e){for(var i=[],r=0;r<e.length;r++)if(r<e.length-1){var n=t[r].color||e[r];i.push({end:t[r].end,start:t[r].start,color:n,content:t[r].start+"-"+t[r].end})}else n=t[r].color||e[r],this.maxDataValue>t[r].end&&i.push({end:this.maxDataValue,start:t[r].start,color:n,content:t[r].start+"-"+t[r].end});return i},e}(i(77).BoundaryBaseChart);e.BoundaryCategoryChart=s},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(31),a=i(38),s=i(21),l=i(20),h=i(19),c=i(39),u=i(55),p=function(t){function e(e,i){var r,n=t.call(this)||this;return n.featureCollections=[],e&&e.crs&&(r=n.getProj(e.crs.properties.name)),n.featureCollection=new a.FeatureCollection(u.GeometryType.GeoJson,r),n.toFeatureCollection(e,i),n}return n(e,t),e.prototype.getData=function(){var t=this;return new Promise(function(e){e(t.featureCollections)})},e.prototype.asArray=function(){return null},e.prototype.toFeatureCollection=function(t,e){for(var i=this,r=this.splitJson(t,e),n=function(t){var e={};if("FeatureCollection"!=r[t].type)return{value:new a.FeatureCollection};r[t].features.forEach(function(t){var r=i.tofeature(t);i.featureCollection.addFeature(r),e=i.featureCollection}),o.featureCollections.push(e),o.featureCollection=new a.FeatureCollection(u.GeometryType.GeoJson)},o=this,s=0;s<r.length;s++){var l=n(s);if("object"==typeof l)return l.value}},e.prototype.splitJson=function(t,e){var i=[];if(Array.isArray(e))for(var r=t.features[0].properties[e[0]].length,n=0;n<r;n++){for(var o=JSON.parse(JSON.stringify(t)),a=0;a<o.features.length;a++)for(var s in o.features[a].properties)for(var l=0;l<e.length;l++)s===e[l]&&(o.features[a].properties[s]=t.features[a].properties[s][n]);i.push(o)}else if("string"==typeof e){var h=t.features[0].properties[e].length;for(n=0;n<h;n++){for(o=JSON.parse(JSON.stringify(t)),a=0;a<o.features.length;a++)for(var s in o.features[a].properties)s===e&&(o.features[a].properties[s]=t.features[a].properties[s][n]);i.push(o)}}else i.push(t);return i},e.prototype.tofeature=function(t){var e=new h.Fields,i=t.properties,r=new l.Field;for(var n in r.name="shape",r.dataType=this.getgeometryType(t.geometry.type),e.addField(r),i){var o=new l.Field;o.name=n,o.dataType=this.getDataType(i[n]),e.addField(o)}var a=new s.Feature(e);for(var n in i)"shape"!==n&&a.setValue(n,i[n]);return a.setGeometry(t.geometry.coordinates),a},e.prototype.getProj=function(t){return"urn:ogc:def:crs:EPSG::3857"===t||"urn:ogc:def:crs:EPSG:3857"===t||"EPSG:3857"===t||"EPSG:102100"===t||"EPSG:102113"===t||"EPSG:900913"===t||"urn:ogc:def:crs:EPSG:6.18:3:3857"===t||"http://www.opengis.net/gml/srs/epsg.xml#3857"===t?3857:"CRS:84"===t||"EPSG:4326"===t||"urn:ogc:def:crs:EPSG:6.6:4326"===t||"urn:ogc:def:crs:OGC:1.3:CRS84"===t||"urn:ogc:def:crs:OGC:2:84"===t||"http://www.opengis.net/gml/srs/epsg.xml#4326"===t||"urn:x-ogc:def:crs:EPSG:4326"===t||"urn:x-ogc:def:crs:EPSG::4326"===t?4326:"EPSG:4490"===t||"urn:ogc:def:crs:EPSG::4490"===t?4490:"EPSG:2436"===t?2436:"EPSG:4509"===t?4509:void 0},e.prototype.getDataType=function(t){return t.constructor===String?c.DataType.String:t.constructor===Number?c.DataType.Int:t.constructor===Boolean?c.DataType.Boolean:void 0},e.prototype.getgeometryType=function(t){var e=c.DataType.None;switch(t){case"LineString":e=c.DataType.LineString;break;case"MultiPoint":e=c.DataType.MultiPoint;break;case"MultiLineString":e=c.DataType.MultiLineString;break;case"MultiPolygon":e=c.DataType.MultiPolygon;break;case"Point":e=c.DataType.Point;break;case"Path":e=c.DataType.Path;break;case"Circle":e=c.DataType.Circle;break;case"LinearRing":e=c.DataType.LinearRing;break;case"Lseg":e=c.DataType.Lseg;break;case"Box":e=c.DataType.Box;break;case"Polygon":e=c.DataType.Polygon}return e},e}(o.FeatureSource);e.GeoJsonCollectionSource=p},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(15),l=i(78),h=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.PointCategory)||this;return r._pointData=[],r._changePointData=[],r.legendClick=!0,r.mapvOption={},r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",size:20,shadowColor:"rgba(55, 50, 50, 0.5)",shadowBlur:10,globalCompositeOperation:"lighter",lineWidth:0,splitList:["#6ee7ff","#90ee90","#f8983a","#fafa32","#2afa32"],legend:{show:!0,left:30,bottom:50,padding:10,fontSize:"20px",fontColor:"#333"},duration:100,tooltip:{formatter:"{gvCoordinate}"}},e)},e.prototype.setData=function(t){var e=t.asArray(),i=this.findAll();if("string"==typeof this.getObjectFieldName()&&(i.legend.show=!1),i.hasOwnProperty("splitList")&&i.splitList.constructor===Array&&(i.color=i.splitList,delete i.splitList),i.animateTime=i.duration,delete i.duration,i.draw="category",i.styleType="stroke",this.mapvOption=i,this.getData(e),this._layer instanceof s.MapVLayer){var r=this._pointData,n=this._layer.toDataSet(r);this._layer.getLayer()?this._layer.updateLayer(i,n):this._layer.createLayer(i,n),this.setInteractions(i)}},e.prototype.getData=function(t){var e=this.getObjectFieldName();if("object"==typeof e)for(var i=0;i<t.length;i++){var r={geometry:{type:"Point",coordinates:[]}};for(var n in t[i])"shape"===n?r.geometry.coordinates=t[i][n]:n===e.type?r.count=t[i][n]:n===e.size?r.size=t[i][n]:r[n]=t[i][n];this._pointData.push(r)}else for(i=0;i<t.length;i++){for(var n in r={geometry:{type:"Point",coordinates:[]}},t[i])"shape"===n?r.geometry.coordinates=t[i][n]:r[n]=t[i][n];this._pointData.push(r)}},e.prototype.getObjectFieldName=function(){var t=this.findAll();if(t.fieldName.constructor!==Array)return t.fieldName.constructor===Object?t.fieldName:"";for(var e={},i=0;i<t.fieldName.length;i++)e.type=t.fieldName[0],e.size=t.fieldName[1];for(var r in e)e[r]||delete e[r];return e},e.prototype.setInteractions=function(e){var i=new l.Category(this._layer._layer.category.splitList);this.setLegend(i,e),e.hasOwnProperty("tooltip")&&t.prototype.Tooltip.call(this,e.tooltip)},e.prototype.startToolTip=function(){this.tooltipEve||(this.tooltipEve=this.tooltipEvent.bind(this),this._layer.getLayer().map.on("pointermove",this.tooltipEve))},e.prototype.stopToolTip=function(){this.tooltipEve&&(this._layer.getLayer().map.un("pointermove",this.tooltipEve),this.tooltipEve=null)},e.prototype.setLegend=function(e,i){i.hasOwnProperty("legend")&&t.prototype.Legend.call(this,e,i)},e.prototype.on=function(t,e){this.config("methods."+t,e)},e.prototype.un=function(t,e){this.config("methods."+t,void 0)},e.prototype.startLegendEvent=function(){var t=this.getLegendDom();this.legendEve||(this.legendEve=this.legendHandler.bind(this),t.addEventListener("click",this.legendEve))},e.prototype.stopLegendEvent=function(){var t=this.getLegendDom();this.legendEve&&(t.removeEventListener("click",this.legendEve),this.legendEve=null)},e.prototype.getLegendDom=function(){var t=("TSMap"==this.mapType?this._layer.map.getViewport():this._layer.map._container).querySelector(".chartLegend");this._changePointData=[];for(var e=0;e<this._pointData.length;e++)this._changePointData.push(this._pointData[e]);return t},e.prototype.legendHandler=function(t){var e,i=this.findAll(),r=i.splitList,n=t.target;for(var o in e="span"==n.nodeName.toLocaleLowerCase()?n.parentNode:n,r)if(e.getAttribute("value")==o&&this._layer instanceof s.MapVLayer){"true"==e.getAttribute("legendClick")?(e.children[0].style.background="#ccc",e.children[1].style.color="#ccc",this.getCategoryData(e,o,r),e.setAttribute("legendClick",!this.legendClick)):(e.children[0].style.background=r[o],e.children[1].style.color=i.legend.fontColor,this.getCategoryData(e,o,r),e.setAttribute("legendClick",this.legendClick));var a=this._layer.toDataSet(this._changePointData);this._layer.updateLayer(this.mapvOption,a)}},e.prototype.tooltipEvent=function(t){var e=this._layer.getLayer(),i=t.pixel[0],r=t.pixel[1],n=e.isPointInPath(e.getContext(),{x:i,y:r});if(n){var o=this.findAll();n.gvCoordinate=t.coordinate;var a=this.tooltip.getStr(o.tooltip.formatter,n);this.tooltip.updateTooltip(!0,a,i+10,r+10,n._fillStyle)}else this.tooltip.updateTooltip(!1)},e.prototype.getCategoryData=function(t,e,i){var r=this._pointData;if("true"==t.getAttribute("legendClick"))if("other"!=e)for(var n=0;n<this._changePointData.length;n++)this._changePointData[n].count==e&&(this._changePointData.splice(n,1),n--);else for(n=0;n<this._changePointData.length;n++){var o=this._changePointData[n].count;i.hasOwnProperty(o)||(this._changePointData.splice(n,1),n--)}else if("other"!=e)for(n=0;n<r.length;n++)r[n].count==e&&this._changePointData.push(r[n]);else for(n=0;n<r.length;n++){var a=r[n].count;i.hasOwnProperty(a)||this._changePointData.push(r[n])}},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.tooltipEve&&this._layer.getLayer().map.un("pointermove",this.tooltipEve)},e}(o.MapVChart);e.PointAnimationChart=h},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),a=i(6),s=i(11),l=function(t){function e(e,i){var r=t.call(this,e,i,a.MapVChartType.Situation)||this;return r.scatterData=[],r.icon={},r.defaultIcon="M499.772 44.815c-178.055 0-322.44 145.167-322.44 324.367 0 89.51 36.142 170.586 94.45 229.316l227.99 229.376 228.051-229.376a324.307 324.307 0 0 0 94.389-229.256c0-179.2-144.324-324.367-322.44-324.367z m0 468.45a143.721 143.721 0 0 1-143.36-144.083v-0.12a143.661 143.661 0 0 1 143.3-144.083h0.06a143.721 143.721 0 0 1 143.36 144.083v0.12a143.661 143.661 0 0 1-143.18 144.023h-0.18zM356.412 933.286a143.36 60.235 0 1 0 286.72 0 143.36 60.235 0 1 0-286.72 0z",r.setDefaultConfig(),r}return n(e,t),e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",iconType:"",size:30,symbolOffset:[0,0],fillStyle:"#ff2c15",strokeStyle:"#ff2c15",lineWidth:0,shadowColor:"",shadowBlur:0,splitList:["#6ee7ff","#90ee90","#f8983a","#fafa32","#2afa32","#2a3a32"],label:{show:!0,formatter:"{b}",fillStyle:"rgba(255,255,255,1)",offset:[0,20],fontSize:"15px",fontWeight:"normal",fontFamily:"serif",fontStyle:"normal",shadowColor:"rgba(255,255,0,1)",shadowBlur:3},legend:{show:!0,left:30,bottom:50,padding:10,fontSize:"20px",fontColor:"#333"},tooltip:{show:!0,formatter:"{b}"}},e)},e.prototype.setData=function(t){var e=t.asArray();this.getData(e);var i=this.getEchartOption();this._layer instanceof s.EChartsLayer&&(this._layer.getLayer()?this._layer.updateLayer(i):this._layer.createLayer(i))},e.prototype.getEchartOption=function(){var t=this.findAll(),e=[],i={};for(var r in t.legend)i[r]=t.legend[r];if(void 0===this.splitList){i.show=!1;var n=this.seriesItemOption();e.push(n)}else{for(var o=Object.keys(this.splitList),a=0;a<o.length;a++)n=this.seriesItemOption(a,o),e.push(n);1<o.length?i.data=o:i.show=!1}t.label.color=t.label.fillStyle,delete t.label.fillStyle;var s={animation:!1,tooltip:t.tooltip,legend:i,series:e};return"TSMap"===this.mapType?s.G2Map={}:s.CesiumMap={},s},e.prototype.seriesItemOption=function(t,e){var i=this.findAll(),r={itemStyle:{}};for(var n in i)"lineWidth"!==n&&"strokeStyle"!==n&&"shadowColor"!==n&&"shadowBlur"!==n||("strokeStyle"===n?r.itemStyle.borderColor=i[n]:"lineWidth"===n?r.itemStyle.borderWidth=i[n]:r.itemStyle[n]=i[n]);return r.type="scatter",r.label=i.label,r.symbolKeepAspect=!0,r.symbolSize=i.size,"object"==typeof this.getObjectFieldName()?(r.itemStyle.color=this.splitList[e[t]],r.symbol=this.icon[e[t]],r.name=e[t],r.data=this.scatterData[t]):(r.itemStyle.color=i.fillStyle,r.symbol="path://"+this.defaultIcon,r.data=this.scatterData),"TSMap"===this.mapType?r.coordinateSystem="G2Map":r.coordinateSystem="CesiumMap",r},e.prototype.getData=function(t){var e=this.findAll(),i=this.getObjectFieldName();if("object"==typeof i){e.splitList?e.splitList.constructor===Array?this.splitList=this.getSplitList(t,i,e.splitList):this.splitList=e.splitList:this.splitList=this.getSplitList(t,i);for(var r=Object.keys(this.splitList),n=0;n<r.length;n++){for(var o=[],a=0;a<t.length;a++)if(i.hasOwnProperty("type")){if(t[a][i.type]===r[n]){var s=this.getScatterItem(t[a],i,n,r);o.push(s)}}else s=this.getScatterItem(t[a],i),o.push(s);this.scatterData.push(o)}}else for(a=0;a<t.length;a++){s={};var l={};for(var h in t[a])"shape"===h?s.value=t[a].shape:(s[h]=t[a][h],l[h]=t[a][h]);s.gvProperty=l,this.scatterData.push(s)}},e.prototype.getScatterItem=function(t,e,i,r){var n=this.findAll(),o={},a={};for(var s in t)"shape"===s?o.value=t.shape:(s===e[n.iconType]&&(r?"url"===n.iconType?this.icon[r[i]]="image://"+t[e[n.iconType]]:this.icon[r[i]]="path://"+t[e[n.iconType]]:"url"===n.iconType?this.icon[void 0]="image://"+t[e[n.iconType]]:this.icon[void 0]="path://"+t[e[n.iconType]]),o[s]=t[s],a[s]=t[s]);return o.gvProperty=a,o},e.prototype.getObjectFieldName=function(){var t=this.findAll();if(t.fieldName.constructor!==Array)return t.fieldName.constructor===Object?t.fieldName:"";for(var e={},i=0;i<t.fieldName.length;i++)e[t.iconType]=t.fieldName[0],e.type=t.fieldName[1];for(var r in e)e[r]||delete e[r];return e},e}(o.MapVChart);e.PointIconChart=l},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=i(16),s=i(329),l=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.times=[],r.index=0,r.maxDataValue=100,r.minDataValue=0,r.setDefaultConfig(),r}return n(e,t),e.prototype.setData=function(t){this._layer.getLayer().clear(),this.option=this.findAll(),this.featureCollections=t;for(var e=0;e<t.length;e++){var i=t[e].asArray();this.times.push(i[0][this.option.fieldName[0]]),this.getMinMax(i)}this.startTimeLine(),this.createClassBreaksRenderer(),this.setToolTip(this.option),this.bindEvents()},e.prototype.startTimeLine=function(){var t=this.findAll(),e=this._layer.getLegendViewPort(),i=document.createElement("div");i.style.width="1000px",i.style.height="150px",i.style.position="absolute",e.parentNode.style.position="relative",i.style.left=t.timeLine.left.toString().replace("px","")+"px",i.style.bottom=t.timeLine.bottom.toString().replace("px","")+"px",i.style.zIndex="9999",i.setAttribute("class","timeLine"),e.parentNode.appendChild(i),this.timeLine=new s.TimeLine(i,this.times,t.timeLine)},e.prototype.stopTimeLine=function(){this.timeLine.close(),clearInterval(this.timer)},e.prototype.setDefaultConfig=function(){var e=this.findAll();t.prototype.configOptions.call(this,{fieldName:"",strokeStyle:"rgba(255,255,0,1)",lineWidth:2,legend:{show:!0,width:20,height:180},emphasis:{strokeStyle:"#222",fillStyle:"#f0f",lineWidth:1},tooltip:{formatter:"{name}:{weight}"},label:{show:!0,fillStyle:"rgb(0,114,114)",fontSize:"15px",fontWeight:"normal",fontFamily:"",textAlign:"center",rotation:0,offsetX:0,offsetY:0,shadowBlur:.5,shadowColor:"rgba(3,63,120,1)"},globalAlpha:1,gradient:{0:"#ffffe5",1:"#f00"},timeLine:{padding:50,fillStyle:"#274754",bottom:0,left:400,textStyle:{align:"center",fontSize:12,lineWidth:4,fillStyle:"#000"},animate:{duration:2,auto:!0}}},e)},e.prototype.createClassBreaksRenderer=function(){var t=this.option;this.minDataValue=t.min?t.min:this.minDataValue,this.maxDataValue=t.max?t.max:this.maxDataValue;var e=new a.Intensity({gradient:t.gradient,max:this.maxDataValue,min:this.minDataValue});this.setLegend(e,t),this._layer.getLayer().setOpacity(t.globalAlpha);var i,r,n=new o.sfs.SimpleMarkerSymbol({fillColor:new o.sfs.Color({r:255,g:0,b:0,a:255}),borderColor:new o.sfs.Color({r:255,g:0,b:0,a:255}),size:5,borderThickness:1,style:"circle"});this.fieldName=t.fieldName,2<this.fieldName.length?this.fieldName[2]:this.fieldName[1],i=this.fieldName[1];var s,l=parseInt(t.label.fontSize.replace("px",""));t.label.show&&(r=new o.sfs.TextSymbol({text:i,fontSize:l,borderThickness:t.label.shadowBlur,fontWeight:t.label.fontWeight,fontFamilyName:t.label.fontFamily,foreground:this.toColor(t.label.fillStyle),borderColor:this.toColor(t.label.shadowColor),textAlign:t.label.textAlign,rotation:t.label.rotation,offsetX:t.label.offsetX,offsetY:t.label.offsetY}));var h=null,c=this;this.timer=setInterval(function(){c.index=c.timeLine.getIndex(),h!==c.index&&(c._layer.getLayer().clear(),s=c.renderBoundary(e,r,n),c._layer.getLayer().addFeatureCollection(c.featureCollections[c.index].toGFeatureCollection()),c._layer.getLayer().render(s)),h=c.index},100)},e.prototype.renderBoundary=function(t,e,i){var r=this,n=this.findAll();this._data=this.featureCollections[this.index].asArray();var a=this.getWeights(n,this.fieldName).sort(function(t,e){return t-e}),s=[];this.getWeights(n,this.fieldName).map(function(t){t<=r.maxDataValue&&s.push(t)});var l,h,c=[],u=(Object.keys(n.gradient),[]),p=[],f=[];this.fieldName=n.fieldName,h=2<this.fieldName.length?this.fieldName[2]:this.fieldName[1],l=this.fieldName[1];for(var y=0;y<s.length;y++){var d=t.getColor(a[y]),v=this.toColor(d);u.push(d),p[y]=new o.sfs.SimpleFillSymbol({fillColor:v,borderColor:this.toColor(n.strokeStyle),borderThickness:n.lineWidth})}for(var g,m,_=this.autoGrade(this.minDataValue,this.maxDataValue,s.length,u),b=(y=0,a.length);y<b;++y)if(y<_.length)g=_[y-1]?_[y-1].value:this.minDataValue,m=_[y].value,f[y]=new o.sfs.CurrencySymbol({fillSymbol:p[y],markerSymbol:i,textSymbol:e}),c.push({startValue:g,endValue:m,symbol:f[y]});else{var x=_.length-1;m=a[y],f[x]=new o.sfs.CurrencySymbol({fillSymbol:p[x],markerSymbol:i,textSymbol:e}),c.push({startValue:g,endValue:m,symbol:f[x]})}var w=new o.render.ClassBreaksRenderer({symbol:f[0],showLabel:n.label.show||!1,labelField:h,fieldName:l,classfications:c});return this.classifyRender=w},e.prototype.getMinMax=function(t){for(var e=[],i=0;i<t.length;i++)for(var r in t[i])r===this.option.fieldName[1]&&e.push(t[i][r]);var n=Math.max.apply(null,e),o=Math.min.apply(null,e);this.maxDataValue=n>this.maxDataValue?n:this.maxDataValue,this.minDataValue=o<this.minDataValue?o:this.minDataValue},e}(i(77).BoundaryBaseChart);e.BoundarysTimeLineChart=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(7),n=function(){function t(t,e,i){this.auto=!1,this.timer=null,this.index=0,this.times=e,this.option=i,this.defaultOption(),this.createDom(t),this.setTime()}return t.prototype.defaultOption=function(){var t=this.option;this.option=t,this.auto=this.option.animate.auto,this.duration=this.option.animate.duration},t.prototype.createDom=function(t){this.zr=r.init(t);var e=new r.Group,i=new r.Circle({style:{fill:this.option.fillStyle,lineWidth:2},shape:{cx:120,cy:112,r:8}});this.circleCurr=i;var n=this.playDraw("M501.282133 22.801067c263.509333 0 477.866667 214.357333 477.866667 477.866666s-214.357333 477.866667-477.866667 477.866667-477.866667-214.357333-477.866666-477.866667 214.357333-477.866667 477.866666-477.866666z m0 887.1936a409.8048 409.8048 0 0 0 409.258667-409.326934A409.8048 409.8048 0 0 0 501.282133 91.477333a409.8048 409.8048 0 0 0-409.326933 409.258667 409.8048 409.8048 0 0 0 409.326933 409.326933zM413.2864 317.0304c19.456 0 35.362133 13.653333 35.362133 30.583467v306.107733c0 16.861867-15.837867 30.583467-35.362133 30.583467-19.592533 0-35.498667-13.653333-35.498667-30.583467V347.613867c0-16.930133 15.9744-30.583467 35.498667-30.583467z m175.991467 0c-19.592533 0-35.4304 13.653333-35.4304 30.583467v306.107733c0 16.861867 15.7696 30.583467 35.4304 30.583467 19.592533 0 35.4304-13.653333 35.4304-30.583467V347.613867c0-16.930133-15.906133-30.583467-35.498667-30.583467z"),o=this.playDraw("M512 1024C229.236364 1024 0 794.763636 0 512S229.236364 0 512 0s512 229.236364 512 512-229.236364 512-512 512z m0-46.545455c257.070545 0 465.454545-208.384 465.454545-465.454545S769.070545 46.545455 512 46.545455 46.545455 254.929455 46.545455 512s208.384 465.454545 465.454545 465.454545z m170.170182-446.324363L443.810909 696.180364a23.272727 23.272727 0 0 1-36.514909-19.153455V346.996364a23.272727 23.272727 0 0 1 36.538182-19.153455l238.359273 165.050182a23.272727 23.272727 0 0 1 0 38.260364z"),a=this.leftDraw(),s=this.circlesDraw();s.add(this.circleCurr);var l=this.textsDraw(),h=this.rightDraw();e.add(n),e.add(o),e.add(a),e.add(s),e.add(l),e.add(h),this.zr.add(e),this.auto?this.playStyle(n,o):this.stopStyle(n,o);var c=this;n.childAt(0).on("click",function(){c.playStyle(n,o),c.auto=!0,clearInterval(c.timer),c.setTime()}),o.childAt(0).on("click",function(){c.stopStyle(n,o),c.auto=!1,clearInterval(c.timer)}),this.leftEvent(a),this.rightEvent(h)},t.prototype.playDraw=function(t){var e=new r.Group({gvId:"play"}),i=new r.Rect({style:{fill:"rgba(0,0,0,0)"},shape:{width:25,height:25,x:50,y:100},rectHover:!0,zlevel:1}),n=new r.Path(r.path.createFromString(t,{style:{fill:"rgba(0,0,0,0)"},zlevel:0})),o=n.getBoundingRect().calculateTransform({x:2,y:4,width:1,height:1});return n.applyTransform(o),n.scale=[25,25],e.add(i),e.add(n),e},t.prototype.leftDraw=function(){var t=new r.Path(r.path.createFromString("M366.32213 511.145539l377.388162-377.387139c15.865339-15.852036 15.865339-41.571814 0-57.422828-15.864316-15.864316-41.557488-15.864316-57.421804 0l-406.100088 406.099065c-15.864316 15.852036-15.864316 41.570791 0 57.421804l406.100088 406.100088c7.93267 7.93267 18.315134 11.899004 28.711926 11.899005 10.381441 0 20.778232-3.966335 28.710902-11.899005 15.865339-15.851013 15.865339-41.571814 0-57.422827L366.32213 511.145539z",{style:{fill:this.option.fillStyle},zlevel:0})),e=t.getBoundingRect().calculateTransform({x:9,y:4,width:1,height:1});return t.applyTransform(e),t.scale=[10,25],t},t.prototype.textsDraw=function(){for(var t=new r.Group({gvId:"texts",timeCurrent:!1}),e=0;e<this.times.length;e++){var i=new r.Text({style:{text:this.times[e],textAlign:this.option.textStyle.align,fontSize:this.option.textStyle.fontSize,textStroke:this.option.textStyle.lineWidth,textFill:this.option.textStyle.fillStyle},position:[120+e*this.option.padding,132],z2:3});t.add(i)}return t},t.prototype.circlesDraw=function(){for(var t=new r.Group({gvId:"circles",timeCurrent:!1}),e=function(e){var n=i,o=new r.Circle({style:{fill:"none",stroke:i.option.fillStyle},shape:{cx:120+e*i.option.padding,cy:112,r:5}});o.on("click",function(t){n.index=e,n.circleCurr.attr({shape:{cx:120+n.option.padding*n.index}})}),t.add(o)},i=this,n=0;n<this.times.length;n++)e(n);return t},t.prototype.rightDraw=function(){var t=new r.Path(r.path.createFromString("M383.913984 960.290816L830.267392 513.959936 384.041984 64.30924801 321.947648 125.892608 706.802688 513.703936 322.074624 898.451456Z",{style:{fill:this.option.fillStyle},zlevel:0})),e=t.getBoundingRect().calculateTransform({x:(120+(this.times.length-1)*this.option.padding+20)/10,y:4,width:1,height:1});return t.applyTransform(e),t.scale=[10,25],t},t.prototype.leftEvent=function(t){var e=this;t.on("click",function(){clearInterval(e.timer),e.index<=0?e.index=e.times.length-1:e.index--,e.circleCurr.attr({shape:{cx:120+e.option.padding*e.index}}),e.setTime()})},t.prototype.rightEvent=function(t){var e=this;t.on("click",function(){clearInterval(e.timer),e.index<e.times.length-1?e.index++:e.index=0,e.circleCurr.attr({shape:{cx:120+e.option.padding*e.index}}),e.setTime()})},t.prototype.setTime=function(){var t=this;!0===this.auto&&(t.timer=setInterval(function(){t.index<t.times.length-1?t.index++:t.index=0,t.circleCurr.attr({shape:{cx:120+t.option.padding*t.index}})},1e3*this.duration))},t.prototype.playStyle=function(t,e){e.childAt(0).attr({zlevel:2}),t.childAt(0).attr({zlevel:1}),e._children[1].attr({style:{fill:"rgba(0,0,0,0)"},zlevel:1}),t._children[1].attr({style:{fill:this.option.fillStyle},zlevel:0})},t.prototype.stopStyle=function(t,e){t.childAt(0).attr({zlevel:2}),e.childAt(0).attr({zlevel:1}),t._children[1].attr({style:{fill:"rgba(0,0,0,0)"},zlevel:1}),e._children[1].attr({style:{fill:this.option.fillStyle},zlevel:0})},t.prototype.getIndex=function(){return this.index},t.prototype.close=function(){clearInterval(this.timer),r.dispose(this.zr)},t}();e.TimeLine=n}])});